---
title: 시스템 데이터베이스 백업 및 복원(SQL Server) | Microsoft 문서
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- system databases [SQL Server], backing up and restoring
- restoring system databases [SQL Server]
- backing up [SQL Server], system databases
- database backups [SQL Server], system databases
- servers [SQL Server], backup
ms.assetid: aef0c4fa-ba67-413d-9359-1a67682fdaab
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 51ccf1aeadcf4ab9a662cdd629a812d3ee4b82aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87661201"
---
# <a name="back-up-and-restore-of-system-databases-sql-server"></a><span data-ttu-id="0b7de-102">시스템 데이터베이스 백업 및 복원(SQL Server)</span><span class="sxs-lookup"><span data-stu-id="0b7de-102">Back Up and Restore of System Databases (SQL Server)</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="0b7de-103">는 서버 인스턴스의 작업에 필수적인*시스템 데이터베이스*라는 시스템 수준 데이터베이스의 집합을 유지 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-103">maintains a set of system-level databases, s*ystem databases*, which are essential for the operation of a server instance.</span></span> <span data-ttu-id="0b7de-104">모든 중요한 업데이트 후에는 여러 시스템 데이터베이스를 백업해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-104">Several of the system databases must be backed up after every significant update.</span></span> <span data-ttu-id="0b7de-105">항상 백업해야 하는 시스템 데이터베이스에는 **msdb**, **master**및 **model**이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-105">The system databases that you must always back up include **msdb**, **master**, and **model**.</span></span> <span data-ttu-id="0b7de-106">데이터베이스가 서버 인스턴스에서 복제를 사용할 경우 **배포** 시스템 데이터베이스도 백업해야 하며</span><span class="sxs-lookup"><span data-stu-id="0b7de-106">If any database uses replication on the server instance, there is a **distribution** system database that you must also back up.</span></span> <span data-ttu-id="0b7de-107">이러한 시스템 데이터베이스를 백업하면 하드 디스크 손실과 같은 시스템 오류 이벤트에서 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 시스템을 복원 및 복구할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-107">Backups of these system databases let you restore and recover the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system in the event of system failure, such as the loss of a hard disk.</span></span>  
  
 <span data-ttu-id="0b7de-108">다음 표에서는 모든 시스템 데이터베이스를 요약합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-108">The following table summarizes all of the system databases.</span></span>  
  
|<span data-ttu-id="0b7de-109">시스템 데이터베이스</span><span class="sxs-lookup"><span data-stu-id="0b7de-109">System database</span></span>|<span data-ttu-id="0b7de-110">Description</span><span class="sxs-lookup"><span data-stu-id="0b7de-110">Description</span></span>|<span data-ttu-id="0b7de-111">백업 필요 여부</span><span class="sxs-lookup"><span data-stu-id="0b7de-111">Are backups required?</span></span>|<span data-ttu-id="0b7de-112">복구 모델</span><span class="sxs-lookup"><span data-stu-id="0b7de-112">Recovery model</span></span>|<span data-ttu-id="0b7de-113">주석</span><span class="sxs-lookup"><span data-stu-id="0b7de-113">Comments</span></span>|  
|---------------------|-----------------|---------------------------|--------------------|--------------|  
|[<span data-ttu-id="0b7de-114">master</span><span class="sxs-lookup"><span data-stu-id="0b7de-114">master</span></span>](../databases/master-database.md)|<span data-ttu-id="0b7de-115">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 시스템의 모든 시스템 수준 정보를 기록하는 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-115">The database that records all of the system level information for a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system.</span></span>|<span data-ttu-id="0b7de-116">예</span><span class="sxs-lookup"><span data-stu-id="0b7de-116">Yes</span></span>|<span data-ttu-id="0b7de-117">간단한</span><span class="sxs-lookup"><span data-stu-id="0b7de-117">Simple</span></span>|<span data-ttu-id="0b7de-118">업무상 데이터 보호가 특별히 요구되는 경우 **master** 를 필요한 만큼 자주 백업하십시오.</span><span class="sxs-lookup"><span data-stu-id="0b7de-118">Back up **master** as often as necessary to protect the data sufficiently for your business needs.</span></span> <span data-ttu-id="0b7de-119">정기 백업 일정을 사용하고 중요한 업데이트 후에는 추가 백업으로 보완하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-119">We recommend a regular backup schedule, which you can supplement with an additional backup after a substantial update.</span></span>|  
|[<span data-ttu-id="0b7de-120">model</span><span class="sxs-lookup"><span data-stu-id="0b7de-120">model</span></span>](../databases/model-database.md)|<span data-ttu-id="0b7de-121">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]인스턴스에서 생성되는 모든 데이터베이스용 템플릿입니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-121">The template for all databases that are created on the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="0b7de-122">예</span><span class="sxs-lookup"><span data-stu-id="0b7de-122">Yes</span></span>|<span data-ttu-id="0b7de-123">사용자 구성 가능<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0b7de-123">User configurable<sup>1</sup></span></span>|<span data-ttu-id="0b7de-124">해당 데이터베이스 옵션을 사용자 지정한 후 즉시 백업하는 경우와 같이 업무상 필요한 경우에만 **model** 을 백업합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-124">Back up **model** only when necessary for your business needs; for example, immediately after customizing its database options.</span></span><br /><br /> <span data-ttu-id="0b7de-125">**최선의 구현 방법:** 필요에 따라 **모델**의 전체 데이터베이스 백업만 만드는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-125">**Best practice:** We recommend that you create only full database backups of **model**, as required.</span></span> <span data-ttu-id="0b7de-126">**model** 은 작고 거의 변경되지 않으므로 로그를 백업할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-126">Because **model** is small and rarely changes, backing up the log is unnecessary.</span></span>|  
|[<span data-ttu-id="0b7de-127">msdb</span><span class="sxs-lookup"><span data-stu-id="0b7de-127">msdb</span></span>](../databases/msdb-database.md)|<span data-ttu-id="0b7de-128">경고 및 작업을 예약하고 운영자를 기록하기 위해 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에이전트가 사용하는 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-128">The database used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent for scheduling alerts and jobs, and for recording operators.</span></span> <span data-ttu-id="0b7de-129">**msdb** 는 백업 및 복원 기록 테이블과 같은 기록 테이블도 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-129">**msdb** also contains history tables such as the backup and restore history tables.</span></span>|<span data-ttu-id="0b7de-130">예</span><span class="sxs-lookup"><span data-stu-id="0b7de-130">Yes</span></span>|<span data-ttu-id="0b7de-131">단순(기본값)</span><span class="sxs-lookup"><span data-stu-id="0b7de-131">Simple (default)</span></span>|<span data-ttu-id="0b7de-132">**msdb** 가 업데이트될 때마다 백업하십시오.</span><span class="sxs-lookup"><span data-stu-id="0b7de-132">Back up **msdb** whenever it is updated.</span></span>|  
|<span data-ttu-id="0b7de-133">[리소스](../databases/resource-database.md) (RDB)</span><span class="sxs-lookup"><span data-stu-id="0b7de-133">[Resource](../databases/resource-database.md) (RDB)</span></span>|<span data-ttu-id="0b7de-134">다음과 함께 제공되는 모든 시스템 개체의 복사본이 포함된 읽기 전용 데이터베이스입니다. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="0b7de-134">A read-only database that contains copies of all system objects that ship with [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|<span data-ttu-id="0b7de-135">예</span><span class="sxs-lookup"><span data-stu-id="0b7de-135">No</span></span>|-|<span data-ttu-id="0b7de-136">**리소스** 데이터베이스는 코드만 포함하는 mssqlsystemresource.mdf 파일에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-136">The **Resource** database resides in the mssqlsystemresource.mdf file, which contains only code.</span></span> <span data-ttu-id="0b7de-137">따라서 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서는 **리소스** 데이터베이스를 백업할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-137">Therefore, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot back up the **Resource** database.</span></span><br /><br /> <span data-ttu-id="0b7de-138">참고: mssqlsystemresource.mdf 파일을 데이터베이스 파일이 아니라 이진 파일(.exe)로 처리하여 파일 기반 백업 또는 디스크 기반 백업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-138">Note: You can perform a file-based or a disk-based backup on the mssqlsystemresource.mdf file by treating the file as if it were a binary (.exe) file, instead of a database file.</span></span> <span data-ttu-id="0b7de-139">그러나 이러한 백업에 대해 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 복원은 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-139">But you cannot use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] restore on the backups.</span></span> <span data-ttu-id="0b7de-140">수동으로만 mssqlsystemresource.mdf 백업 복사본을 복원할 수 있으며 현재 **Resource** 데이터베이스를 오래된 버전이나 안전하지 않은 버전으로 덮어쓰지 않도록 주의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-140">Restoring a backup copy of mssqlsystemresource.mdf can only be done manually, and you must be careful not to overwrite the current **Resource** database with an out-of-date or potentially insecure version.</span></span>|  
|[<span data-ttu-id="0b7de-141">tempdb</span><span class="sxs-lookup"><span data-stu-id="0b7de-141">tempdb</span></span>](../databases/tempdb-database.md)|<span data-ttu-id="0b7de-142">임시 또는 중간 결과 집합을 유지하기 위한 작업 영역입니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-142">A workspace for holding temporary or intermediate result sets.</span></span> <span data-ttu-id="0b7de-143">이 데이터베이스는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스가 시작될 때마다 다시 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-143">This database is re-created every time an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is started.</span></span> <span data-ttu-id="0b7de-144">서버 인스턴스가 종료될 때 **tempdb** 에 있는 모든 데이터는 영구적으로 삭제됩니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-144">When the server instance is shut down, any data in **tempdb** is deleted permanently.</span></span>|<span data-ttu-id="0b7de-145">예</span><span class="sxs-lookup"><span data-stu-id="0b7de-145">No</span></span>|<span data-ttu-id="0b7de-146">간단한</span><span class="sxs-lookup"><span data-stu-id="0b7de-146">Simple</span></span>|<span data-ttu-id="0b7de-147">**tempdb** 시스템 데이터베이스는 백업할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-147">You cannot back up the **tempdb** system database.</span></span>|  
|[<span data-ttu-id="0b7de-148">배포 구성</span><span class="sxs-lookup"><span data-stu-id="0b7de-148">Configure Distribution</span></span>](../replication/configure-distribution.md)|<span data-ttu-id="0b7de-149">서버가 복제 배포자로 구성된 경우에만 존재하는 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-149">A database that exists only if the server is configured as a replication Distributor.</span></span> <span data-ttu-id="0b7de-150">이 데이터베이스는 모든 유형의 복제 및 트랜잭션(트랜잭션 복제의 경우)에 대한 메타데이터 및 기록 데이터를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-150">This database stores metadata and history data for all types of replication, and transactions for transactional replication.</span></span>|<span data-ttu-id="0b7de-151">예</span><span class="sxs-lookup"><span data-stu-id="0b7de-151">Yes</span></span>|<span data-ttu-id="0b7de-152">간단한</span><span class="sxs-lookup"><span data-stu-id="0b7de-152">Simple</span></span>|<span data-ttu-id="0b7de-153">**distribution** 데이터베이스의 백업 시기는 [복제된 데이터베이스 백업 및 복원](../replication/administration/back-up-and-restore-replicated-databases.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0b7de-153">For information about when to back up the **distribution** database, see [Back Up and Restore Replicated Databases](../replication/administration/back-up-and-restore-replicated-databases.md).</span></span>|  
  
 <span data-ttu-id="0b7de-154"><sup>1</sup> 모델의 현재 복구 모델을 확인 하려면 [데이터베이스의 복구 모델 보기 또는 변경 &#40;SQL Server&#41;](view-or-change-the-recovery-model-of-a-database-sql-server.md) 또는 [&#40;transact-sql&#41;](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql)을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="0b7de-154"><sup>1</sup> To learn the current recovery model of the model, see [View or Change the Recovery Model of a Database &#40;SQL Server&#41;](view-or-change-the-recovery-model-of-a-database-sql-server.md) or [sys.databases &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql).</span></span>  
  
## <a name="limitations-on-restoring-system-databases"></a><span data-ttu-id="0b7de-155">시스템 데이터베이스 복원의 제한 사항</span><span class="sxs-lookup"><span data-stu-id="0b7de-155">Limitations on Restoring System Databases</span></span>  
  
-   <span data-ttu-id="0b7de-156">시스템 데이터베이스는 서버 인스턴스가 현재 실행 중인 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 버전에서 생성된 백업에서만 복원될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-156">System databases can be restored only from backups that are created on the version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that the server instance is currently running.</span></span> <span data-ttu-id="0b7de-157">예를 들어 s p 1에서 실행 중인 서버 인스턴스에서 시스템 데이터베이스를 복원 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-157">For example, to restore a system database on a server instance that is running on [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP1.</span></span>  
  
-   <span data-ttu-id="0b7de-158">데이터베이스를 복원하려면 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스가 실행 중이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-158">To restore any database, the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be running.</span></span> <span data-ttu-id="0b7de-159">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스를 시작하려면 **master** 데이터베이스에 액세스할 수 있고 최소한 부분적으로 사용할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-159">Startup of an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] requires that the **master** database is accessible and at least partly usable.</span></span> <span data-ttu-id="0b7de-160">**master** 를 사용할 수 없게 된 경우 다음 방법 중 하나로 데이터베이스를 사용 가능한 상태로 되돌릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-160">If **master** becomes unusable, you can return the database to a usable state in either of the following ways:</span></span>  
  
    -   <span data-ttu-id="0b7de-161">현재 데이터베이스 백업에서 **master** 를 복원합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-161">Restore **master** from a current database backup.</span></span>  
  
         <span data-ttu-id="0b7de-162">서버 인스턴스를 시작할 수 있으면 전체 데이터베이스 백업에서 **master** 를 복원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-162">If you can start the server instance, you should be able to restore **master** from a full database backup.</span></span>  
  
    -   <span data-ttu-id="0b7de-163">**master** 를 완전히 다시 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-163">Rebuild **master** completely.</span></span>  
  
         <span data-ttu-id="0b7de-164">**master** 에 발생한 심각한 손상으로 인해 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]를 시작할 수 없는 경우에는 **master**를 다시 작성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-164">If severe damage to **master** prevents you from starting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you must rebuild **master**.</span></span> <span data-ttu-id="0b7de-165">자세한 내용은 [시스템 데이터베이스 다시 작성](../databases/system-databases.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0b7de-165">For more information, see [Rebuild System Databases](../databases/system-databases.md).</span></span>  
  
        > [!IMPORTANT]  
        >  <span data-ttu-id="0b7de-166">**master** 를 다시 작성하면 모든 시스템 데이터베이스가 다시 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-166">Rebuilding **master** rebuilds all of the system databases.</span></span>  
  
-   <span data-ttu-id="0b7de-167">model 데이터베이스 복구를 위해 시스템 데이터베이스를 다시 작성하거나 model 데이터베이스에 대한 mdf 및 ldf 파일을 바꿔야 하는 경우도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0b7de-167">Under some circumstances, problems recovering the model database may require rebuilding the system databases or replacing the mdf and ldf files for the model database.</span></span> <span data-ttu-id="0b7de-168">자세한 내용은 [시스템 데이터베이스 다시 작성](../databases/system-databases.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0b7de-168">For more information, see [Rebuild System Databases](../databases/system-databases.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="0b7de-169">관련 작업</span><span class="sxs-lookup"><span data-stu-id="0b7de-169">Related Tasks</span></span>  
  
-   [<span data-ttu-id="0b7de-170">전체 데이터베이스 백업 만들기&#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="0b7de-170">Create a Full Database Backup &#40;SQL Server&#41;</span></span>](create-a-full-database-backup-sql-server.md)  
  
-   [<span data-ttu-id="0b7de-171">전체 데이터베이스 복원&#40;단순 복구 모델&#41;</span><span class="sxs-lookup"><span data-stu-id="0b7de-171">Complete Database Restores &#40;Simple Recovery Model&#41;</span></span>](complete-database-restores-simple-recovery-model.md)  
  
-   [<span data-ttu-id="0b7de-172">master 데이터베이스 복원&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="0b7de-172">Restore the master Database &#40;Transact-SQL&#41;</span></span>](restore-the-master-database-transact-sql.md)  
  
-   [<span data-ttu-id="0b7de-173">데이터베이스 복구 모델 보기 또는 변경&#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="0b7de-173">View or Change the Recovery Model of a Database &#40;SQL Server&#41;</span></span>](view-or-change-the-recovery-model-of-a-database-sql-server.md)  
  
-   [<span data-ttu-id="0b7de-174">시스템 데이터베이스 이동</span><span class="sxs-lookup"><span data-stu-id="0b7de-174">Move System Databases</span></span>](../databases/move-system-databases.md)  
  
## <a name="see-also"></a><span data-ttu-id="0b7de-175">참고 항목</span><span class="sxs-lookup"><span data-stu-id="0b7de-175">See Also</span></span>  
 <span data-ttu-id="0b7de-176">[배포 데이터베이스](../../relational-databases/replication/distribution-database.md) </span><span class="sxs-lookup"><span data-stu-id="0b7de-176">[Distribution Database](../../relational-databases/replication/distribution-database.md) </span></span>  
 <span data-ttu-id="0b7de-177">[master 데이터베이스](../databases/master-database.md) </span><span class="sxs-lookup"><span data-stu-id="0b7de-177">[master Database](../databases/master-database.md) </span></span>  
 <span data-ttu-id="0b7de-178">[msdb 데이터베이스](../databases/msdb-database.md) </span><span class="sxs-lookup"><span data-stu-id="0b7de-178">[msdb Database](../databases/msdb-database.md) </span></span>  
 <span data-ttu-id="0b7de-179">[model 데이터베이스](../databases/model-database.md) </span><span class="sxs-lookup"><span data-stu-id="0b7de-179">[model Database](../databases/model-database.md) </span></span>  
 <span data-ttu-id="0b7de-180">[Resource 데이터베이스](../databases/resource-database.md) </span><span class="sxs-lookup"><span data-stu-id="0b7de-180">[Resource Database](../databases/resource-database.md) </span></span>  
 [<span data-ttu-id="0b7de-181">tempdb 데이터베이스</span><span class="sxs-lookup"><span data-stu-id="0b7de-181">tempdb Database</span></span>](../databases/tempdb-database.md)  
  
  
