---
title: 전체 텍스트 검색 업그레이드 | Microsoft 문서
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text search [SQL Server], installing
- migrating full-text indexes [SQL Server]
- upgrading Full-Text Search
- installing Full-Text Search
- full-text search [SQL Server], upgrading
ms.assetid: 2fee4691-f2b5-472f-8ccc-fa625b654520
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d2bdf0bdee452101bbafb8108426faf6604e7626
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87653255"
---
# <a name="upgrade-full-text-search"></a><span data-ttu-id="434ef-102">전체 텍스트 검색 업그레이드</span><span class="sxs-lookup"><span data-stu-id="434ef-102">Upgrade Full-Text Search</span></span>
  <span data-ttu-id="434ef-103">설치 프로그램을 실행하거나 데이터베이스 복사 마법사를 사용하여 이전 버전의 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 에서 만든 데이터베이스 파일 및 전체 텍스트 카탈로그를 연결, 복원 또는 복사하면 전체 텍스트 검색이 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 로 업그레이드됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-103">Upgrading full-text search to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is done during setup and when database files and full-text catalogs from the earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are attached, restored, or copied using the Copy Database Wizard.</span></span>  
  
 <span data-ttu-id="434ef-104">이 항목에서는 전체 텍스트 검색 업그레이드의 다음과 같은 측면에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-104">This topic discusses the following aspects of upgrading full-text search:</span></span>  
  
-   [<span data-ttu-id="434ef-105">서버 인스턴스 업그레이드</span><span class="sxs-lookup"><span data-stu-id="434ef-105">Upgrading a Server Instance</span></span>](#Upgrade_Server)  
  
-   [<span data-ttu-id="434ef-106">전체 텍스트 업그레이드 옵션</span><span class="sxs-lookup"><span data-stu-id="434ef-106">Full-Text Upgrade Options</span></span>](#FT_Upgrade_Options)  
  
-   [<span data-ttu-id="434ef-107">전체 텍스트 업그레이드 옵션 선택 시 고려 사항</span><span class="sxs-lookup"><span data-stu-id="434ef-107">Considerations for Choosing a Full-Text Upgrade Option</span></span>](#Choosing_Upgade_Option)  
  
-   [<span data-ttu-id="434ef-108">데이터베이스를 SQL Server 2014로 업그레이드할 때 전체 텍스트 인덱스 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="434ef-108">Migrating Full-Text Indexes When Upgrading a Database to SQL Server 2014</span></span>](#Upgrade_Db)  
  
-   [<span data-ttu-id="434ef-109">SQL Server 2005 전체 텍스트 카탈로그를 SQL Server 2014로 복원 시 고려 사항</span><span class="sxs-lookup"><span data-stu-id="434ef-109">Considerations for Restoring a SQL Server 2005 Full-Text Catalog to SQL Server 2014</span></span>](#Considerations_for_Restore)  
  
-   [<span data-ttu-id="434ef-110">SQL Server 2005 데이터베이스를 SQL Server 2014에 연결</span><span class="sxs-lookup"><span data-stu-id="434ef-110">Attaching a SQL Server 2005 database to SQL Server 2014</span></span>](#Attaching_2005_ft_catalogs)  
  
##  <a name="upgrading-a-server-instance"></a><a name="Upgrade_Server"></a><span data-ttu-id="434ef-111">서버 인스턴스 업그레이드</span><span class="sxs-lookup"><span data-stu-id="434ef-111">Upgrading a Server Instance</span></span>  
 <span data-ttu-id="434ef-112">전체 업그레이드를 수행할 수 있도록 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 의 인스턴스가 이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]와 함께 설치되고 데이터가 마이그레이션됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-112">For an in-place upgrade, an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is set up side-by-side with the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and data is migrated.</span></span> <span data-ttu-id="434ef-113">이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에 전체 텍스트 검색이 설치된 경우 새 버전의 전체 텍스트 검색이 자동으로 설치됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-113">If the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] had full-text search installed, a new version of full-text search is automatically installed.</span></span> <span data-ttu-id="434ef-114">함께 설치되었다는 것은 다음과 같은 구성 요소가 각각 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]의 인스턴스 수준에 있음을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-114">Side-by-side install means that each of the following components exists at the instance-level of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="434ef-115">단어 분리기, 형태소 분석기 및 필터</span><span class="sxs-lookup"><span data-stu-id="434ef-115">Word breakers, stemmers, and filters</span></span>  
 <span data-ttu-id="434ef-116">각 인스턴스는 단어 분리기, 형태소 분석기 및 필터의 자체 집합을 사용하며 이러한 구성 요소의 운영 체제 버전에 더 이상 의존하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-116">Each instance now uses its own set of word breakers, stemmers, and filters, rather than relying on the operating system version of these components.</span></span> <span data-ttu-id="434ef-117">또한 이러한 구성 요소를 인스턴스 단위 수준에서 보다 쉽게 등록하고 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-117">These components are also easier to register and configure at a per-instance level.</span></span> <span data-ttu-id="434ef-118">자세한 내용은 [검색을 위해 단어 분리기와 형태소 분석기 구성 및 관리](configure-and-manage-word-breakers-and-stemmers-for-search.md) 및 [검색 필터 구성 및 관리](configure-and-manage-filters-for-search.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-118">For more information, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) and [Configure and Manage Filters for Search](configure-and-manage-filters-for-search.md).</span></span>  
  
 <span data-ttu-id="434ef-119">필터 데몬 호스트</span><span class="sxs-lookup"><span data-stu-id="434ef-119">Filter daemon host</span></span>  
 <span data-ttu-id="434ef-120">전체 텍스트 필터 데몬 호스트는 전체 텍스트 엔진의 무결성을 유지하면서 인덱스 및 쿼리에 사용되는 단어 분리기, 형태소 분석기 및 필터 등의 확장 가능한 외부 구성 요소를 안전하게 로드하고 실행하는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-120">The full-text filter daemon hosts are processes that safely load and drive extensible external components used for index and query, such as word breakers, stemmers, and filters, without compromising the integrity of the Full-Text Engine.</span></span> <span data-ttu-id="434ef-121">서버 인스턴스는 모든 다중 스레드 필터에 대해 다중 스레드 프로세스를 사용하고 모든 단일 스레드 필터에 대해 단일 스레드 프로세스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-121">A server instance uses a multithreaded process for all multithreaded filters and a single-threaded process for all single-threaded filters.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] <span data-ttu-id="434ef-122">에는 FDHOST Launcher 서비스(MSSQLFDLauncher)를 위한 서비스 계정이 도입되었습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-122">introduced a service account for the FDHOST Launcher service (MSSQLFDLauncher).</span></span> <span data-ttu-id="434ef-123">이 서비스는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]의 특정 인스턴스의 필터 데몬 호스트 프로세스에 서비스 계정 정보를 전파합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-123">This service propagates the service account information to the filter daemon host processes of a specific instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="434ef-124">서비스 계정을 설정하는 방법은 [전체 텍스트 필터 데몬 시작 관리자 서비스 계정 설정](set-the-service-account-for-the-full-text-filter-daemon-launcher.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-124">For information about setting the service account, see [Set the Service Account for the Full-text Filter Daemon Launcher](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span></span>  
  
 <span data-ttu-id="434ef-125">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]에서는 각 전체 텍스트 인덱스가 파일 그룹에 속하는 전체 텍스트 카탈로그에 있고 실제 경로를 가지며 데이터베이스 파일로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-125">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="434ef-126">[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 이상 버전에서 전체 텍스트 카탈로그는 전체 텍스트 인덱스의 그룹을 포함하는 논리적 개체 또는 가상 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-126">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical or virtual object that contains a group of full-text indexes.</span></span> <span data-ttu-id="434ef-127">따라서 새로운 전체 텍스트 카탈로그는 실제 경로가 있는 데이터베이스 파일로 취급되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-127">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="434ef-128">그러나 데이터 파일이 들어 있는 전체 텍스트 카탈로그를 업그레이드할 때는 같은 디스크에 새 파일 그룹이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-128">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="434ef-129">따라서 업그레이드 후에도 이전의 디스크 I/O 동작이 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-129">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="434ef-130">루트 경로가 있으면 해당 카탈로그의 전체 텍스트 인덱스가 새 파일 그룹에 배치됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-130">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="434ef-131">이전 전체 텍스트 카탈로그 경로가 유효하지 않으면 업그레이드 과정에서 전체 텍스트 인덱스가 기본 테이블과 같은 파일 그룹에 유지되며, 테이블이 분할된 경우에는 주 파일 그룹에 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-131">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as the base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="434ef-132">[!INCLUDE[tsql](../../includes/tsql-md.md)]전체 텍스트 카탈로그를 지정 하는 DDL 문은 계속 올바르게 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-132">[!INCLUDE[tsql](../../includes/tsql-md.md)] DDL statements that specify full-text catalogs continue to work correctly.</span></span>  
  
##  <a name="full-text-upgrade-options"></a><a name="FT_Upgrade_Options"></a><span data-ttu-id="434ef-133">전체 텍스트 업그레이드 옵션</span><span class="sxs-lookup"><span data-stu-id="434ef-133">Full-Text Upgrade Options</span></span>  
 <span data-ttu-id="434ef-134">서버 인스턴스를 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]로 업그레이드할 때 사용자 인터페이스를 통해 다음과 같은 전체 텍스트 업그레이드 옵션 중 하나를 선택할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-134">When upgrading a server instance to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the user interface allows you to choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="434ef-135">가져오기</span><span class="sxs-lookup"><span data-stu-id="434ef-135">Import</span></span>  
 <span data-ttu-id="434ef-136">전체 텍스트 카탈로그를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-136">Full-text catalogs are imported.</span></span> <span data-ttu-id="434ef-137">일반적으로 가져오기가 다시 작성보다 훨씬 빠릅니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-137">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="434ef-138">예를 들어 CPU를 하나만 사용하는 경우 가져오기가 다시 작성보다 10배 정도 빠릅니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-138">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="434ef-139">그러나 전체 텍스트 카탈로그를 가져오면 최신 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]에 설치된 새 단어 분리기가 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-139">However, an imported full-text catalog does not use the new word breakers installed with the latest version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="434ef-140">쿼리 결과가 일관성이 유지되도록 하려면 전체 텍스트 카탈로그를 다시 작성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-140">To ensure consistency in query results, full-text catalogs have to be rebuilt.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="434ef-141">다시 작성은 다중 스레드 모드로 실행할 수 있으므로 CPU를 11개 이상 사용할 수 있는 경우 다시 작성에서 모든 CPU를 사용할 수 있게 설정하면 다시 작성이 가져오기보다 빠르게 실행될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-141">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="434ef-142">전체 텍스트 카탈로그를 사용할 수 없는 경우 연결된 전체 텍스트 인덱스가 다시 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-142">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="434ef-143">이 옵션은 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 데이터베이스에 대해서만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-143">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="434ef-144">전체 텍스트 인덱스를 가져오는 데 따르는 영향에 대한 자세한 내용은 이 항목의 뒷부분에 나오는 "전체 텍스트 업그레이드 옵션 선택 시 고려 사항"을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="434ef-144">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="434ef-145">다시 빌드</span><span class="sxs-lookup"><span data-stu-id="434ef-145">Rebuild</span></span>  
 <span data-ttu-id="434ef-146">향상된 새로운 단어 분리기를 사용하여 전체 텍스트 카탈로그를 다시 작성합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-146">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="434ef-147">인덱스를 다시 작성하면 시간이 오래 걸릴 수 있으며 업그레이드 후 CPU 및 메모리가 많이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-147">Rebuilding indexes can take a while, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="434ef-148">다시 설정</span><span class="sxs-lookup"><span data-stu-id="434ef-148">Reset</span></span>  
 <span data-ttu-id="434ef-149">전체 텍스트 카탈로그를 다시 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-149">Full-text catalogs are reset.</span></span> <span data-ttu-id="434ef-150">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]에서 업그레이드할 때는 전체 텍스트 카탈로그 파일이 제거되지만 전체 텍스트 카탈로그 및 전체 텍스트 인덱스의 메타데이터는 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-150">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="434ef-151">업그레이드가 끝나면 모든 전체 텍스트 인덱스의 변경 내용 추적이 해제되고 탐색이 자동으로 시작되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-151">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="434ef-152">업그레이드가 완료된 후 전체 채우기를 수동으로 실행할 때까지 카탈로그가 비어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-152">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
##  <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><a name="Choosing_Upgade_Option"></a><span data-ttu-id="434ef-153">전체 텍스트 업그레이드 옵션 선택 시 고려 사항</span><span class="sxs-lookup"><span data-stu-id="434ef-153">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="434ef-154">업그레이드 옵션을 선택할 때는 다음 사항을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-154">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="434ef-155">쿼리 결과의 일관성을 보장하는 것은 중요한 일입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-155">Do you require consistency in query results?</span></span>  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="434ef-156">는 전체 텍스트 및 의미 체계 검색에서 사용할 새로운 단어 분리기를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-156">installs new word breakers for use by Full-Text and Semantic Search.</span></span> <span data-ttu-id="434ef-157">단어 분리기는 인덱싱 및 쿼리 시에 모두 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-157">The word breakers are used both at indexing time and at query time.</span></span> <span data-ttu-id="434ef-158">전체 텍스트 카탈로그를 다시 작성하지 않으면 검색 결과가 일관적이지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-158">If you do not rebuild the full-text catalogs, your search results may be inconsistent.</span></span> <span data-ttu-id="434ef-159">이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 의 단어 분리기와 현재 단어 분리기에서 다르게 분리되는 구를 찾는 전체 텍스트 쿼리를 실행하면 해당 구가 포함된 문서 또는 행이 검색되지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-159">If you issue a full-text query that looks for a phrase that is broken differently by the word breaker in a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and the current word breaker, a document or row containing the phrase might not be retrieved.</span></span> <span data-ttu-id="434ef-160">그 이유는 인덱싱된 구가 현재 사용되는 쿼리와 다른 논리를 사용하여 분리되었기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-160">This is because the indexed phrases were broken using different logic than the query is using.</span></span> <span data-ttu-id="434ef-161">이를 해결하려면 인덱스 시 및 쿼리 시 동작이 동일하도록 새 단어 분리기를 사용하여 전체 텍스트 카탈로그를 다시 채우면(다시 작성하면) 됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-161">The solution is to repopulate (rebuild) the full-text catalogs with the new word breakers so that index time and query time behavior are identical.</span></span> <span data-ttu-id="434ef-162">Rebuild 옵션을 선택하여 이 작업을 수행하거나 Import 옵션을 선택한 후 수동으로 다시 작성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-162">You can choose the Rebuild option to accomplish this, or you can rebuild manually after choosing the Import option.</span></span>  
  
-   <span data-ttu-id="434ef-163">정수 전체 텍스트 키 열에 작성된 전체 텍스트 인덱스가 있는지 여부</span><span class="sxs-lookup"><span data-stu-id="434ef-163">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="434ef-164">다시 작성할 때 내부 최적화가 수행되어 업그레이드된 전체 텍스트 인덱스의 쿼리 성능이 향상되는 경우가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-164">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="434ef-165">특히 전체 텍스트 카탈로그에 기본 테이블의 전체 텍스트 키 열이 정수 데이터 형식인 전체 텍스트 인덱스가 있는 경우 다시 작성을 통해 업그레이드 후 전체 텍스트 쿼리의 성능을 극대화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-165">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="434ef-166">이러한 경우 **다시 작성** 옵션을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-166">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="434ef-167">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]의 전체 텍스트 인덱스에서 전체 텍스트 키로 사용하는 열을 정수 데이터 형식으로 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-167">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="434ef-168">자세한 내용은 [전체 텍스트 인덱스 성능 향상](improve-the-performance-of-full-text-indexes.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-168">For more information, see [Improve the Performance of Full-Text Indexes](improve-the-performance-of-full-text-indexes.md).</span></span>  
  
-   <span data-ttu-id="434ef-169">서버 인스턴스를 온라인 상태로 만들기의 중요도</span><span class="sxs-lookup"><span data-stu-id="434ef-169">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="434ef-170">업그레이드 도중 가져오기나 다시 작성을 수행할 경우 CPU 리소스가 많이 사용되어 서버 인스턴스의 나머지 부분을 업그레이드하고 온라인 상태로 만드는 작업이 지연됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-170">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="434ef-171">서버 인스턴스를 최대한 빨리 온라인 상태로 만들어야 하며 업그레이드 후 수동 채우기를 실행할 수 있는 경우 **다시 설정** 옵션이 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-171">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="ensuring-consistent-query-results-after-importing-a-sql-server-2005-full-text-index"></a><span data-ttu-id="434ef-172">SQL Server 2005 전체 텍스트 인덱스를 가져온 후 일관된 쿼리 결과 보장</span><span class="sxs-lookup"><span data-stu-id="434ef-172">Ensuring Consistent Query Results after Importing a SQL Server 2005 Full-Text Index</span></span>  
 <span data-ttu-id="434ef-173">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 데이터베이스를 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]로 업그레이드할 때 전체 텍스트 카탈로그를 가져온 경우 이전 단어 분리기와 새 단어 분리기의 동작이 약간 다르므로 쿼리와 전체 텍스트 인덱스 내용이 일치하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-173">If a full-text catalog was imported when upgrading a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], mismatches between the query and the full-text index content might occur because of differences in the behavior of the old and new word breakers.</span></span> <span data-ttu-id="434ef-174">이러한 경우 쿼리와 전체 텍스트 인덱스 내용이 완전히 일치하게 하려면 다음 옵션 중 하나를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-174">In this case, to guarantee a total match between queries and the full-text index content, choose one of the following options:</span></span>  
  
-   <span data-ttu-id="434ef-175">전체 텍스트 인덱스가 들어 있는 전체 텍스트 카탈로그를 다시 작성([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span><span class="sxs-lookup"><span data-stu-id="434ef-175">Rebuild the full-text catalog that contains the full-text index ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span></span>  
  
-   <span data-ttu-id="434ef-176">전체 텍스트 인덱스에 대해 FULL POPULATION 실행([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION)</span><span class="sxs-lookup"><span data-stu-id="434ef-176">Issue a FULL POPULATION on the full-text index ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION).</span></span>  
  
 <span data-ttu-id="434ef-177">단어 분리기에 대한 자세한 내용은 [검색을 위해 단어 분리기와 형태소 분석기 구성 및 관리](configure-and-manage-word-breakers-and-stemmers-for-search.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-177">For more information about word breakers, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span></span>  
  
## <a name="upgrading-noise-word-files-to-stoplists"></a><span data-ttu-id="434ef-178">의미 없는 단어 파일을 중지 목록으로 업그레이드</span><span class="sxs-lookup"><span data-stu-id="434ef-178">Upgrading Noise-Word Files to Stoplists</span></span>  
 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="434ef-179">의 의미 없는 단어가 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 이후 버전에서는 중지 단어로 바뀌었습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-179">noise words have been replaced by stopwords in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="434ef-180">데이터베이스를 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 에서 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]로 업그레이드하면 의미 없는 단어 파일이 더 이상 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-180">When a database is upgraded to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the noise-word files are no longer used.</span></span> <span data-ttu-id="434ef-181">그러나 이전에 사용된 의미 없는 단어 파일이 FTDATA\ FTNoiseThesaurusBak 폴더에 저장되므로 나중에 해당 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 중지 목록을 업데이트하거나 새로 작성할 때 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-181">However, the old noise-word files are stored in the FTDATA\ FTNoiseThesaurusBak folder, and you can use them later when updating or building the corresponding [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] stoplists.</span></span>  
  
 <span data-ttu-id="434ef-182">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]에서 업그레이드한 후</span><span class="sxs-lookup"><span data-stu-id="434ef-182">After upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="434ef-183">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]설치에서 의미 없는 단어 파일을 추가, 수정 또는 삭제하지 않은 경우 시스템 중지 목록에서 사용자의 요구 사항을 충족해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-183">If you never added, modified, or deleted any noise-word files in your installation of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the system stoplist should meet your needs.</span></span>  
  
-   <span data-ttu-id="434ef-184">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]에서 의미 없는 단어 파일이 수정되었으면 이러한 수정 사항은 업그레이드 동안 손실됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-184">If your noise-word files were modified in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], those modifications are lost during upgrade.</span></span> <span data-ttu-id="434ef-185">이러한 업데이트를 다시 만들려면 해당 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 중지 목록에서 이러한 수정 사항을 수동으로 다시 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-185">To re-create those updates, you must manually recreate those modifications in the corresponding [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] stoplist.</span></span> <span data-ttu-id="434ef-186">자세한 내용은 [ALTER FULLTEXT STOPLIST&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-186">For more information, see [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span></span>  
  
-   <span data-ttu-id="434ef-187">전체 텍스트 인덱스에 아무 중지 단어도 적용하지 않으려면(예를 들어 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 설치에서 의미 없는 단어 파일을 삭제하거나 지운 경우) 업그레이드된 각 전체 텍스트 인덱스에 대해 중지 목록 설정을 해제해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-187">If you do not want to apply any stopwords to your full-text indexes (for example, if you deleted or erased your noise-word files in your [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] installation), you must turn off the stoplist for each upgraded full-text index.</span></span> <span data-ttu-id="434ef-188">다음 [!INCLUDE[tsql](../../includes/tsql-md.md)] 문을 실행합니다( *database* 를 업그레이드된 데이터베이스의 이름으로 바꾸고 *table* 을 *table*이름으로 바꿈).</span><span class="sxs-lookup"><span data-stu-id="434ef-188">Run the following [!INCLUDE[tsql](../../includes/tsql-md.md)] statement (replacing *database* with the name of the upgraded database and *table* with the name of the *table*):</span></span>  
  
    ```  
    Use database;   
    ALTER FULLTEXT INDEX ON table  
       SET STOPLIST OFF;  
    GO  
    ```  
  
     <span data-ttu-id="434ef-189">STOPLIST OFF 절은 중지 단어 필터링을 제거하고, 의미가 없는 것으로 간주되는 단어를 필터링하지 않고 테이블 채우기를 트리거합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-189">The STOPLIST OFF clause removes stop-word filtering, and it will trigger a population of the table, without filtering any words considered to be noise.</span></span>  
  
## <a name="backup-and-imported-full-text-catalogs"></a><span data-ttu-id="434ef-190">전체 텍스트 카탈로그 백업 및 가져오기</span><span class="sxs-lookup"><span data-stu-id="434ef-190">Backup and Imported Full-Text Catalogs</span></span>  
 <span data-ttu-id="434ef-191">업그레이드 도중 다시 작성되거나 다시 설정된 전체 텍스트 카탈로그 및 새로 작성된 전체 텍스트 카탈로그는 논리적인 개념이며 파일 그룹에 존재하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-191">For full-text catalogs that are rebuilt or reset during upgrade (and for new full-text catalogs), the fulltext catalog is a logical concept and does not reside in a filegroup.</span></span> <span data-ttu-id="434ef-192">따라서 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]에서 전체 텍스트 카탈로그를 백업하려면 카탈로그의 전체 텍스트 인덱스가 들어 있는 파일 그룹을 모두 확인하여 하나씩 백업해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-192">Therefore, to back up a full-text catalog in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must identify every filegroup that contains a full-text index of the catalog and back each of them up, one by one.</span></span> <span data-ttu-id="434ef-193">자세한 내용은 [전체 텍스트 카탈로그와 인덱스 백업 및 복원](back-up-and-restore-full-text-catalogs-and-indexes.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-193">For more information, see [Back Up and Restore Full-Text Catalogs and Indexes](back-up-and-restore-full-text-catalogs-and-indexes.md).</span></span>  
  
 <span data-ttu-id="434ef-194">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]에서 가져온 전체 텍스트 카탈로그는 여전히 자체 파일 그룹의 데이터베이스 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-194">For full-text catalogs that have been imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the full-text catalog is still a database file in its own filegroup.</span></span> <span data-ttu-id="434ef-195">전체 텍스트 카탈로그에 대한 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 의 백업 프로세스가 여전히 적용되지만 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]에는 MSFTESQL 서비스가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-195">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] backup process for full-text catalogs still applies except that the MSFTESQL service does not exist in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="434ef-196">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 프로세스에 대한 자세한 내용은 SQL Server 2005 온라인 설명서에서 [전체 텍스트 카탈로그 백업 및 복원](https://go.microsoft.com/fwlink/?LinkId=209154) 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-196">For information about the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] process, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=209154) in SQL Server 2005 Books Online.</span></span>  
  
##  <a name="migrating-full-text-indexes-when-upgrading-a-database-to-sscurrent"></a><a name="Upgrade_Db"></a><span data-ttu-id="434ef-197">데이터베이스를로 업그레이드할 때 전체 텍스트 인덱스 마이그레이션[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="434ef-197">Migrating Full-Text Indexes When Upgrading a Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="434ef-198">데이터베이스 연결, 복원 또는 복사 마법사를 사용하여 이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서 만든 데이터베이스 파일 및 전체 텍스트 카탈로그를 기존 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 서버 인스턴스로 업그레이드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-198">Database files and full-text catalogs from a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be upgraded to an existing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance by using attach, restore, or the Copy Database Wizard.</span></span> [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="434ef-199">전체 텍스트 인덱스(있는 경우)는 가져오거나 다시 설정하거나 다시 작성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-199">full-text indexes, if any, are either imported, reset, or rebuilt.</span></span> <span data-ttu-id="434ef-200">**upgrade_option** 서버 속성은 이러한 데이터베이스 업그레이드 도중 서버 인스턴스에서 사용할 전체 텍스트 업그레이드 옵션을 제어합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-200">The **upgrade_option** server property controls which full-text upgrade option the server instance uses during these database upgrades.</span></span>  
  
 <span data-ttu-id="434ef-201">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 데이터베이스를 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]로 연결, 복원 또는 복사하면 데이터베이스를 바로 사용할 수 있으며 해당 데이터베이스가 자동으로 업그레이드됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-201">After you attach, restore, or copy any [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database becomes available immediately and is then automatically upgraded.</span></span> <span data-ttu-id="434ef-202">인덱싱되는 데이터 양에 따라 가져오기 작업은 몇 시간씩 걸릴 수 있으며 다시 작성 작업은 10배 정도 더 걸릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-202">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="434ef-203">업그레이드 옵션이 가져오기로 설정되어 있으면 전체 텍스트 카탈로그를 사용할 수 없는 경우 관련된 전체 텍스트 인덱스가 다시 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-203">Note also that when the upgrade option is set to import, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
 <span data-ttu-id="434ef-204">**서버 인스턴스의 전체 텍스트 업그레이드 동작을 변경하려면**</span><span class="sxs-lookup"><span data-stu-id="434ef-204">**To change full-text upgrade behavior on a server instance**</span></span>  
  
-   [!INCLUDE[tsql](../../includes/tsql-md.md)]<span data-ttu-id="434ef-205">: [sp\_fulltext\_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)의 **upgrade\_option** 동작을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-205">: Use the **upgrade\_option** action of [sp\_fulltext\_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="434ef-206">**:\*\*\*\*서버 속성** 대화 상자의 **전체 텍스트 업그레이드 옵션** 을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-206">**:** Use the **Full-Text Upgrade Option** of the **Server Properties** dialog box.</span></span> <span data-ttu-id="434ef-207">자세한 내용은 [서버 인스턴스의 전체 텍스트 검색 관리 및 모니터링](manage-and-monitor-full-text-search-for-a-server-instance.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-207">For more information, see [Manage and Monitor Full-Text Search for a Server Instance](manage-and-monitor-full-text-search-for-a-server-instance.md).</span></span>  
  
##  <a name="considerations-for-restoring-a-ssversion2005-full-text-catalog-to-sscurrent"></a><a name="Considerations_for_Restore"></a><span data-ttu-id="434ef-208">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 전체 텍스트 카탈로그를 다음으로 복원 시 고려 사항: [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="434ef-208">Considerations for Restoring a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Full-Text Catalog to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="434ef-209">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 데이터베이스의 전체 텍스트 데이터를 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 로 업그레이드하는 방법 중 하나는 전체 데이터베이스 백업을 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]로 복원하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-209">One method of upgrading fulltext data from a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is to restore a full database backup to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
 <span data-ttu-id="434ef-210">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 전체 텍스트 카탈로그를 가져올 때 데이터베이스와 카탈로그 파일을 백업 및 복원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-210">While importing a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalog, you can back up and restore the database and the catalog file.</span></span> <span data-ttu-id="434ef-211">이 동작은 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-211">The behavior is the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="434ef-212">전체 데이터베이스 백업에 전체 텍스트 카탈로그가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-212">The full database backup will include the full-text catalog.</span></span> <span data-ttu-id="434ef-213">전체 텍스트 카탈로그를 참조하려면 해당 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 파일 이름인 sysft_+*catalog-name*을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-213">To refer to the full-text catalog, use its [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] file name, sysft_+*catalog-name*.</span></span>  
  
-   <span data-ttu-id="434ef-214">전체 텍스트 카탈로그가 오프라인 상태이면 백업이 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-214">If the full-text catalog is offline, the backup will fail.</span></span>  
  
 <span data-ttu-id="434ef-215">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 전체 텍스트 카탈로그 백업 및 복원에 대한 자세한 내용은 온라인 설명서에서 [전체 텍스트 카탈로그 백업 및 복원](https://go.microsoft.com/fwlink/?LinkId=121052) 및 [파일 백업과 복원 및 전체 텍스트 카탈로그](https://go.microsoft.com/fwlink/?LinkId=121053)[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-215">For more information about backing up and restoring [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalogs, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121052) and [File Backup and Restore and Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121053)in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="434ef-216">데이터베이스를 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]에 복원하면 전체 텍스트 카탈로그에 대한 새 데이터베이스 파일이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-216">When the database is restored on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], a new database file will be created for the full-text catalog.</span></span> <span data-ttu-id="434ef-217">이 파일의 기본 이름은 ftrow_*catalog-name*.ndf입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-217">The default name of this file is ftrow_*catalog-name*.ndf.</span></span> <span data-ttu-id="434ef-218">예를 들어 *catalog-name* 이 `cat1`이면 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 데이터베이스 파일의 기본 이름은 `ftrow_cat1.ndf`입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-218">For example, if you *catalog-name* is `cat1`, the default name of the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database file would be `ftrow_cat1.ndf`.</span></span> <span data-ttu-id="434ef-219">그러나 대상 디렉터리에서 기본 이름이 이미 사용 되 고 있는 경우 새 데이터베이스 파일의 이름은 `ftrow_` *catalog-name* `{` *guid*입니다 `}.ndf` . 여기서 *guid* 는 새 파일의 전역 고유 식별자입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-219">But if the default name is already being used in the target directory, the new database file would be named `ftrow_`*catalog-name*`{`*GUID*`}.ndf`, where *GUID* is the Globally Unique Identifier of the new file.</span></span>  
  
 <span data-ttu-id="434ef-220">카탈로그를 가져온 후 **sys.database_files** 및 **sys.master_files**가 업데이트되어 카탈로그 항목이 제거되고 **sys.fulltext_catalogs** 의 **path** 열이 NULL로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-220">After the catalogs have been imported, the **sys.database_files** and **sys.master_file**s are updated to remove the catalog entries and the **path** column in **sys.fulltext_catalogs** is set to NULL.</span></span>  
  
 <span data-ttu-id="434ef-221">**데이터베이스를 백업하려면**</span><span class="sxs-lookup"><span data-stu-id="434ef-221">**To back up a database**</span></span>  
  
-   [<span data-ttu-id="434ef-222">전체 데이터베이스 백업&#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="434ef-222">Full Database Backups &#40;SQL Server&#41;</span></span>](../backup-restore/full-database-backups-sql-server.md)  
  
-   <span data-ttu-id="434ef-223">[트랜잭션 로그 백업&#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md)(전체 복구 모델에만 해당)</span><span class="sxs-lookup"><span data-stu-id="434ef-223">[Transaction Log Backups &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (full recovery model only)</span></span>  
  
 <span data-ttu-id="434ef-224">**데이터베이스 백업을 복원 하려면**</span><span class="sxs-lookup"><span data-stu-id="434ef-224">**To restore a database backup**</span></span>  
  
-   [<span data-ttu-id="434ef-225">전체 데이터베이스 복원&#40;단순 복구 모델&#41;</span><span class="sxs-lookup"><span data-stu-id="434ef-225">Complete Database Restores &#40;Simple Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-simple-recovery-model.md)  
  
-   [<span data-ttu-id="434ef-226">전체 데이터베이스 복원&#40;전체 복구 모델&#41;</span><span class="sxs-lookup"><span data-stu-id="434ef-226">Complete Database Restores &#40;Full Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-full-recovery-model.md)  
  
### <a name="example"></a><span data-ttu-id="434ef-227">예제</span><span class="sxs-lookup"><span data-stu-id="434ef-227">Example</span></span>  
 <span data-ttu-id="434ef-228">[이라는](/sql/t-sql/statements/restore-statements-transact-sql) 데이터베이스를 복원하는 다음 예의 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] RESTORE `ftdb1`문에는 MOVE 절이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-228">The following example uses the MOVE clause in the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, to restore a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database named `ftdb1`.</span></span> <span data-ttu-id="434ef-229">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 데이터베이스, 로그 및 카탈로그 파일이 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 서버 인스턴스에서 다음과 같은 새 위치로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-229">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, log, and catalog files are moved to new locations on the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, as follows:</span></span>  
  
-   <span data-ttu-id="434ef-230">데이터베이스 파일인 `ftdb1.mdf`는 `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-230">The database file, `ftdb1.mdf`, is moved to `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span></span>  
  
-   <span data-ttu-id="434ef-231">로그 파일인는 로그 `ftdb1_log.ldf` 디스크 드라이브의 로그 디렉터리인 *log_drive*log_directory으로 이동 됩니다 `:\` *log_directory* `\ftdb1_log.ldf` .</span><span class="sxs-lookup"><span data-stu-id="434ef-231">The log file, `ftdb1_log.ldf`, is moved to a log directory on your log disk drive, *log_drive*`:\`*log_directory*`\ftdb1_log.ldf`.</span></span>  
  
-   <span data-ttu-id="434ef-232">`sysft_cat90` 카탈로그에 해당하는 카탈로그 파일은 `C:\temp`로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-232">The catalog files that correspond to the `sysft_cat90` catalog are moved to `C:\temp`.</span></span> <span data-ttu-id="434ef-233">가져온 전체 텍스트 인덱스는 데이터베이스 파일인 C:\ftrow_sysft_cat90.ndf에 자동으로 배치되고 C:\temp는 삭제됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-233">After the full-text indexes are imported, they will automatically be placed in a database file, C:\ftrow_sysft_cat90.ndf, and the C:\temp will be deleted.</span></span>  
  
```  
RESTORE DATABASE [ftdb1] FROM  DISK = N'C:\temp\ftdb1.bak' WITH  FILE = 1,  
   MOVE N'ftdb1' TO N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf',  
    MOVE N'ftdb1_log' TO N'log_drive:\log_directory\ftdb1_log.ldf',  
    MOVE N'sysft_cat90' TO N'C:\temp';  
```  
  
##  <a name="attaching-a-sql-server-2005-database-to-sscurrent"></a><a name="Attaching_2005_ft_catalogs"></a><span data-ttu-id="434ef-234">SQL Server 2005 데이터베이스를에 연결[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="434ef-234">Attaching a SQL Server 2005 Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="434ef-235">[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 이상 버전에서 전체 텍스트 카탈로그는 전체 텍스트 인덱스의 그룹을 나타내는 논리적 개념입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-235">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical concept that refers to a group of full-text indexes.</span></span> <span data-ttu-id="434ef-236">전체 텍스트 카탈로그는 어떠한 파일 그룹에도 속하지 않는 가상 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-236">The full-text catalog is a virtual object that does not belong to any filegroup.</span></span> <span data-ttu-id="434ef-237">그러나 전체 텍스트 카탈로그 파일이 포함된 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 데이터베이스를 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 서버 인스턴스에 연결하면 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]의 경우와 같이 카탈로그 파일이 다른 데이터베이스 파일과 함께 이전 위치에서 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-237">However, when you attach a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database that contains full-text catalog files onto a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, the catalog files are attached from their previous location along with the other database files, the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="434ef-238">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 에서 연결된 각 전체 텍스트 카탈로그의 상태는 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]에서 데이터베이스를 분리할 때의 상태와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-238">The state of each attached full-text catalog on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is the same as when the database was detached from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="434ef-239">분리 작업에 따라 전체 텍스트 인덱스 채우기가 일시 중지된 경우 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]에서 채우기가 재개되고 전체 텍스트 인덱스를 전체 텍스트 검색에 사용할 수 있게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-239">If any full-text index population was suspended by the detach operation, the population is resumed on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], and the full-text index becomes available for full-text search.</span></span>  
  
 <span data-ttu-id="434ef-240">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 에서 전체 텍스트 카탈로그 파일을 찾을 수 없거나 연결 작업 도중 전체 텍스트 파일이 이동했는데 새 위치가 지정되지 않은 경우의 동작은 선택한 전체 텍스트 업그레이드 옵션에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-240">If [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cannot find a full-text catalog file or if the full-text file was moved during the attach operation without specifying a new location, the behavior depends on the selected full-text upgrade option.</span></span> <span data-ttu-id="434ef-241">전체 텍스트 업그레이드 옵션이 **가져오기** 또는 **다시 작성**이면 연결된 전체 텍스트 카탈로그가 다시 작성됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-241">If the full-text upgrade option is **Import** or **Rebuild**, the attached full-text catalog is rebuilt.</span></span> <span data-ttu-id="434ef-242">전체 텍스트 업그레이드 옵션이 **다시 설정**이면 연결된 전체 텍스트 카탈로그가 다시 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="434ef-242">If the full-text upgrade option is **Reset**, the attached full-text catalog is reset.</span></span>  
  
 <span data-ttu-id="434ef-243">데이터베이스를 연결 및 분리하는 방법은 [데이터베이스 분리 및 연결&#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE&#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) 및 [sp_detach_db&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="434ef-243">For more information about detaching and attaching a database, see [Database Detach and Attach &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql), and [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="434ef-244">참고 항목</span><span class="sxs-lookup"><span data-stu-id="434ef-244">See Also</span></span>  
 <span data-ttu-id="434ef-245">[전체 텍스트 검색 시작](get-started-with-full-text-search.md) </span><span class="sxs-lookup"><span data-stu-id="434ef-245">[Get Started with Full-Text Search](get-started-with-full-text-search.md) </span></span>  
 <span data-ttu-id="434ef-246">[검색을 위해 단어 분리기와 형태소 분석기 구성 및 관리](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span><span class="sxs-lookup"><span data-stu-id="434ef-246">[Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span></span>  
 [<span data-ttu-id="434ef-247">검색 필터 구성 및 관리</span><span class="sxs-lookup"><span data-stu-id="434ef-247">Configure and Manage Filters for Search</span></span>](configure-and-manage-filters-for-search.md)  
  
  
