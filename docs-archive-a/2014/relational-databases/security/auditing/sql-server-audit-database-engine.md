---
title: SQL Server Audit(데이터베이스 엔진) | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
f1_keywords:
- audit
helpviewer_keywords:
- SQL Server Audit
- audits [SQL Server], SQL Server Audit
ms.assetid: 0c1fca2e-f22b-4fe8-806f-c87806664f00
author: VanMSFT
ms.author: vanto
ms.openlocfilehash: 2f4f291e5dc4aaa8a240757713cc65bd2a6a8230
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87647569"
---
# <a name="sql-server-audit-database-engine"></a><span data-ttu-id="b3f83-102">SQL Server Audit(데이터베이스 엔진)</span><span class="sxs-lookup"><span data-stu-id="b3f83-102">SQL Server Audit (Database Engine)</span></span>
  <span data-ttu-id="b3f83-103">*인스턴스 또는 개별 데이터베이스를* 감사 [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)] 할 때는 [!INCLUDE[ssDE](../../../includes/ssde-md.md)]에서 발생하는 이벤트를 추적 및 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-103">*Auditing* an instance of the [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)] or an individual database involves tracking and logging events that occur on the [!INCLUDE[ssDE](../../../includes/ssde-md.md)].</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="b3f83-104">Audit에서는 서버 수준 이벤트에 대한 서버 감사 사양과 데이터베이스 수준 이벤트에 대한 데이터베이스 감사 사양을 포함하는 서버 감사를 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-104">audit lets you create server audits, which can contain server audit specifications for server level events, and database audit specifications for database level events.</span></span> <span data-ttu-id="b3f83-105">감사 이벤트는 이벤트 로그 또는 감사 파일에 기록될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-105">Audited events can be written to the event logs or to audit files.</span></span>  
  
 <span data-ttu-id="b3f83-106">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]의 감사는 설치에 대한 정부 또는 표준 요구 사항에 따라 여러 개의 수준이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-106">There are several levels of auditing for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], depending on government or standards requirements for your installation.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="b3f83-107">Audit에서는 다양한 서버 및 데이터베이스 개체에 대한 감사를 사용 및 저장하거나 보는 데 필요한 도구와 프로세스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-107">Audit provides the tools and processes you must have to enable, store, and view audits on various server and database objects.</span></span>  
  
 <span data-ttu-id="b3f83-108">인스턴스별 서버 감사 동작 그룹을 기록할 수 있으며 데이터베이스별 데이터베이스 감사 동작 그룹 또는 데이터베이스 감사 동작을 기록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-108">You can record server audit action groups per-instance, and either database audit action groups or database audit actions per database.</span></span> <span data-ttu-id="b3f83-109">감사 가능한 동작이 발생할 때마다 감사 이벤트가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-109">The audit event will occur every time that the auditable action is encountered.</span></span>  
  
 <span data-ttu-id="b3f83-110">모든 버전의 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 는 서버 수준 감사를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-110">All editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] support server level audits.</span></span> <span data-ttu-id="b3f83-111">데이터베이스 수준 감사는 Enterprise, Developer 및 Evaluation 버전에서만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-111">Database level auditing is limited to Enterprise, Developer, and Evaluation editions.</span></span> <span data-ttu-id="b3f83-112">자세한 내용은 [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-112">For more information, see [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
## <a name="sql-server-audit-components"></a><span data-ttu-id="b3f83-113">SQL Server Audit 구성 요소</span><span class="sxs-lookup"><span data-stu-id="b3f83-113">SQL Server Audit Components</span></span>  
 <span data-ttu-id="b3f83-114">*감사* 는 특정 서버 동작 또는 데이터베이스 동작 그룹에 대한 여러 요소를 하나의 패키지로 결합한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-114">An *audit* is the combination of several elements into a single package for a specific group of server actions or database actions.</span></span> <span data-ttu-id="b3f83-115">보고서 정의가 그래픽 및 데이터 요소와 결합되어 보고서가 생성되는 것처럼 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 구성 요소가 결합되어 감사가 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-115">The components of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit combine to produce an output that is called an audit, just as a report definition combined with graphics and data elements produces a report.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="b3f83-116">Audit에서는 감사를 만들기 위해 *확장 이벤트* 를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-116">audit uses *Extended Events* to help create an audit.</span></span> <span data-ttu-id="b3f83-117">확장 이벤트에 대한 자세한 내용은 [확장 이벤트](../../extended-events/extended-events.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-117">For more information about Extended Events, see [Extended Events](../../extended-events/extended-events.md).</span></span>  
  
### <a name="sql-server-audit"></a><span data-ttu-id="b3f83-118">SQL Server Audit</span><span class="sxs-lookup"><span data-stu-id="b3f83-118">SQL Server Audit</span></span>  
 <span data-ttu-id="b3f83-119">*SQL Server Audit* 개체는 사용자가 모니터링하려는 서버 또는 데이터베이스 수준 동작 및 동작 그룹에 대한 하나의 인스턴스를 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-119">The *SQL Server Audit* object collects a single instance of server or database-level actions and groups of actions to monitor.</span></span> <span data-ttu-id="b3f83-120">감사는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 인스턴스 수준으로 존재합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-120">The audit is at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance level.</span></span> <span data-ttu-id="b3f83-121">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 인스턴스별로 여러 개의 감사를 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-121">You can have multiple audits per [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="b3f83-122">감사를 정의할 때 결과 출력 위치를 지정하는데</span><span class="sxs-lookup"><span data-stu-id="b3f83-122">When you define an audit, you specify the location for the output of the results.</span></span> <span data-ttu-id="b3f83-123">이를 감사 대상이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-123">This is the audit destination.</span></span> <span data-ttu-id="b3f83-124">감사가 *비활성* 상태로 생성되면 동작을 자동으로 감사하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-124">The audit is created in a *disabled* state, and does not automatically audit any actions.</span></span> <span data-ttu-id="b3f83-125">감사가 활성화되면 감사 대상이 감사로부터 데이터를 수신합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-125">After the audit is enabled, the audit destination receives data from the audit.</span></span>  
  
### <a name="server-audit-specification"></a><span data-ttu-id="b3f83-126">서버 감사 사양</span><span class="sxs-lookup"><span data-stu-id="b3f83-126">Server Audit Specification</span></span>  
 <span data-ttu-id="b3f83-127">*서버 감사 사양* 개체는 감사에 속해 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-127">The *Server Audit Specification* object belongs to an audit.</span></span> <span data-ttu-id="b3f83-128">서버 감사 사양과 감사는 모두 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 인스턴스 범위에서 생성되므로 감사당 하나의 서버 감사 사양을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-128">You can create one server audit specification per audit, because both are created at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance scope.</span></span>  
  
 <span data-ttu-id="b3f83-129">서버 감사 사양은 확장 이벤트 기능에 의해 발생되는 수많은 서버 수준 동작 그룹을 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-129">The server audit specification collects many server-level action groups raised by the Extended Events feature.</span></span> <span data-ttu-id="b3f83-130">*감사 동작 그룹* 을 서버 감사 사양에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-130">You can include *audit action groups* in a server audit specification.</span></span> <span data-ttu-id="b3f83-131">감사 동작 그룹은 미리 정의된 동작 그룹이며 [!INCLUDE[ssDE](../../../includes/ssde-md.md)]에서 발생하는 원자성 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-131">Audit action groups are predefined groups of actions, which are atomic events occurring in the [!INCLUDE[ssDE](../../../includes/ssde-md.md)].</span></span> <span data-ttu-id="b3f83-132">이러한 동작은 감사로 전달되어 대상에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-132">These actions are sent to the audit, which records them in the target.</span></span>  
  
 <span data-ttu-id="b3f83-133">서버 수준 감사 동작 그룹 및 감사 동작은 [SQL Server 감사 동작 그룹 및 동작](sql-server-audit-action-groups-and-actions.md)항목에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-133">Server-level audit action groups are described in the topic [SQL Server Audit Action Groups and Actions](sql-server-audit-action-groups-and-actions.md).</span></span>  
  
### <a name="database-audit-specification"></a><span data-ttu-id="b3f83-134">데이터베이스 감사 사양</span><span class="sxs-lookup"><span data-stu-id="b3f83-134">Database Audit Specification</span></span>  
 <span data-ttu-id="b3f83-135">*데이터베이스 감사 사양* 개체도 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit에 속해 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-135">The *Database Audit Specification* object also belongs to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit.</span></span> <span data-ttu-id="b3f83-136">감사의 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 데이터베이스당 하나의 데이터베이스 감사 사양을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-136">You can create one database audit specification per [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database per audit.</span></span>  
  
 <span data-ttu-id="b3f83-137">데이터베이스 감사 사양은 확장 이벤트 기능에 의해 발생되는 데이터베이스 수준 감사 동작을 수집합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-137">The database audit specification collects database-level audit actions raised by the Extended Events feature.</span></span> <span data-ttu-id="b3f83-138">감사 동작 그룹 또는 감사 이벤트를 데이터베이스 감사 사양에 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-138">You can add either audit action groups or audit events to a database audit specification.</span></span> <span data-ttu-id="b3f83-139">*감사 이벤트* 는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 엔진이 감사할 수 있는 원자성 동작이고,</span><span class="sxs-lookup"><span data-stu-id="b3f83-139">*Audit events* are the atomic actions that can be audited by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] engine.</span></span> <span data-ttu-id="b3f83-140">*감사 동작 그룹* 은 미리 정의된 동작 그룹입니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-140">*Audit action groups* are predefined groups of actions.</span></span> <span data-ttu-id="b3f83-141">둘 다 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 데이터베이스 범위에 존재합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-141">Both are at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database scope.</span></span> <span data-ttu-id="b3f83-142">이러한 동작은 감사로 전달되어 대상에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-142">These actions are sent to the audit, which records them in the target.</span></span> <span data-ttu-id="b3f83-143">시스템 뷰와 같은 서버 범위 개체는 사용자 데이터베이스 감사 사양에 포함하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="b3f83-143">Do not include server-scoped objects, such as the system views, in a user database audit specification.</span></span>  
  
 <span data-ttu-id="b3f83-144">데이터베이스 수준 감사 동작 그룹 및 감사 동작은 [SQL Server 감사 동작 그룹 및 동작](sql-server-audit-action-groups-and-actions.md)항목에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-144">Database-level audit action groups and audit actions are described in the topic [SQL Server Audit Action Groups and Actions](sql-server-audit-action-groups-and-actions.md).</span></span>  
  
### <a name="target"></a><span data-ttu-id="b3f83-145">대상</span><span class="sxs-lookup"><span data-stu-id="b3f83-145">Target</span></span>  
 <span data-ttu-id="b3f83-146">감사의 결과는 파일, Windows 보안 이벤트 로그 또는 Windows 애플리케이션 이벤트 로그 형태로 대상에 전달됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-146">The results of an audit are sent to a target, which can be a file, the Windows Security event log, or the Windows Application event log.</span></span> <span data-ttu-id="b3f83-147">로그를 정기적으로 검토 및 보관하여 대상에 추가 레코드를 작성할 공간이 충분한지를 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-147">Logs must be reviewed and archived periodically to make sure that the target has sufficient space to write additional records.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b3f83-148">허가 받은 사용자는 Windows 애플리케이션 이벤트 로그에 대해 읽기/쓰기 작업이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-148">Any authenticated user can read and write to the Windows Application event log.</span></span> <span data-ttu-id="b3f83-149">애플리케이션 이벤트 로그는 Windows 보안 이벤트 로그보다 낮은 권한을 요구하므로 Windows 보안 이벤트 로그보다 보안 수준이 낮습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-149">The Application event log requires lower permissions than the Windows Security event log and is less secure than the Windows Security event log.</span></span>  
  
 <span data-ttu-id="b3f83-150">Windows 보안 로그에 대한 쓰기 작업을 수행하려면 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 서비스 계정을 **보안 감사 생성** 정책에 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-150">Writing to the Windows Security log requires the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account to be added to the **Generate security audits** policy.</span></span> <span data-ttu-id="b3f83-151">기본적으로 이 정책에는 로컬 시스템, 로컬 서비스 및 네트워크 서비스 등이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-151">By default, the Local System, Local Service, and Network Service are part of this policy.</span></span> <span data-ttu-id="b3f83-152">이 설정은 보안 정책 스냅인(secpol.msc)을 사용하여 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-152">This setting can be configured by using the security policy snap-in (secpol.msc).</span></span> <span data-ttu-id="b3f83-153">또한 **성공** 및 **실패** 모두에 대한 **감사 개체 액세스**보안 정책을 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-153">Additionally, the **Audit object access** security policy must be enabled for both **Success** and **Failure**.</span></span> <span data-ttu-id="b3f83-154">이 설정은 보안 정책 스냅인(secpol.msc)을 사용하여 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-154">This setting can be configured by using the security policy snap-in (secpol.msc).</span></span> <span data-ttu-id="b3f83-155">[!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)]또는 Windows Server 2008에서는 감사 정책 프로그램 ()을 사용 하 여 명령줄에서 보다 세부적인 **응용 프로그램 생성** 정책을 설정할 수 있습니다 `AuditPol.exe)` .</span><span class="sxs-lookup"><span data-stu-id="b3f83-155">In [!INCLUDE[wiprlhext](../../../includes/wiprlhext-md.md)] or Windows Server 2008, you can set the more granular **application generated** policy from the command line by using the audit policy program (`AuditPol.exe)`.</span></span> <span data-ttu-id="b3f83-156">Windows 보안 로그의 쓰기를 설정하는 단계에 대한 자세한 내용은 [보안 로그에 SQL Server 감사 이벤트 쓰기](write-sql-server-audit-events-to-the-security-log.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-156">For more information about the steps to enable writing to the Windows Security log, see [Write SQL Server Audit Events to the Security Log](write-sql-server-audit-events-to-the-security-log.md).</span></span> <span data-ttu-id="b3f83-157">Auditpol.exe 프로그램에 대한 자세한 내용은 기술 자료 문서 921469, [그룹 정책을 사용하여 세부 보안 감사를 구성하는 방법](https://support.microsoft.com/kb/921469/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-157">For more information about the Auditpol.exe program, see Knowledge Base article 921469, [How to use Group Policy to configure detailed security auditing](https://support.microsoft.com/kb/921469/).</span></span> <span data-ttu-id="b3f83-158">Windows 이벤트 로그는 Windows 운영 체제에 전반적으로 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-158">The Windows event logs are global to the Windows operating system.</span></span> <span data-ttu-id="b3f83-159">Windows 이벤트 로그에 대한 자세한 내용은 [이벤트 뷰어 개요(Event Viewer Overview)](https://go.microsoft.com/fwlink/?LinkId=101455)를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="b3f83-159">For more information about the Windows event logs, see [Event Viewer Overview](https://go.microsoft.com/fwlink/?LinkId=101455).</span></span> <span data-ttu-id="b3f83-160">감사에 대해 보다 정확한 권한이 필요하다면 이진 파일 대상을 사용하십시오.</span><span class="sxs-lookup"><span data-stu-id="b3f83-160">If you need more precise permissions on the audit, use the binary file target.</span></span>  
  
 <span data-ttu-id="b3f83-161">감사 정보를 파일에 저장할 때 변조를 방지하기 위해 다음과 같은 방법으로 파일 위치에 대한 액세스를 제한할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-161">When you are saving audit information to a file, to help prevent tampering, you can restrict access to the file location in the following ways:</span></span>  
  
-   <span data-ttu-id="b3f83-162">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 서비스 계정에는 읽기 및 쓰기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-162">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Service Account must have both Read and Write permission.</span></span>  
  
-   <span data-ttu-id="b3f83-163">Audit Administrators에게는 일반적으로 읽기 및 쓰기 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-163">Audit Administrators typically require Read and Write permission.</span></span> <span data-ttu-id="b3f83-164">이 경우에는 Audit Administrators가 감사 파일을 다른 공유에 복사하고 백업하는 등의 감사 파일에 대한 관리 작업을 위한 Windows 계정이라고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-164">This assumes that the Audit Administrators are Windows accounts for administration of audit files, such as: copying them to different shares, backing them up, and so on.</span></span>  
  
-   <span data-ttu-id="b3f83-165">감사 파일을 읽을 권한이 있는 Audit Readers에게는 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-165">Audit Readers that are authorized to read audit files must have Read permission.</span></span>  
  
 <span data-ttu-id="b3f83-166">[!INCLUDE[ssDE](../../../includes/ssde-md.md)] 이 파일에 쓰고 있는 경우라도 권한이 있는 Windows 사용자라면 감사 파일을 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-166">Even when the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] is writing to a file, other Windows users can read the audit file if they have permission.</span></span> <span data-ttu-id="b3f83-167">[!INCLUDE[ssDE](../../../includes/ssde-md.md)] 은 파일을 배타적으로 잠그지 않으므로 다른 사용자가 읽기 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-167">The [!INCLUDE[ssDE](../../../includes/ssde-md.md)] does not take an exclusive lock that prevents read operations.</span></span>  
  
 <span data-ttu-id="b3f83-168">[!INCLUDE[ssDE](../../../includes/ssde-md.md)] 이 파일에 액세스할 수 있으므로 CONTROL SERVER 권한이 있는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 로그인은 [!INCLUDE[ssDE](../../../includes/ssde-md.md)] 을 사용하여 감사 파일에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-168">Because the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] can access the file, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] logins that have CONTROL SERVER permission can use the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] to access the audit files.</span></span> <span data-ttu-id="b3f83-169">감사 파일을 읽고 있는 사용자를 기록하려면 master.sys.fn_get_audit_file에 감사를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-169">To record any user that is reading the audit file, define an audit on master.sys.fn_get_audit_file.</span></span> <span data-ttu-id="b3f83-170">이렇게 하면 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]를 통해 감사 파일에 액세스한 CONTROL SERVER 권한을 가진 로그인이 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-170">This records the logins with CONTROL SERVER permission that have accessed the audit file through [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="b3f83-171">Audit Administrator가 보관 등의 목적으로 파일을 다른 위치에 복사한 경우에는 새 위치에 대한 ACL을 다음과 같은 권한으로 축소해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-171">If an Audit Administrator copies the file to a different location (for archive purposes, and so on), the ACLs on the new location should be reduced to the following permissions:</span></span>  
  
-   <span data-ttu-id="b3f83-172">Audit Administrator - 읽기/쓰기</span><span class="sxs-lookup"><span data-stu-id="b3f83-172">Audit Administrator - Read / Write</span></span>  
  
-   <span data-ttu-id="b3f83-173">Audit Reader - 읽기</span><span class="sxs-lookup"><span data-stu-id="b3f83-173">Audit Reader - Read</span></span>  
  
 <span data-ttu-id="b3f83-174">Audit Administrators 또는 Audit Readers만 액세스할 수 있는 별도의 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]인스턴스(예: [!INCLUDE[ssExpress](../../../includes/ssexpress-md.md)]인스턴스)에서 감사 보고서를 생성하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-174">We recommend that you generate audit reports from a separate instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], such as an instance of [!INCLUDE[ssExpress](../../../includes/ssexpress-md.md)], to which only Audit Administrators or Audit Readers have access.</span></span> <span data-ttu-id="b3f83-175">보고 작업을 위해 별도의 [!INCLUDE[ssDE](../../../includes/ssde-md.md)] 인스턴스를 사용하면 권한이 없는 사용자가 감사 레코드에 액세스하는 것을 방지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-175">By using a separate instance of the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] for reporting, you can help prevent unauthorized users from obtaining access to the audit record.</span></span>  
  
 <span data-ttu-id="b3f83-176">Windows BitLocker 드라이브 암호화 또는 Windows 파일 시스템 암호화를 사용하여 감사 파일이 저장되는 폴더를 암호화하면 권한이 없는 액세스를 추가로 방지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-176">You can offer additional protection against unauthorized access by encrypting the folder in which the audit file is stored by using Windows BitLocker Drive Encryption or Windows Encrypting File System.</span></span>  
  
 <span data-ttu-id="b3f83-177">대상에 작성된 감사 레코드에 대한 자세한 내용은 [SQL Server Audit Records](sql-server-audit-records.md)를 참조하십시오</span><span class="sxs-lookup"><span data-stu-id="b3f83-177">For more information about the audit records that are written to the target, see [SQL Server Audit Records](sql-server-audit-records.md).</span></span>  
  
## <a name="overview-of-using-sql-server-audit"></a><span data-ttu-id="b3f83-178">SQL Server Audit 사용 개요</span><span class="sxs-lookup"><span data-stu-id="b3f83-178">Overview of Using SQL Server Audit</span></span>  
 <span data-ttu-id="b3f83-179">[!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] 또는 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 을 사용하여 감사를 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-179">You can use [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)] to define an audit.</span></span> <span data-ttu-id="b3f83-180">감사가 생성되고 활성화되면 대상이 항목을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-180">After the audit is created and enabled, the target will receive entries.</span></span>  
  
 <span data-ttu-id="b3f83-181">Windows에서 **이벤트 뷰어** 유틸리티를 사용하여 Windows 이벤트 로그를 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-181">You can read the Windows event logs by using the **Event Viewer** utility in Windows.</span></span> <span data-ttu-id="b3f83-182">파일 대상의 경우 **의** 로그 파일 뷰어 [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] 또는 [fn_get_audit_file](/sql/relational-databases/system-functions/sys-fn-get-audit-file-transact-sql) 함수를 사용하여 대상 파일을 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-182">For file targets, you can use either the **Log File Viewer** in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or the [fn_get_audit_file](/sql/relational-databases/system-functions/sys-fn-get-audit-file-transact-sql) function to read the target file.</span></span>  
  
 <span data-ttu-id="b3f83-183">감사를 만들고 사용하는 일반적인 프로세스는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-183">The general process for creating and using an audit is as follows.</span></span>  
  
1.  <span data-ttu-id="b3f83-184">감사를 만들고 대상을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-184">Create an audit and define the target.</span></span>  
  
2.  <span data-ttu-id="b3f83-185">감사에 매핑될 서버 감사 사양 또는 데이터베이스 감사 사양을 만들고</span><span class="sxs-lookup"><span data-stu-id="b3f83-185">Create either a server audit specification or database audit specification that maps to the audit.</span></span> <span data-ttu-id="b3f83-186">감사 사양을 활성화합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-186">Enable the audit specification.</span></span>  
  
3.  <span data-ttu-id="b3f83-187">감사를 활성화합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-187">Enable the audit.</span></span>  
  
4.  <span data-ttu-id="b3f83-188">Windows **이벤트 뷰어**, **로그 파일 뷰어**또는 fn_get_audit_file 함수를 사용하여 감사 이벤트를 읽습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-188">Read the audit events by using the Windows **Event Viewer**, **Log File Viewe**r, or the fn_get_audit_file function.</span></span>  
  
 <span data-ttu-id="b3f83-189">자세한 내용은 [서버 감사 및 서버 감사 사양 만들기](create-a-server-audit-and-server-audit-specification.md) 및 [서버 감사 및 데이터베이스 감사 사양 만들기](create-a-server-audit-and-database-audit-specification.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-189">For more information, see [Create a Server Audit and Server Audit Specification](create-a-server-audit-and-server-audit-specification.md) and [Create a Server Audit and Database Audit Specification](create-a-server-audit-and-database-audit-specification.md).</span></span>  
  
## <a name="considerations"></a><span data-ttu-id="b3f83-190">고려 사항</span><span class="sxs-lookup"><span data-stu-id="b3f83-190">Considerations</span></span>  
 <span data-ttu-id="b3f83-191">감사 시작 도중에 오류가 발생하면 서버가 시작되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-191">In the case of a failure during audit initiation, the server will not start.</span></span> <span data-ttu-id="b3f83-192">이 경우 명령줄에서 **–f** 옵션을 사용하여 서버를 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-192">In this case, the server can be started by using the **-f** option at the command line.</span></span>  
  
 <span data-ttu-id="b3f83-193">감사에 대해 ON_FAILURE=SHUTDOWN이 지정되어 있어 감사 오류 발생 시 서버가 종료되거나 시작되지 않으면 MSG_AUDIT_FORCED_SHUTDOWN 이벤트가 로그에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-193">When an audit failure causes the server to shut down or not to start because ON_FAILURE=SHUTDOWN is specified for the audit, the MSG_AUDIT_FORCED_SHUTDOWN event will be written to the log.</span></span> <span data-ttu-id="b3f83-194">종료는 이 설정을 처음 발견할 때 발생하므로 이벤트는 한 번만 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-194">Because the shutdown will occur on the first encounter of this setting, the event will be written one time.</span></span> <span data-ttu-id="b3f83-195">이 이벤트는 종료를 발생시킨 감사 오류 메시지 이후에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-195">This event is written after the failure message for the audit causing the shutdown.</span></span> <span data-ttu-id="b3f83-196">관리자는 단일 사용자 모드에서 **-m** 플래그를 사용하여 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]를 시작함으로써 감사로 인한 종료를 무시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-196">An administrator can bypass audit-induced shutdowns by starting [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in Single User mode using the **-m** flag.</span></span> <span data-ttu-id="b3f83-197">단일 사용자 모드에서 시작하면 ON_FAILURE=SHUTDOWN이 지정된 모든 감사를 해당 세션에서 ON_FAILURE=CONTINUE로 실행되도록 다운그레이드할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-197">If you start in Single User mode, you will downgrade any audit where ON_FAILURE=SHUTDOWN is specified to run in that session as ON_FAILURE=CONTINUE.</span></span> <span data-ttu-id="b3f83-198">**-m** 플래그를 사용하여 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]를 시작하면 MSG_AUDIT_SHUTDOWN_BYPASSED 메시지가 오류 로그에 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-198">When [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is started by using the **-m** flag, the MSG_AUDIT_SHUTDOWN_BYPASSED message will be written to the error log.</span></span>  
  
 <span data-ttu-id="b3f83-199">서비스 시작 옵션에 대한 자세한 내용은 [데이터베이스 엔진 서비스 시작 옵션](../../../database-engine/configure-windows/database-engine-service-startup-options.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-199">For more information about service startup options, see [Database Engine Service Startup Options](../../../database-engine/configure-windows/database-engine-service-startup-options.md).</span></span>  
  
### <a name="attaching-a-database-with-an-audit-defined"></a><span data-ttu-id="b3f83-200">감사가 정의된 데이터베이스 연결</span><span class="sxs-lookup"><span data-stu-id="b3f83-200">Attaching a Database with an Audit Defined</span></span>  
 <span data-ttu-id="b3f83-201">감사 사양이 있고 서버에 존재하지 않는 GUID를 지정하는 데이터베이스를 연결하면 *분리된* 감사 사양이 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-201">Attaching a database that has an audit specification and specifies a GUID that does not exist on the server will cause an *orphaned* audit specification.</span></span> <span data-ttu-id="b3f83-202">서버 인스턴스에 GUID가 일치하는 감사가 없으므로 감사 이벤트가 기록되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-202">Because an audit with a matching GUID does not exist on the server instance, no audit events will be recorded.</span></span> <span data-ttu-id="b3f83-203">이 상황을 해결하려면 ALTER DATABASE AUDIT SPECIFICATION 명령을 사용하여 분리된 감사 사양을 기존의 서버 감사에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-203">To correct this situation, use the ALTER DATABASE AUDIT SPECIFICATION command to connect the orphaned audit specification to an existing server audit.</span></span> <span data-ttu-id="b3f83-204">또는 CREATE SERVER AUDIT 명령을 사용하여 지정된 GUID를 가진 새 서버 감사를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-204">Or, use the CREATE SERVER AUDIT command to create a new server audit with the specified GUID.</span></span>  
  
 <span data-ttu-id="b3f83-205">감사 사양이 정의된 데이터베이스를 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit를 지원하지 않는 다른 버전의 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (예: [!INCLUDE[ssExpress](../../../includes/ssexpress-md.md)] )에 연결할 수 있지만 이때 감사 이벤트는 기록되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-205">You can attach a database that has an audit specification defined on it to another edition of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that does not support [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit, such as [!INCLUDE[ssExpress](../../../includes/ssexpress-md.md)] but it will not record audit events.</span></span>  
  
### <a name="database-mirroring-and-sql-server-audit"></a><span data-ttu-id="b3f83-206">데이터베이스 미러링 및 SQL Server Audit</span><span class="sxs-lookup"><span data-stu-id="b3f83-206">Database Mirroring and SQL Server Audit</span></span>  
 <span data-ttu-id="b3f83-207">데이터베이스 감사 사양이 정의되어 있고 데이터베이스 미러링을 사용하는 데이터베이스는 데이터베이스 감사 사양을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-207">A database that has a database audit specification defined and that uses database mirroring will include the database audit specification.</span></span> <span data-ttu-id="b3f83-208">미러링된 SQL 인스턴스에서 올바르게 작동하려면 다음 항목을 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-208">To work correctly on the mirrored SQL instance, the following items must be configured:</span></span>  
  
-   <span data-ttu-id="b3f83-209">데이터베이스 감사 사양을 활성화하여 감사 레코드를 작성할 수 있도록 하려면 미러 서버에 동일한 GUID를 가진 감사가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-209">The mirror server must have an audit with the same GUID to enable the database audit specification to write audit records.</span></span> <span data-ttu-id="b3f83-210">이는 CREATE AUDIT WITH GUID를 사용 하 여 구성할 수 있습니다 `=` \* \<GUID from source Server Audit*> .</span><span class="sxs-lookup"><span data-stu-id="b3f83-210">This can be configured by using the command CREATE AUDIT WITH GUID`=`\*\<GUID from source Server Audit*>.</span></span>  
  
-   <span data-ttu-id="b3f83-211">이진 파일 대상의 경우 미러 서버 서비스 계정에 감사 내역이 작성될 위치에 대한 적절한 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-211">For binary file targets, the mirror server service account must have appropriate permissions to the location where the audit trail is being written.</span></span>  
  
-   <span data-ttu-id="b3f83-212">Windows 이벤트 로그 대상의 경우 미러 서버가 위치한 컴퓨터의 보안 정책이 보안 또는 애플리케이션 이벤트 로그에 대한 서비스 계정 액세스를 허용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-212">For Windows event log targets, the security policy on the computer where the mirror server is located must allow for service account access to the security or application event log.</span></span>  
  
### <a name="auditing-administrators"></a><span data-ttu-id="b3f83-213">감사 관리자</span><span class="sxs-lookup"><span data-stu-id="b3f83-213">Auditing Administrators</span></span>  
 <span data-ttu-id="b3f83-214">`sysadmin`고정 서버 역할의 멤버는 각 데이터베이스에서 **dbo** 사용자로 식별 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-214">Members of the `sysadmin` fixed server role are identified as the **dbo** user in each database.</span></span> <span data-ttu-id="b3f83-215">관리자 작업을 감사하기 위해서는 **dbo** 사용자의 작업을 감사합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-215">To audit actions of the administrators, audit the actions of the **dbo** user.</span></span>  
  
## <a name="creating-and-managing-audits-with-transact-sql"></a><span data-ttu-id="b3f83-216">Transact-SQL로 감사 생성 및 관리</span><span class="sxs-lookup"><span data-stu-id="b3f83-216">Creating and Managing Audits with Transact-SQL</span></span>  
 <span data-ttu-id="b3f83-217">DDL 문, 동적 관리 뷰/함수 및 카탈로그 뷰를 사용하여 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 모든 측면을 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-217">You can use DDL statements, dynamic management views and functions, and catalog views to implement all aspects of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit.</span></span>  
  
### <a name="data-definition-language-statements"></a><span data-ttu-id="b3f83-218">데이터 정의 언어 문</span><span class="sxs-lookup"><span data-stu-id="b3f83-218">Data Definition Language Statements</span></span>  
 <span data-ttu-id="b3f83-219">다음 DDL 문을 사용하여 감사 사양을 생성, 변경 및 삭제할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-219">You can use the following DDL statements to create, alter, and drop audit specifications:</span></span>  
  
|||  
|-|-|  
|[<span data-ttu-id="b3f83-220">ALTER AUTHORIZATION</span><span class="sxs-lookup"><span data-stu-id="b3f83-220">ALTER AUTHORIZATION</span></span>](/sql/t-sql/statements/alter-authorization-transact-sql)|[<span data-ttu-id="b3f83-221">CREATE SERVER AUDIT</span><span class="sxs-lookup"><span data-stu-id="b3f83-221">CREATE SERVER AUDIT</span></span>](/sql/t-sql/statements/create-server-audit-transact-sql)|  
|[<span data-ttu-id="b3f83-222">ALTER DATABASE AUDIT SPECIFICATION</span><span class="sxs-lookup"><span data-stu-id="b3f83-222">ALTER DATABASE AUDIT SPECIFICATION</span></span>](/sql/t-sql/statements/alter-database-audit-specification-transact-sql)|[<span data-ttu-id="b3f83-223">CREATE SERVER AUDIT SPECIFICATION</span><span class="sxs-lookup"><span data-stu-id="b3f83-223">CREATE SERVER AUDIT SPECIFICATION</span></span>](/sql/t-sql/statements/create-server-audit-specification-transact-sql)|  
|[<span data-ttu-id="b3f83-224">ALTER SERVER AUDIT</span><span class="sxs-lookup"><span data-stu-id="b3f83-224">ALTER SERVER AUDIT</span></span>](/sql/t-sql/statements/alter-server-audit-specification-transact-sql)|[<span data-ttu-id="b3f83-225">DROP DATABASE AUDIT SPECIFICATION</span><span class="sxs-lookup"><span data-stu-id="b3f83-225">DROP DATABASE AUDIT SPECIFICATION</span></span>](/sql/t-sql/statements/drop-database-encryption-key-transact-sql)|  
|[<span data-ttu-id="b3f83-226">ALTER SERVER AUDIT SPECIFICATION</span><span class="sxs-lookup"><span data-stu-id="b3f83-226">ALTER SERVER AUDIT SPECIFICATION</span></span>](/sql/t-sql/statements/alter-server-audit-transact-sql)|[<span data-ttu-id="b3f83-227">DROP SERVER AUDIT</span><span class="sxs-lookup"><span data-stu-id="b3f83-227">DROP SERVER AUDIT</span></span>](/sql/t-sql/statements/drop-server-audit-transact-sql)|  
|[<span data-ttu-id="b3f83-228">CREATE DATABASE AUDIT SPECIFICATION</span><span class="sxs-lookup"><span data-stu-id="b3f83-228">CREATE DATABASE AUDIT SPECIFICATION</span></span>](/sql/t-sql/statements/create-database-audit-specification-transact-sql)|[<span data-ttu-id="b3f83-229">DROP SERVER AUDIT SPECIFICATION</span><span class="sxs-lookup"><span data-stu-id="b3f83-229">DROP SERVER AUDIT SPECIFICATION</span></span>](/sql/t-sql/statements/drop-server-audit-specification-transact-sql)|  
  
### <a name="dynamic-views-and-functions"></a><span data-ttu-id="b3f83-230">동적 뷰 및 함수</span><span class="sxs-lookup"><span data-stu-id="b3f83-230">Dynamic Views and Functions</span></span>  
 <span data-ttu-id="b3f83-231">다음 표에서는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit에 사용할 수 있는 동적 뷰 및 함수를 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-231">The following table lists the dynamic views and function that you can use for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Auditing.</span></span>  
  
|<span data-ttu-id="b3f83-232">동적 뷰 및 함수</span><span class="sxs-lookup"><span data-stu-id="b3f83-232">Dynamic views and functions</span></span>|<span data-ttu-id="b3f83-233">Description</span><span class="sxs-lookup"><span data-stu-id="b3f83-233">Description</span></span>|  
|---------------------------------|-----------------|  
|[<span data-ttu-id="b3f83-234">sys.dm_audit_actions</span><span class="sxs-lookup"><span data-stu-id="b3f83-234">sys.dm_audit_actions</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-audit-actions-transact-sql)|<span data-ttu-id="b3f83-235">감사 로그에 보고할 수 있는 모든 감사 동작 및 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 일부로 구성할 수 있는 모든 감사 동작 그룹에 대한 행을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-235">Returns a row for every audit action that can be reported in the audit log and every audit action group that can be configured as part of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit.</span></span>|  
|[<span data-ttu-id="b3f83-236">sys.dm_server_audit_status</span><span class="sxs-lookup"><span data-stu-id="b3f83-236">sys.dm_server_audit_status</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-server-audit-status-transact-sql)|<span data-ttu-id="b3f83-237">감사의 현재 상태에 대한 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-237">Provides information about the current state of the audit.</span></span>|  
|[<span data-ttu-id="b3f83-238">sys.dm_audit_class_type_map</span><span class="sxs-lookup"><span data-stu-id="b3f83-238">sys.dm_audit_class_type_map</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-audit-class-type-map-transact-sql)|<span data-ttu-id="b3f83-239">감사 로그의 class_type 필드를 sys.dm_audit_actions의 class_desc 필드에 매핑하는 테이블을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-239">Returns a table that maps the class_type field in the audit log to the class_desc field in sys.dm_audit_actions.</span></span>|  
|[<span data-ttu-id="b3f83-240">fn_get_audit_file</span><span class="sxs-lookup"><span data-stu-id="b3f83-240">fn_get_audit_file</span></span>](/sql/relational-databases/system-functions/sys-fn-get-audit-file-transact-sql)|<span data-ttu-id="b3f83-241">서버 감사에 의해 생성된 감사 파일로부터 정보를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-241">Returns information from an audit file created by a server audit.</span></span>|  
  
### <a name="catalog-views"></a><span data-ttu-id="b3f83-242">카탈로그 뷰</span><span class="sxs-lookup"><span data-stu-id="b3f83-242">Catalog Views</span></span>  
 <span data-ttu-id="b3f83-243">다음 표에서는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit에 사용할 수 있는 카탈로그 뷰를 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-243">The following table lists the catalog views that you can use for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] auditing.</span></span>  
  
|<span data-ttu-id="b3f83-244">카탈로그 뷰</span><span class="sxs-lookup"><span data-stu-id="b3f83-244">Catalog views</span></span>|<span data-ttu-id="b3f83-245">Description</span><span class="sxs-lookup"><span data-stu-id="b3f83-245">Description</span></span>|  
|-------------------|-----------------|  
|[<span data-ttu-id="b3f83-246">sys.database_ audit_specifications</span><span class="sxs-lookup"><span data-stu-id="b3f83-246">sys.database_ audit_specifications</span></span>](/sql/relational-databases/system-catalog-views/sys-database-audit-specifications-transact-sql)|<span data-ttu-id="b3f83-247">서버 인스턴스에 있는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 데이터베이스 감사 사양 정보를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-247">Contains information about the database audit specifications in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit on a server instance.</span></span>|  
|[<span data-ttu-id="b3f83-248">sys.database_audit_specification_details</span><span class="sxs-lookup"><span data-stu-id="b3f83-248">sys.database_audit_specification_details</span></span>](/sql/relational-databases/system-catalog-views/sys-database-audit-specification-details-transact-sql)|<span data-ttu-id="b3f83-249">서버 인스턴스에 있는 모든 데이터베이스에 대한 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 데이터베이스 감사 사양 정보를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-249">Contains information about the database audit specifications in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit on a server instance for all databases.</span></span>|  
|[<span data-ttu-id="b3f83-250">sys.server_audits</span><span class="sxs-lookup"><span data-stu-id="b3f83-250">sys.server_audits</span></span>](/sql/relational-databases/system-catalog-views/sys-server-audits-transact-sql)|<span data-ttu-id="b3f83-251">서버 인스턴스에 있는 각 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit에 대해 하나의 행을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-251">Contains one row for each [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit in a server instance.</span></span>|  
|[<span data-ttu-id="b3f83-252">sys.server_audit_specifications</span><span class="sxs-lookup"><span data-stu-id="b3f83-252">sys.server_audit_specifications</span></span>](/sql/relational-databases/system-catalog-views/sys-server-audit-specifications-transact-sql)|<span data-ttu-id="b3f83-253">서버 인스턴스에 있는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 서버 감사 사양 정보를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-253">Contains information about the server audit specifications in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit on a server instance.</span></span>|  
|[<span data-ttu-id="b3f83-254">sys.server_audit_specifications_details</span><span class="sxs-lookup"><span data-stu-id="b3f83-254">sys.server_audit_specifications_details</span></span>](/sql/relational-databases/system-catalog-views/sys-server-audit-specification-details-transact-sql)|<span data-ttu-id="b3f83-255">서버 인스턴스에 있는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 서버 감사 사양 세부 정보(동작)를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-255">Contains information about the server audit specification details (actions) in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit on a server instance.</span></span>|  
|[<span data-ttu-id="b3f83-256">sys.server_file_audits</span><span class="sxs-lookup"><span data-stu-id="b3f83-256">sys.server_file_audits</span></span>](/sql/relational-databases/system-catalog-views/sys-server-file-audits-transact-sql)|<span data-ttu-id="b3f83-257">서버 인스턴스에 있는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 파일 감사 유형에 대한 확장 정보를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-257">Contains stores extended information about the file audit type in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] audit on a server instance.</span></span>|  
  
## <a name="permissions"></a><span data-ttu-id="b3f83-258">사용 권한</span><span class="sxs-lookup"><span data-stu-id="b3f83-258">Permissions</span></span>  
 <span data-ttu-id="b3f83-259">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit의 기능과 명령마다 필요한 사용 권한이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-259">Each feature and command for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Audit has individual permission requirements.</span></span>  
  
 <span data-ttu-id="b3f83-260">서버 감사나 서버 감사 사양을 생성, 변경 또는 삭제하려면 서버 보안 주체에 ALTER ANY SERVER AUDIT 또는 CONTROL SERVER 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-260">To create, alter, or drop a Server Audit or Server Audit Specification, server principals require the ALTER ANY SERVER AUDIT or the CONTROL SERVER permission.</span></span> <span data-ttu-id="b3f83-261">데이터베이스 감사 사양을 생성, 변경 또는 삭제하려면 데이터베이스 보안 주체에 ALTER ANY DATABASE AUDIT 권한이나 데이터베이스에 대한 ALTER 또는 CONTROL 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-261">To create, alter, or drop a Database Audit Specification, database principals require the ALTER ANY DATABASE AUDIT permission or the ALTER or CONTROL permission on the database.</span></span> <span data-ttu-id="b3f83-262">또한 데이터베이스에 연결할 수 있는 권한이나 ALTER ANY SERVER AUDIT 또는 CONTROL SERVER 권한이 보안 주체에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-262">In addition, principals must have permission to connect to the database, or ALTER ANY SERVER AUDIT or CONTROL SERVER permissions.</span></span>  
  
 <span data-ttu-id="b3f83-263">달리 지정되지 않은 경우 카탈로그 뷰를 보려면 보안 주체가 다음 중 하나를 보유하고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-263">Unless otherwise specified, viewing catalog views requires a principal to have one of the following:</span></span>  
  
-   <span data-ttu-id="b3f83-264">sysadmin 고정 서버 역할의 멤버 자격</span><span class="sxs-lookup"><span data-stu-id="b3f83-264">Membership in the sysadmin fixed server role.</span></span>  
  
-   <span data-ttu-id="b3f83-265">CONTROL SERVER 권한</span><span class="sxs-lookup"><span data-stu-id="b3f83-265">The CONTROL SERVER permission.</span></span>  
  
-   <span data-ttu-id="b3f83-266">VIEW SERVER STATE 권한</span><span class="sxs-lookup"><span data-stu-id="b3f83-266">The VIEW SERVER STATE permission.</span></span>  
  
-   <span data-ttu-id="b3f83-267">ALTER ANY AUDIT 권한</span><span class="sxs-lookup"><span data-stu-id="b3f83-267">The ALTER ANY AUDIT permission.</span></span>  
  
-   <span data-ttu-id="b3f83-268">VIEW AUDIT STATE 권한(sys.server_audits 카탈로그 뷰에 대한 보안 주체 액세스만 제공)</span><span class="sxs-lookup"><span data-stu-id="b3f83-268">The VIEW AUDIT STATE permission (gives only the principal access to the sys.server_audits catalog view).</span></span>  
  
 <span data-ttu-id="b3f83-269">보안 주체가 동적 관리 뷰를 사용하려면 VIEW SERVER STATE 권한이나 ALTER ANY AUDIT 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-269">A principal must have the VIEW SERVER STATE or ALTER ANY AUDIT permission to use the Dynamic Management Views.</span></span>  
  
 <span data-ttu-id="b3f83-270">권한 및 사용 권한을 부여하는 방법은 [GRANT&#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-transact-sql)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-270">For more information about how to grant rights and permissions, see [GRANT &#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-transact-sql).</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="b3f83-271">sysadmin 역할의 보안 주체는 모든 감사 구성 요소를 변경할 수 있으며 db_owner 역할의 보안 주체는 데이터베이스의 감사 사양을 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-271">Principals in the sysadmin role can tamper with any audit component and those in the db_owner role can tamper with audit specifications in a database.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="b3f83-272">Audit는 감사 사양을 만들거나 변경하는 로그온에 ALTER ANY DATABASE AUDIT 이상의 권한이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-272">Audit will validate that a logon that creates or alters an audit specification has at least the ALTER ANY DATABASE AUDIT permission.</span></span> <span data-ttu-id="b3f83-273">하지만 데이터베이스를 연결할 때는 이를 확인하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-273">However, it does no validation when you attach a database.</span></span> <span data-ttu-id="b3f83-274">모든 데이터베이스 감사 사양을 sysadmin 또는 db_owner 역할의 보안 주체만큼만 신뢰할 수 있다고 간주해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-274">You should assume all Database Audit Specifications are only as trustworthy as those principals in the sysadmin or db_owner role.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="b3f83-275">관련 작업</span><span class="sxs-lookup"><span data-stu-id="b3f83-275">Related Tasks</span></span>  
 [<span data-ttu-id="b3f83-276">서버 감사 및 서버 감사 사양 만들기</span><span class="sxs-lookup"><span data-stu-id="b3f83-276">Create a Server Audit and Server Audit Specification</span></span>](create-a-server-audit-and-server-audit-specification.md)  
  
 [<span data-ttu-id="b3f83-277">서버 감사 및 데이터베이스 감사 사양 만들기</span><span class="sxs-lookup"><span data-stu-id="b3f83-277">Create a Server Audit and Database Audit Specification</span></span>](create-a-server-audit-and-database-audit-specification.md)  
  
 [<span data-ttu-id="b3f83-278">SQL Server 감사 로그 보기</span><span class="sxs-lookup"><span data-stu-id="b3f83-278">View a SQL Server Audit Log</span></span>](view-a-sql-server-audit-log.md)  
  
 [<span data-ttu-id="b3f83-279">보안 로그에 SQL Server 감사 이벤트 쓰기</span><span class="sxs-lookup"><span data-stu-id="b3f83-279">Write SQL Server Audit Events to the Security Log</span></span>](write-sql-server-audit-events-to-the-security-log.md)  
  
## <a name="topics-closely-related-to-auditing"></a><span data-ttu-id="b3f83-280">감사 관련 항목</span><span class="sxs-lookup"><span data-stu-id="b3f83-280">Topics Closely Related to Auditing</span></span>  
 [<span data-ttu-id="b3f83-281">서버 속성&#40;보안 페이지&#41;</span><span class="sxs-lookup"><span data-stu-id="b3f83-281">Server Properties &#40;Security Page&#41;</span></span>](../../../database-engine/configure-windows/server-properties-security-page.md)  
 <span data-ttu-id="b3f83-282">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]에 대한 로그인 감사를 설정하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-282">Explains how to turn on login auditing for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b3f83-283">감사 레코드는 Windows 애플리케이션 로그에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-283">The audit records are stored in the Windows application log.</span></span>  
  
 [<span data-ttu-id="b3f83-284">c2 audit mode 서버 구성 옵션</span><span class="sxs-lookup"><span data-stu-id="b3f83-284">c2 audit mode Server Configuration Option</span></span>](../../../database-engine/configure-windows/c2-audit-mode-server-configuration-option.md)  
 <span data-ttu-id="b3f83-285">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]의 C2 보안 정책 준수 감사 모드에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-285">Explains the C2 security compliance auditing mode in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 [<span data-ttu-id="b3f83-286">Security Audit 이벤트 범주&#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="b3f83-286">Security Audit Event Category &#40;SQL Server Profiler&#41;</span></span>](../../../relational-databases/event-classes/security-audit-event-category-sql-server-profiler.md)  
 <span data-ttu-id="b3f83-287">[!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)]에서 사용할 수 있는 감사 이벤트에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-287">Explains the audit events you can use in [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="b3f83-288">자세한 내용은 [SQL Server Profiler](../../../tools/sql-server-profiler/sql-server-profiler.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b3f83-288">For more information, see [SQL Server Profiler](../../../tools/sql-server-profiler/sql-server-profiler.md).</span></span>  
  
 [<span data-ttu-id="b3f83-289">SQL 추적</span><span class="sxs-lookup"><span data-stu-id="b3f83-289">SQL Trace</span></span>](../../sql-trace/sql-trace.md)  
 <span data-ttu-id="b3f83-290">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 프로파일러를 사용하지 않고 사용자의 애플리케이션 내에서 SQL 추적을 사용하여 수동으로 추적을 만드는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-290">Explains how SQL Trace can be used from within your own applications to create traces manually, instead of using [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Profiler.</span></span>  
  
 [<span data-ttu-id="b3f83-291">DDL 트리거</span><span class="sxs-lookup"><span data-stu-id="b3f83-291">DDL Triggers</span></span>](../../triggers/ddl-triggers.md)  
 <span data-ttu-id="b3f83-292">DDL(데이터 정의 언어) 트리거를 사용하여 데이터베이스 변경 내용을 추적할 수 있는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-292">Explains how you can use Data Definition Language (DDL) triggers to track changes to your databases.</span></span>  
  
 [<span data-ttu-id="b3f83-293">Microsoft TechNet: SQL Server TechCenter: SQL Server 2005 보안 및 보호</span><span class="sxs-lookup"><span data-stu-id="b3f83-293">Microsoft TechNet: SQL Server TechCenter: SQL Server 2005 Security and Protection</span></span>](https://go.microsoft.com/fwlink/?LinkId=101152)  
 <span data-ttu-id="b3f83-294">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 보안에 대한 최신 정보를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b3f83-294">Provides up-to-date information about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] security.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b3f83-295">참고 항목</span><span class="sxs-lookup"><span data-stu-id="b3f83-295">See Also</span></span>  
 <span data-ttu-id="b3f83-296">[SQL Server 감사 동작 그룹 및 동작](sql-server-audit-action-groups-and-actions.md) </span><span class="sxs-lookup"><span data-stu-id="b3f83-296">[SQL Server Audit Action Groups and Actions](sql-server-audit-action-groups-and-actions.md) </span></span>  
 [<span data-ttu-id="b3f83-297">SQL Server 감사 기록</span><span class="sxs-lookup"><span data-stu-id="b3f83-297">SQL Server Audit Records</span></span>](sql-server-audit-records.md)  
  
  
