---
title: EKM(확장 가능 키 관리) | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- Key Management
- Extensible Key Management
- EKM, described
ms.assetid: 9bfaf500-2d1e-4c02-b041-b8761a9e695b
author: jaszymas
ms.author: jaszymas
ms.openlocfilehash: 4fc9b002b57f8118494709f8fe27a8b19ce28d8e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732499"
---
# <a name="extensible-key-management-ekm"></a><span data-ttu-id="f1048-102">EKM(확장 가능 키 관리)</span><span class="sxs-lookup"><span data-stu-id="f1048-102">Extensible Key Management (EKM)</span></span>
  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="f1048-103">에서는 암호화 및 키 생성용 MSCAPI( *Microsoft Cryptographic API* ) 공급자를 사용하여 EKM( *Extensible Key Management* )과 함께 데이터 암호화 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-103">provides data encryption capabilities together with *Extensible Key Management* (EKM), using the *Microsoft Cryptographic API* (MSCAPI) provider for encryption and key generation.</span></span> <span data-ttu-id="f1048-104">데이터 및 키 암호화를 위한 암호화 키는 임시 키 컨테이너에서 생성되며 데이터베이스에 저장되기 전에 공급자로부터 내보내져야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-104">Encryption keys for data and key encryption are created in transient key containers, and they must be exported from a provider before they are stored in the database.</span></span> <span data-ttu-id="f1048-105">이 방법을 사용하면 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]에서 암호화 키 계층 및 키 백업을 포함한 키 관리를 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-105">This approach enables key management that includes an encryption key hierarchy and key backup, to be handled by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="f1048-106">규정 준수에 대한 요구와 데이터에 포함된 개인 정보 보호에 대한 관심이 증가함에 따라 조직에서는 "심층 방어" 솔루션을 제공하기 위해 암호화를 활용하고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-106">With the growing demand for regulatory compliance and concern for data privacy, organizations are taking advantage of encryption as a way to provide a "defense in depth" solution.</span></span> <span data-ttu-id="f1048-107">일반적으로 이 방법은 데이터베이스 암호화 관리 도구만 사용하므로 유용한 방법이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-107">This approach is often impractical using only database encryption management tools.</span></span> <span data-ttu-id="f1048-108">하드웨어 공급업체에서는 HSM( *하드웨어 보안 모듈* )을 사용하여 엔터프라이즈 키 관리를 해결하는 제품을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-108">Hardware vendors provide products that address enterprise key management by using *Hardware Security Modules* (HSM).</span></span> <span data-ttu-id="f1048-109">HSM 디바이스는 하드웨어나 소프트웨어 모듈에 암호화 키를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-109">HSM devices store encryption keys on hardware or software modules.</span></span> <span data-ttu-id="f1048-110">이 방법은 암호화 키와 암호화 데이터가 별도로 보관되므로 더욱 안전한 솔루션입니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-110">This is a more secure solution because the encryption keys do not reside with encryption data.</span></span>  
  
 <span data-ttu-id="f1048-111">많은 공급업체에서 키 관리와 암호화 가속 둘 다를 위해 HSM을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-111">A number of vendors offer HSM for both key management and encryption acceleration.</span></span> <span data-ttu-id="f1048-112">HSM 디바이스는 애플리케이션과 HSM 간의 매개자로 서버 프로세스가 포함된 하드웨어 인터페이스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-112">HSM devices use hardware interfaces with a server process as an intermediary between an application and an HSM.</span></span> <span data-ttu-id="f1048-113">또한 공급업체는 하드웨어나 소프트웨어일 수 있는 해당 모듈을 통해 MSCAPI 공급자를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-113">Vendors also implement MSCAPI providers over their modules, which might be hardware or software.</span></span> <span data-ttu-id="f1048-114">일반적으로 MSCAPI는 HSM에서 제공하는 기능의 하위 집합만 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-114">MSCAPI often offers only a subset of the functionality that is offered by an HSM.</span></span> <span data-ttu-id="f1048-115">또한 공급업체는 HSM, 키 구성 및 키 액세스를 위해 관리 소프트웨어를 제공할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-115">Vendors can also provide management software for HSM, key configuration, and key access.</span></span>  
  
 <span data-ttu-id="f1048-116">HSM 구현은 공급업체마다 다르며 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에서 사용하려면 공용 인터페이스가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-116">HSM implementations vary from vendor to vendor, and to use them with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requires a common interface.</span></span> <span data-ttu-id="f1048-117">MSCAPI는 이 인터페이스를 제공하지만 HSM 기능의 하위 집합만 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-117">Although the MSCAPI provides this interface, it supports only a subset of the HSM features.</span></span> <span data-ttu-id="f1048-118">이외에도 MSCAPI에는 기본적으로 대칭 키를 지속할 수 없고 세션 지향이 지원되지 않는 등의 제한 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-118">It also has other limitations, such as the inability to natively persist symmetric keys, and a lack of session-oriented support.</span></span>  
  
 <span data-ttu-id="f1048-119">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 확장 가능 키 관리를 사용하면 타사 EKM/HSM 공급업체가 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]에 해당 모듈을 등록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-119">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Extensible Key Management enables third-party EKM/HSM vendors to register their modules in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f1048-120">EKM 모듈이 등록되면 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에서 이러한 모듈에 저장된 암호화 키를 사용할 수 있고,</span><span class="sxs-lookup"><span data-stu-id="f1048-120">When registered, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] users can use the encryption keys stored on EKM modules.</span></span> <span data-ttu-id="f1048-121">이를 통해 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에서 이러한 모듈이 지원하는 대량 암호화 및 암호 해독 같은 고급 암호화 기능과 키 에이징 및 키 회전 같은 키 관리 함수에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-121">This enables [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to access the advanced encryption features these modules support such as bulk encryption and decryption, and key management functions such as key aging and key rotation.</span></span>  
  
 <span data-ttu-id="f1048-122">Azure VM에서 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 를 실행할 때 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 는 [Azure 키 자격 증명 모음](https://go.microsoft.com/fwlink/?LinkId=521401)에 저장된 키를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-122">When running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in an Azure VM, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] can use keys stored in the [Azure Key Vault](https://go.microsoft.com/fwlink/?LinkId=521401).</span></span> <span data-ttu-id="f1048-123">자세한 내용은 [Azure 주요 자격 증명 모음을 사용한 확장 가능 키 관리&#40;SQL Server&#41;](extensible-key-management-using-azure-key-vault-sql-server.md)에서 암호화 키 계층 및 키 백업을 포함한 키 관리를 처리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-123">For more information, see [Extensible Key Management Using Azure Key Vault &#40;SQL Server&#41;](extensible-key-management-using-azure-key-vault-sql-server.md).</span></span>  
  
## <a name="ekm-configuration"></a><span data-ttu-id="f1048-124">EKM 구성</span><span class="sxs-lookup"><span data-stu-id="f1048-124">EKM Configuration</span></span>  
 <span data-ttu-id="f1048-125">일부 [!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]버전에서는 확장 가능 키 관리를 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-125">Extensible Key Management is not available in every edition of [!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f1048-126">버전에서 지원 되는 기능 목록은 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [SQL Server 2014 버전에서 지 원하는 기능](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="f1048-126">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="f1048-127">기본적으로 확장 가능 키 관리는 해제되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-127">By default, Extensible Key Management is off.</span></span> <span data-ttu-id="f1048-128">이 기능을 사용하도록 설정하려면 다음 예와 같이 다음 옵션과 값이 포함된 sp_configure 명령을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-128">To enable this feature, use the sp_configure command that has the following option and value, as in the following example:</span></span>  
  
```  
sp_configure 'show advanced', 1  
GO  
RECONFIGURE  
GO  
sp_configure 'EKM provider enabled', 1  
GO  
RECONFIGURE  
GO  
```  
  
> [!NOTE]  
>  <span data-ttu-id="f1048-129">EKM을 지원하지 않는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 버전에서 이 옵션에 대해 명령을 사용할 경우 오류가 수신됩니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-129">If you use the sp_configure command for this option on editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that do not support EKM, you will receive an error.</span></span>  
  
 <span data-ttu-id="f1048-130">기능을 사용하지 않으려면 값을 **0**으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-130">To disable the feature, set the value to **0**.</span></span> <span data-ttu-id="f1048-131">서버 옵션을 설정하는 방법은 [sp_configure&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f1048-131">For more information about how to set server options, see [sp_configure &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql).</span></span>  
  
## <a name="how-to-use-ekm"></a><span data-ttu-id="f1048-132">EKM 사용 방법</span><span class="sxs-lookup"><span data-stu-id="f1048-132">How to Use EKM</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="f1048-133">확장 가능 키 관리를 사용하면 데이터베이스 파일을 보호하는 암호화 키를 스마트 카드, USB 디바이스 또는 EKM/HSM 모듈과 같은 외부 디바이스에 저장할 수 있을 뿐 아니라</span><span class="sxs-lookup"><span data-stu-id="f1048-133">Extensible Key Management enables the encryption keys that protect the database files to be stored in an off-box device such as a smartcard, USB device, or EKM/HSM module.</span></span> <span data-ttu-id="f1048-134">데이터베이스 관리자(sysadmin 그룹의 멤버 제외)로부터 데이터를 보호할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-134">This also enables data protection from database administrators (except members of the sysadmin group).</span></span> <span data-ttu-id="f1048-135">즉, 외부 EKM/HSM 모듈에서 데이터베이스 사용자만 액세스할 수 있는 암호화 키를 사용하여 데이터를 암호화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-135">Data can be encrypted by using encryption keys that only the database user has access to on the external EKM/HSM module.</span></span>  
  
 <span data-ttu-id="f1048-136">또한 확장 가능 키 관리는 다음과 같은 이점을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-136">Extensible Key Management also provides the following benefits:</span></span>  
  
-   <span data-ttu-id="f1048-137">추가 권한 확인(의무 분리 가능)</span><span class="sxs-lookup"><span data-stu-id="f1048-137">Additional authorization check (enabling separation of duties).</span></span>  
  
-   <span data-ttu-id="f1048-138">하드웨어 기반 암호화/암호 해독의 성능 향상</span><span class="sxs-lookup"><span data-stu-id="f1048-138">Higher performance for hardware-based encryption/decryption.</span></span>  
  
-   <span data-ttu-id="f1048-139">외부 암호화 키 생성</span><span class="sxs-lookup"><span data-stu-id="f1048-139">External encryption key generation.</span></span>  
  
-   <span data-ttu-id="f1048-140">외부 암호화 키 스토리지(데이터와 키의 물리적 분리)</span><span class="sxs-lookup"><span data-stu-id="f1048-140">External encryption key storage (physical separation of data and keys).</span></span>  
  
-   <span data-ttu-id="f1048-141">암호화 키 검색</span><span class="sxs-lookup"><span data-stu-id="f1048-141">Encryption key retrieval.</span></span>  
  
-   <span data-ttu-id="f1048-142">외부 암호화 키 보존(암호화 키 회전 사용)</span><span class="sxs-lookup"><span data-stu-id="f1048-142">External encryption key retention (enables encryption key rotation).</span></span>  
  
-   <span data-ttu-id="f1048-143">더 쉬워진 암호화 키 복구</span><span class="sxs-lookup"><span data-stu-id="f1048-143">Easier encryption key recovery.</span></span>  
  
-   <span data-ttu-id="f1048-144">관리 가능한 암호화 키 배포</span><span class="sxs-lookup"><span data-stu-id="f1048-144">Manageable encryption key distribution.</span></span>  
  
-   <span data-ttu-id="f1048-145">안전한 암호화 키 삭제</span><span class="sxs-lookup"><span data-stu-id="f1048-145">Secure encryption key disposal.</span></span>  
  
 <span data-ttu-id="f1048-146">사용자 이름과 암호 조합 또는 EKM 드라이버에서 정의한 다른 메서드에 확장 가능 키 관리를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-146">You can use Extensible Key Management for a username and password combination or other methods defined by the EKM driver.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="f1048-147">문제 해결을 위해 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] 기술 지원 서비스에 EKM 공급자의 암호화 키를 제공하거나</span><span class="sxs-lookup"><span data-stu-id="f1048-147">For troubleshooting, [!INCLUDE[msCoName](../../../includes/msconame-md.md)] technical support might require the encryption key from the EKM provider.</span></span> <span data-ttu-id="f1048-148">공급업체 도구나 프로세스에 액세스해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-148">You might also need to access vendor tools or processes to help resolve an issue.</span></span>  
  
### <a name="authentication-with-an-ekm-device"></a><span data-ttu-id="f1048-149">EKM 디바이스를 사용한 인증</span><span class="sxs-lookup"><span data-stu-id="f1048-149">Authentication with an EKM Device</span></span>  
 <span data-ttu-id="f1048-150">EKM 모듈은 둘 이상의 인증 유형을 지원할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-150">An EKM module can support more than one type of authentication.</span></span> <span data-ttu-id="f1048-151">각 공급자는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]에 한 가지 유형의 인증만 제공합니다. 즉, 모듈에서 기본 또는 기타 인증 유형을 지원하는 경우 둘 다가 아닌 둘 중 하나만 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-151">Each provider exposes only one type of authentication to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], that is if the module supports Basic or Other authentication types, it exposes one or the other, but not both.</span></span>  
  
#### <a name="ekm-device-specific-basic-authentication-using-usernamepassword"></a><span data-ttu-id="f1048-152">사용자 이름/암호를 통한 EKM 디바이스별 기본 인증</span><span class="sxs-lookup"><span data-stu-id="f1048-152">EKM Device-Specific Basic Authentication Using username/password</span></span>  
 <span data-ttu-id="f1048-153">*사용자 이름/암호* 쌍을 사용한 기본 인증을 지원하는 EKM 모듈의 경우 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]에서 자격 증명을 사용하여 투명한 인증을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-153">For those EKM modules that support Basic authentication using a *username/password* pair, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] provides transparent authentication using credentials.</span></span> <span data-ttu-id="f1048-154">자격 증명에 대한 자세한 내용은 [자격 증명&#40;데이터베이스 엔진&#41;](../authentication-access/credentials-database-engine.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f1048-154">For more information about credentials, see [Credentials &#40;Database Engine&#41;](../authentication-access/credentials-database-engine.md).</span></span>  
  
 <span data-ttu-id="f1048-155">로그온할 때마다 EKM 공급자에 대해 자격 증명을 만든 후 로그인(Windows 및 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 계정 모두)에 매핑하여 EKM 모듈에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-155">A credential can be created for an EKM provider and mapped to a login (both Windows and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] accounts) to access an EKM module on per-login basis.</span></span> <span data-ttu-id="f1048-156">자격 증명의 *Identify* 필드에는 사용자 이름이 포함되고 *secret* 필드에는 EKM 모듈에 연결할 암호가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-156">The *Identify* field of the credential contains the username; the *secret* field contains a password to connect to an EKM module.</span></span>  
  
 <span data-ttu-id="f1048-157">EKM 공급자에 대해 매핑된 로그인 자격 증명이 없으면 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 서비스 계정에 매핑된 자격 증명이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-157">If there is no login mapped credential for the EKM provider, the credential mapped to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account is used.</span></span>  
  
 <span data-ttu-id="f1048-158">자격 증명이 고유한 EKM 공급자에 대해 사용되는 경우 로그인에 여러 개의 매핑된 자격 증명이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-158">A login can have multiple credentials mapped to it, as long as they are used for distinctive EKM providers.</span></span> <span data-ttu-id="f1048-159">로그인별로 각 EKM 공급자에 하나의 매핑된 자격 증명만 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-159">There must be only one mapped credential per EKM provider per login.</span></span> <span data-ttu-id="f1048-160">동일한 자격 증명이 다른 로그인에 매핑될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-160">The same credential can be mapped to other logins.</span></span>  
  
#### <a name="other-types-of-ekm-device-specific-authentication"></a><span data-ttu-id="f1048-161">다른 유형의 EKM 디바이스별 인증</span><span class="sxs-lookup"><span data-stu-id="f1048-161">Other Types of EKM Device-Specific Authentication</span></span>  
 <span data-ttu-id="f1048-162">Windows 또는 *사용자/암호* 조합 이외의 인증을 사용하는 EKM 모듈의 경우 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]와는 별도로 인증이 수행되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-162">For EKM modules that have authentication other than Windows or *user/password* combinations, authentication must be performed independently from [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="encryption-and-decryption-by-an-ekm-device"></a><span data-ttu-id="f1048-163">EKM 디바이스별 암호화 및 암호 해독</span><span class="sxs-lookup"><span data-stu-id="f1048-163">Encryption and Decryption by an EKM Device</span></span>  
 <span data-ttu-id="f1048-164">다음 함수와 기능을 사용하여 대칭 및 비대칭 키를 통해 데이터를 암호화하고 암호 해독할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-164">You can use the following functions and features to encrypt and decrypt data by using symmetric and asymmetric keys:</span></span>  
  
|<span data-ttu-id="f1048-165">함수 또는 기능</span><span class="sxs-lookup"><span data-stu-id="f1048-165">Function or feature</span></span>|<span data-ttu-id="f1048-166">참조</span><span class="sxs-lookup"><span data-stu-id="f1048-166">Reference</span></span>|  
|-------------------------|---------------|  
|<span data-ttu-id="f1048-167">대칭 키 암호화</span><span class="sxs-lookup"><span data-stu-id="f1048-167">Symmetric key encryption</span></span>|[<span data-ttu-id="f1048-168">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f1048-168">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-symmetric-key-transact-sql)|  
|<span data-ttu-id="f1048-169">비대칭 키 암호화</span><span class="sxs-lookup"><span data-stu-id="f1048-169">Asymmetric Key encryption</span></span>|[<span data-ttu-id="f1048-170">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f1048-170">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-asymmetric-key-transact-sql)|  
|<span data-ttu-id="f1048-171">EncryptByKey(key_guid, 'cleartext', ...)</span><span class="sxs-lookup"><span data-stu-id="f1048-171">EncryptByKey(key_guid, 'cleartext', ...)</span></span>|[<span data-ttu-id="f1048-172">ENCRYPTBYKEY&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f1048-172">ENCRYPTBYKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/encryptbykey-transact-sql)|  
|<span data-ttu-id="f1048-173">DecryptByKey(ciphertext, ...)</span><span class="sxs-lookup"><span data-stu-id="f1048-173">DecryptByKey(ciphertext, ...)</span></span>|[<span data-ttu-id="f1048-174">DECRYPTBYKEY&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f1048-174">DECRYPTBYKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/decryptbykey-transact-sql)|  
|<span data-ttu-id="f1048-175">EncryptByAsmKey(key_guid, 'cleartext')</span><span class="sxs-lookup"><span data-stu-id="f1048-175">EncryptByAsmKey(key_guid, 'cleartext')</span></span>|[<span data-ttu-id="f1048-176">ENCRYPTBYASYMKEY&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f1048-176">ENCRYPTBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/encryptbyasymkey-transact-sql)|  
|<span data-ttu-id="f1048-177">DecryptByAsmKey(ciphertext)</span><span class="sxs-lookup"><span data-stu-id="f1048-177">DecryptByAsmKey(ciphertext)</span></span>|[<span data-ttu-id="f1048-178">DECRYPTBYASYMKEY&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f1048-178">DECRYPTBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/decryptbyasymkey-transact-sql)|  
  
#### <a name="database-keys-encryption-by-ekm-keys"></a><span data-ttu-id="f1048-179">EKM 키로 데이터베이스 키 암호화</span><span class="sxs-lookup"><span data-stu-id="f1048-179">Database Keys Encryption by EKM Keys</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="f1048-180">에서는 EKM 키를 사용하여 데이터베이스에 있는 다른 키를 암호화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-180">can use EKM keys to encrypt other keys in a database.</span></span> <span data-ttu-id="f1048-181">EKM 디바이스에서 대칭 키 및 비대칭 키 모두를 만들고 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-181">You can create and use both symmetric and asymmetric keys on an EKM device.</span></span> <span data-ttu-id="f1048-182">EKM 비대칭 키를 사용하여 네이티브(비 EKM) 대칭 키를 암호화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-182">You can encrypt native (non-EKM) symmetric keys with EKM asymmetric keys.</span></span>  
  
 <span data-ttu-id="f1048-183">다음 예에서는 데이터베이스 대칭 키를 만들고 EKM 모듈에 저장된 키를 사용하여 이 키를 암호화합니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-183">The following example creates a database symmetric key and encrypts it using a key on an EKM module.</span></span>  
  
```  
CREATE SYMMETRIC KEY Key1  
WITH ALGORITHM = AES_256  
ENCRYPTION BY EKM_AKey1;  
GO  
--Open database key  
OPEN SYMMETRIC KEY Key1  
DECRYPTION BY EKM_AKey1  
```  
  
 <span data-ttu-id="f1048-184">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]의 데이터베이스 및 서버 키에 대한 자세한 내용은 [SQL Server 및 데이터베이스 암호화 키&#40;데이터베이스 엔진&#41;](sql-server-and-database-encryption-keys-database-engine.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="f1048-184">For more information about Database and Server Keys in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [SQL Server and Database Encryption Keys &#40;Database Engine&#41;](sql-server-and-database-encryption-keys-database-engine.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f1048-185">한 EKM 키로 다른 EKM 키를 암호화할 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-185">You cannot encrypt one EKM key with another EKM key.</span></span>  
>   
>  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="f1048-186">는 EKM 공급자에서 생성된 비대칭 키를 사용한 서명 모듈을 지원하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="f1048-186">does not support signing modules with asymmetric keys generated from EKM provider.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="f1048-187">관련 작업</span><span class="sxs-lookup"><span data-stu-id="f1048-187">Related Tasks</span></span>  
 [<span data-ttu-id="f1048-188">EKM provider enabled 서버 구성 옵션</span><span class="sxs-lookup"><span data-stu-id="f1048-188">EKM provider enabled Server Configuration Option</span></span>](../../../database-engine/configure-windows/ekm-provider-enabled-server-configuration-option.md)  
  
 [<span data-ttu-id="f1048-189">EKM을 사용 하 여 TDE 사용</span><span class="sxs-lookup"><span data-stu-id="f1048-189">Enable TDE Using EKM</span></span>](enable-tde-on-sql-server-using-ekm.md)  
  
 [<span data-ttu-id="f1048-190">Azure Key Vault를 사용한 확장 가능 키 관리&#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="f1048-190">Extensible Key Management Using Azure Key Vault &#40;SQL Server&#41;</span></span>](extensible-key-management-using-azure-key-vault-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="f1048-191">참고 항목</span><span class="sxs-lookup"><span data-stu-id="f1048-191">See Also</span></span>  
 <span data-ttu-id="f1048-192">[CREATE CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-192">[CREATE CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="f1048-193">[DROP CRYPTOGRAPHIC PROVIDER&#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-193">[DROP CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="f1048-194">[ALTER CRYPTOGRAPHIC PROVIDER&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-cryptographic-provider-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-194">[ALTER CRYPTOGRAPHIC PROVIDER &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-cryptographic-provider-transact-sql) </span></span>  
 <span data-ttu-id="f1048-195">[sys.cryptographic_providers&#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-cryptographic-providers-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-195">[sys.cryptographic_providers &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-cryptographic-providers-transact-sql) </span></span>  
 <span data-ttu-id="f1048-196">[sys.dm_cryptographic_provider_sessions&#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-sessions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-196">[sys.dm_cryptographic_provider_sessions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-sessions-transact-sql) </span></span>  
 <span data-ttu-id="f1048-197">[sys.dm_cryptographic_provider_properties&#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-properties-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-197">[sys.dm_cryptographic_provider_properties &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-properties-transact-sql) </span></span>  
 <span data-ttu-id="f1048-198">[sys.dm_cryptographic_provider_algorithms&#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-algorithms-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-198">[sys.dm_cryptographic_provider_algorithms &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-algorithms-transact-sql) </span></span>  
 <span data-ttu-id="f1048-199">[sys.dm_cryptographic_provider_keys&#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-keys-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-199">[sys.dm_cryptographic_provider_keys &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-cryptographic-provider-keys-transact-sql) </span></span>  
 <span data-ttu-id="f1048-200">[sys.credentials&#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-credentials-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-200">[sys.credentials &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-credentials-transact-sql) </span></span>  
 <span data-ttu-id="f1048-201">[CREATE CREDENTIAL &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-credential-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-201">[CREATE CREDENTIAL &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-credential-transact-sql) </span></span>  
 <span data-ttu-id="f1048-202">[ALTER LOGIN &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-login-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-202">[ALTER LOGIN &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-login-transact-sql) </span></span>  
 <span data-ttu-id="f1048-203">[CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-203">[CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="f1048-204">[ALTER ASYMMETRIC KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-204">[ALTER ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="f1048-205">[DROP ASYMMETRIC KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-asymmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-205">[DROP ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-asymmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="f1048-206">[CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-206">[CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="f1048-207">[ALTER SYMMETRIC KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-207">[ALTER SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="f1048-208">[DROP SYMMETRIC KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-208">[DROP SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/drop-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="f1048-209">[OPEN SYMMETRIC KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/open-symmetric-key-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f1048-209">[OPEN SYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/open-symmetric-key-transact-sql) </span></span>  
 <span data-ttu-id="f1048-210">[Reporting Services 암호화 키 백업 및 복원](../../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-210">[Back Up and Restore Reporting Services Encryption Keys](../../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span></span>  
 <span data-ttu-id="f1048-211">[암호화 키 삭제 및 다시 만들기&#40;SSRS 구성 관리자&#41;](../../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-211">[Delete and Re-create Encryption Keys  &#40;SSRS Configuration Manager&#41;](../../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span></span>  
 <span data-ttu-id="f1048-212">[확장 배포의 암호화 키 추가 및 제거&#40;SSRS 구성 관리자&#41;](../../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-212">[Add and Remove Encryption Keys for Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md) </span></span>  
 <span data-ttu-id="f1048-213">[서비스 마스터 키 백업](service-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-213">[Back Up the Service Master Key](service-master-key.md) </span></span>  
 <span data-ttu-id="f1048-214">[서비스 마스터 키 복원](restore-the-service-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-214">[Restore the Service Master Key](restore-the-service-master-key.md) </span></span>  
 <span data-ttu-id="f1048-215">[데이터베이스 마스터 키 만들기](create-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-215">[Create a Database Master Key](create-a-database-master-key.md) </span></span>  
 <span data-ttu-id="f1048-216">[데이터베이스 마스터 키 백업](back-up-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-216">[Back Up a Database Master Key](back-up-a-database-master-key.md) </span></span>  
 <span data-ttu-id="f1048-217">[데이터베이스 마스터 키 복원](restore-a-database-master-key.md) </span><span class="sxs-lookup"><span data-stu-id="f1048-217">[Restore a Database Master Key](restore-a-database-master-key.md) </span></span>  
 [<span data-ttu-id="f1048-218">두 서버에서 동일한 대칭 키 만들기</span><span class="sxs-lookup"><span data-stu-id="f1048-218">Create Identical Symmetric Keys on Two Servers</span></span>](create-identical-symmetric-keys-on-two-servers.md)  
  
  
