---
title: 온라인 인덱스 작업에 대한 지침 | Microsoft 문서
ms.custom: ''
ms.date: 11/11/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- clustered indexes, online operations
- online index operations
- indexes [SQL Server], online operations
- disk space [SQL Server], indexes
- nonclustered indexes [SQL Server], online operations
- transaction logs [SQL Server], indexes
ms.assetid: d82942e0-4a86-4b34-a65f-9f143ebe85ce
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 907fe6a826607fe1cb403ad9b8debe6faf6771fc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87660571"
---
# <a name="guidelines-for-online-index-operations"></a><span data-ttu-id="a3a22-102">온라인 인덱스 작업에 대한 지침</span><span class="sxs-lookup"><span data-stu-id="a3a22-102">Guidelines for Online Index Operations</span></span>
  <span data-ttu-id="a3a22-103">온라인 인덱스 작업을 수행할 때 다음 지침이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-103">When you perform online index operations, the following guidelines apply:</span></span>  
  
-   <span data-ttu-id="a3a22-104">기본 테이블에 `image` , **ntext**및 등의 LOB (large object) 데이터 형식이 포함 된 경우 클러스터형 인덱스는 오프 라인으로 생성, 다시 작성 또는 삭제 해야 `text` 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-104">Clustered indexes must be created, rebuilt, or dropped offline when the underlying table contains the following large object (LOB) data types: `image`, **ntext**, and `text`.</span></span>  
  
-   <span data-ttu-id="a3a22-105">로컬 임시 테이블의 인덱스를 온라인 상태로 만들거나 다시 작성하거나 삭제할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-105">Indexes on local temp tables cannot be created, rebuilt, or dropped online.</span></span> <span data-ttu-id="a3a22-106">이 제한 사항은 전역 임시 테이블의 인덱스에는 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-106">This restriction does not apply to indexes on global temp tables.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a3a22-107">온라인 인덱스 작업은 일부 [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]버전에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-107">Online index operations are not available in every edition of [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a3a22-108">버전에서 지원 되는 기능 목록은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [SQL Server 2014 버전에서 지 원하는 기능](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="a3a22-108">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="a3a22-109">다음 테이블은 온라인으로 수행할 수 있는 인덱스 작업 및 이러한 온라인 작업에서 제외되는 인덱스를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-109">The following table shows the index operations that can be performed online and the indexes that are excluded from these online operations.</span></span> <span data-ttu-id="a3a22-110">추가 제한 사항도 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-110">Additional restrictions are also included.</span></span>  
  
|<span data-ttu-id="a3a22-111">온라인 인덱스 작업</span><span class="sxs-lookup"><span data-stu-id="a3a22-111">Online index operation</span></span>|<span data-ttu-id="a3a22-112">제외되는 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-112">Excluded indexes</span></span>|<span data-ttu-id="a3a22-113">기타 제한 사항</span><span class="sxs-lookup"><span data-stu-id="a3a22-113">Other restrictions</span></span>|  
|----------------------------|----------------------|------------------------|  
|<span data-ttu-id="a3a22-114">ALTER INDEX REBUILD</span><span class="sxs-lookup"><span data-stu-id="a3a22-114">ALTER INDEX REBUILD</span></span>|<span data-ttu-id="a3a22-115">비활성화된 클러스터형 인덱스 또는 비활성화된 인덱싱된 뷰</span><span class="sxs-lookup"><span data-stu-id="a3a22-115">Disabled clustered index or disabled indexed view</span></span><br /><br /> <span data-ttu-id="a3a22-116">XML 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-116">XML index</span></span> <br /><br /><span data-ttu-id="a3a22-117">Columnstore 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-117">Columnstore index</span></span><br /><br /> <span data-ttu-id="a3a22-118">로컬 임시 테이블의 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-118">Index on a local temp table</span></span>|<span data-ttu-id="a3a22-119">키워드를 ALL로 지정하면 테이블에 제외된 인덱스가 들어 있는 경우 작업이 실패할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-119">Specifying the keyword ALL may cause the operation to fail when the table contains an excluded index.</span></span><br /><br /> <span data-ttu-id="a3a22-120">비활성 인덱스를 다시 작성하는 작업에 추가 제한 사항이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-120">Additional restrictions on rebuilding disabled indexes apply.</span></span> <span data-ttu-id="a3a22-121">자세한 내용은 [인덱스 및 제약 조건 비활성화](disable-indexes-and-constraints.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3a22-121">For more information, see [Disable Indexes and Constraints](disable-indexes-and-constraints.md).</span></span>|  
|<span data-ttu-id="a3a22-122">CREATE  INDEX</span><span class="sxs-lookup"><span data-stu-id="a3a22-122">CREATE INDEX</span></span>|<span data-ttu-id="a3a22-123">XML 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-123">XML index</span></span><br /><br /> <span data-ttu-id="a3a22-124">뷰의 초기 고유 클러스터형 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-124">Initial unique clustered index on a view</span></span><br /><br /> <span data-ttu-id="a3a22-125">로컬 임시 테이블의 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-125">Index on a local temp table</span></span>||  
|<span data-ttu-id="a3a22-126">CREATE  INDEX  WITH  DROP_EXISTING</span><span class="sxs-lookup"><span data-stu-id="a3a22-126">CREATE INDEX WITH DROP_EXISTING</span></span>|<span data-ttu-id="a3a22-127">비활성화된 클러스터형 인덱스 또는 비활성화된 인덱싱된 뷰</span><span class="sxs-lookup"><span data-stu-id="a3a22-127">Disabled clustered index or disabled indexed view</span></span><br /><br /> <span data-ttu-id="a3a22-128">로컬 임시 테이블의 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-128">Index on a local temp table</span></span><br /><br /> <span data-ttu-id="a3a22-129">XML 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-129">XML index</span></span>||  
|<span data-ttu-id="a3a22-130">DROP INDEX</span><span class="sxs-lookup"><span data-stu-id="a3a22-130">DROP INDEX</span></span>|<span data-ttu-id="a3a22-131">비활성 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-131">Disabled index</span></span><br /><br /> <span data-ttu-id="a3a22-132">XML 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-132">XML index</span></span><br /><br /> <span data-ttu-id="a3a22-133">비클러스터형 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-133">Nonclustered index</span></span><br /><br /> <span data-ttu-id="a3a22-134">로컬 임시 테이블의 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-134">Index on a local temp table</span></span>|<span data-ttu-id="a3a22-135">단일 문에 여러 인덱스를 지정할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-135">Multiple indexes cannot be specified within a single statement.</span></span>|  
|<span data-ttu-id="a3a22-136">ALTER  TABLE  ADD  CONSTRAINT(PRIMARY  KEY  또는 UNIQUE)</span><span class="sxs-lookup"><span data-stu-id="a3a22-136">ALTER TABLE ADD CONSTRAINT (PRIMARY KEY or UNIQUE)</span></span>|<span data-ttu-id="a3a22-137">로컬 임시 테이블의 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-137">Index on a local temp table</span></span><br /><br /> <span data-ttu-id="a3a22-138">클러스터형 인덱스</span><span class="sxs-lookup"><span data-stu-id="a3a22-138">Clustered index</span></span>|<span data-ttu-id="a3a22-139">한 번에 하나의 하위 절만 허용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-139">Only one subclause is allowed at a time.</span></span> <span data-ttu-id="a3a22-140">예를 들어 동일한 ALTER  TABLE  문에서 PRIMARY  KEY  또는 UNIQUE  제약 조건을 추가하거나 삭제할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-140">For example, you cannot add and drop PRIMARY KEY or UNIQUE constraints in the same ALTER TABLE statement.</span></span>|  
||||  
  
 <span data-ttu-id="a3a22-141">온라인 인덱스 작업이 진행되는 동안에는 기본 테이블을 수정하거나 자르거나 삭제할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-141">The underlying table cannot be modified, truncated, or dropped while an online index operation is in process.</span></span>  
  
 <span data-ttu-id="a3a22-142">클러스터형 인덱스를 만들거나 삭제할 때 지정한 온라인 옵션 설정(ON  또는 OFF)은 다시 작성해야 하는 모든 비클러스터형 인덱스에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-142">The online option setting (ON or OFF) specified when you create or drop a clustered index is applied to any nonclustered indexes that must be rebuilt.</span></span> <span data-ttu-id="a3a22-143">예를 들어 클러스터형 인덱스를 CREATE  INDEX  WITH  DROP_EXISTING,  ONLINE=ON을 사용하여 온라인 상태에서 작성한 경우 관련된 모든 비클러스터형 인덱스도 온라인 상태로 다시 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-143">For example, if the clustered index is built online by using CREATE INDEX WITH DROP_EXISTING, ONLINE=ON, all associated nonclustered indexes are re-created online also.</span></span>  
  
 <span data-ttu-id="a3a22-144">UNIQUE  인덱스를 온라인 상태로 만들거나 다시 작성하면 인덱스 작성기 및 동시 사용자 트랜잭션이 동일한 키를 삽입하므로 고유성을 위반하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-144">When you create or rebuild a UNIQUE index online, the index builder and a concurrent user transaction may try to insert the same key, therefore violating uniqueness.</span></span> <span data-ttu-id="a3a22-145">원본 테이블의 원래 행이 대상인 새 인덱스로 옮겨지기 전에 사용자가 입력한 행이 새 인덱스로 삽입되면 온라인 인덱스 작업이 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-145">If a row entered by a user is inserted into the new index (target) before the original row from the source table is moved to the new index, the online index operation will fail.</span></span>  
  
 <span data-ttu-id="a3a22-146">자주 발생하지 않지만 온라인 인덱스 작업이 데이터베이스 업데이트와 상호 작용 시 사용자 또는 애플리케이션 작업으로 인해 교착 상태가 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-146">Although not common, the online index operation can cause a deadlock when it interacts with database updates because of user or application activities.</span></span> <span data-ttu-id="a3a22-147">이러한 경우 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 에서는 해당 사용자 또는 애플리케이션 작업을 교착 상태로 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-147">In these rare cases, the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] will select the user or application activity as a deadlock victim.</span></span>  
  
 <span data-ttu-id="a3a22-148">여러 개의 새 비클러스터형 인덱스를 만들거나 비클러스터형 인덱스를 다시 구성할 때만 동일한 테이블 또는 뷰에서 동시 온라인 인덱스 DDL  작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-148">You can perform concurrent online index DDL operations on the same table or view only when you are creating multiple new nonclustered indexes, or reorganizing nonclustered indexes.</span></span> <span data-ttu-id="a3a22-149">동시에 수행된 다른 온라인 인덱스 작업이 모두 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-149">All other online index operations performed at the same time fail.</span></span> <span data-ttu-id="a3a22-150">예를 들어 동일한 테이블에서 기존 인덱스를 온라인 상태로 다시 작성하는 동안 새 인덱스를 온라인 상태로 만들 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-150">For example, you cannot create a new index online while rebuilding an existing index online on the same table.</span></span>  
  
 <span data-ttu-id="a3a22-151">인덱스에 큰 개체 유형의 열이 포함되어 있고 동일한 트랜잭션에서 이 온라인 작업 전에 업데이트 작업이 있는 경우 온라인 작업을 수행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-151">An online operation cannot be performed when an index contains a column of the large object type, and in the same transaction there are update operations before this online operation.</span></span> <span data-ttu-id="a3a22-152">이 문제를 해결하려면 온라인 작업을 트랜잭션 외부에 배치하거나 트랜잭션 내에서 업데이트 전에 배치합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-152">To work around this issue, place the online operation outside the transaction or place it before any updates in the transaction.</span></span>  
  
## <a name="disk-space-considerations"></a><span data-ttu-id="a3a22-153">디스크 공간 고려 사항</span><span class="sxs-lookup"><span data-stu-id="a3a22-153">Disk Space Considerations</span></span>  
 <span data-ttu-id="a3a22-154">일반적으로 온라인 및 오프라인 인덱스 작업에 필요한 디스크 공간 요구 사항은 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-154">Generally, disk space requirements are the same for online and offline index operations.</span></span> <span data-ttu-id="a3a22-155">한 가지 다른 점은 임시 매핑 인덱스에 추가 디스크 공간이 필요하다는 점입니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-155">An exception is additional disk space required by the temporary mapping index.</span></span> <span data-ttu-id="a3a22-156">이 임시 인덱스는 클러스터형 인덱스를 만들거나 다시 작성하거나 삭제하는 온라인 인덱스 작업에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-156">This temporary index is used in online index operations that create, rebuild, or drop a clustered index.</span></span> <span data-ttu-id="a3a22-157">온라인 상태에서 클러스터형 인덱스를 삭제하는 작업은 온라인 상태에서 클러스터형 인덱스를 만드는 작업에 필요한 디스크 공간과 동일한 크기가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-157">Dropping a clustered index online requires as much space as creating a clustered index online.</span></span> <span data-ttu-id="a3a22-158">자세한 내용은 [Disk Space Requirements for Index DDL Operations](disk-space-requirements-for-index-ddl-operations.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3a22-158">For more information, see [Disk Space Requirements for Index DDL Operations](disk-space-requirements-for-index-ddl-operations.md).</span></span>  
  
## <a name="performance-considerations"></a><span data-ttu-id="a3a22-159">성능 고려 사항</span><span class="sxs-lookup"><span data-stu-id="a3a22-159">Performance Considerations</span></span>  
 <span data-ttu-id="a3a22-160">온라인 인덱스 작업에서 동시 사용자 업데이트 작업을 할 수 있지만 업데이트 작업이 많은 경우에는 인덱스 작업을 하는 데 많은 시간이 소요됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-160">Although online index operations permit concurrent user update activity, the index operations will take longer if the update activity is very heavy.</span></span> <span data-ttu-id="a3a22-161">일반적으로 온라인 인덱스 작업은 동시 업데이트 작업 수준과 상관없이 같은 양의 오프라인 인덱스 작업보다 느립니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-161">Typically, online index operations will be slower than equivalent offline index operations regardless of the concurrent update activity level.</span></span>  
  
 <span data-ttu-id="a3a22-162">온라인 인덱스 작업 동안 원본 및 대상 구조가 유지되므로 트랜잭션을 삽입하고,  업데이트하고,  삭제하는 데 최고 두 배까지 리소스 사용이 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-162">Because both the source and target structures are maintained during the online index operation, the resource usage for insert, update, and delete transactions is increased, potentially up to double.</span></span> <span data-ttu-id="a3a22-163">이렇게 되면 인덱스 작업 동안 성능이 저하되며,  특히 CPU  시간 등의 리소스 사용이 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-163">This could cause a decrease in performance and greater resource usage, especially CPU time, during the index operation.</span></span> <span data-ttu-id="a3a22-164">온라인 인덱스 작업이 모두 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-164">Online index operations are fully logged.</span></span>  
  
 <span data-ttu-id="a3a22-165">온라인 작업을 권장하지만 사용 환경 및 특정 요구 사항도 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-165">Although we recommend online operations, you should evaluate your environment and specific requirements.</span></span> <span data-ttu-id="a3a22-166">인덱스 작업을 오프라인 상태에서 실행하는 것이 가장 좋을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-166">It may be optimal to run index operations offline.</span></span> <span data-ttu-id="a3a22-167">이 경우 사용자가 작업 수행 동안 데이터 액세스를 제한하지만 작업은 더욱 빨리 끝나고 보다 적은 리소스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-167">In doing this, users have restricted access to the data during the operation, but the operation finishes faster and uses fewer resources.</span></span>  
  
 <span data-ttu-id="a3a22-168">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]를 실행하는 다중 프로세서 컴퓨터에서는 다른 쿼리와 마찬가지로 인덱스 문이 추가 프로세스를 사용하여 인덱스 문과 관련된 검색 및 정렬 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-168">On multiprocessor computers that are running [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], index statements may use more processors to perform the scan and sort operations associated with the index statement just like other queries do.</span></span> <span data-ttu-id="a3a22-169">MAXDOP 인덱스 옵션을 사용하여 온라인 인덱스 작업에만 사용되는 프로세서 수를 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-169">You can use the MAXDOP index option to control the number of processors dedicated to the online index operation.</span></span> <span data-ttu-id="a3a22-170">이 방법으로 인덱스 작업에서 사용하는 리소스와 동시 사용자가 사용하는 리소스의 균형을 맞출 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-170">In this way, you can balance the resources that are used by index operation with those of the concurrent users.</span></span> <span data-ttu-id="a3a22-171">자세한 내용은 [병렬 인덱스 작업 구성](configure-parallel-index-operations.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3a22-171">For more information, see [Configure Parallel Index Operations](configure-parallel-index-operations.md).</span></span> <span data-ttu-id="a3a22-172">병렬 인덱스 작업을 지 원하는 SQL Server 버전에 대 한 자세한 내용은 [SQL Server 2014 버전에서 지 원하는 기능](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="a3a22-172">For more information about the editions of SQL Server that support Parallel indexed operations, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="a3a22-173">인덱스 작업의 마지막 단계에 S  잠금 또는 Sch-M  잠금이 보유되므로 BEGIN  TRANSACTION...COMMIT  블록 등의 명시적 사용자 트랜잭션 내에서 온라인 인덱스 작업을 실행할 때는 주의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-173">Because an S-lock or Sch-M lock is held in the final phase of the index operation, be careful when you run an online index operation inside an explicit user transaction, such as BEGIN TRANSACTION...COMMIT block.</span></span> <span data-ttu-id="a3a22-174">이 작업을 실행하면 트랜잭션이 끝날 때까지 잠금이 보유되어 사용자 동시성을 방해할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-174">Doing this causes the lock to be held until the end of the transaction, therefore impeding user concurrency.</span></span>  
  
 <span data-ttu-id="a3a22-175">`MAX DOP > 1` 및 `ALLOW_PAGE_LOCKS = OFF` 옵션과 함께 실행할 수 있도록 허용된 경우 온라인 인덱스를 다시 빌드하면 조각이 늘어날 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-175">Online index rebuilding may increase fragmentation when it is allowed to run with `MAX DOP > 1` and `ALLOW_PAGE_LOCKS = OFF` options.</span></span> <span data-ttu-id="a3a22-176">자세한 내용은 [작동 방법: 온라인 인덱스 다시 빌드 - 조각이 늘어날 수 있음](https://blogs.msdn.com/b/psssql/archive/2012/09/05/how-it-works-online-index-rebuild-can-cause-increased-fragmentation.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3a22-176">For more information, see [How It Works: Online Index Rebuild - Can Cause Increased Fragmentation](https://blogs.msdn.com/b/psssql/archive/2012/09/05/how-it-works-online-index-rebuild-can-cause-increased-fragmentation.aspx).</span></span>  
  
## <a name="transaction-log-considerations"></a><span data-ttu-id="a3a22-177">트랜잭션 로그 고려 사항</span><span class="sxs-lookup"><span data-stu-id="a3a22-177">Transaction Log Considerations</span></span>  
 <span data-ttu-id="a3a22-178">오프라인 상태 또는 온라인 상태에서 수행되는 대규모 인덱스 작업은 트랜잭션 로그를 빨리 채워 대용량 데이터 로드를 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-178">Large-scale index operations, performed offline or online, can generate large data loads that can cause the transaction log to quickly fill.</span></span> <span data-ttu-id="a3a22-179">인덱스 작업을 확실히 롤백하려면 인덱스 작업이 완료될 때까지 트랜잭션 로그를 자를 수 없지만,  인덱스 작업 중에 이 로그를 백업할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-179">To make sure that the index operation can be rolled back, the transaction log cannot be truncated until the index operation has been completed; however, the log can be backed up during the index operation.</span></span> <span data-ttu-id="a3a22-180">따라서 트랜잭션 로그에는 인덱스 작업을 수행하는 동안 인덱스 작업 트랜잭션 및 동시 사용자 트랜잭션을 모두 저장할 수 있는 충분한 공간이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a3a22-180">Therefore, the transaction log must have sufficient space to store both the index operation transactions and any concurrent user transactions for the duration of the index operation.</span></span> <span data-ttu-id="a3a22-181">자세한 내용은 [Transaction Log Disk Space for Index Operations](transaction-log-disk-space-for-index-operations.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a3a22-181">For more information, see [Transaction Log Disk Space for Index Operations](transaction-log-disk-space-for-index-operations.md).</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="a3a22-182">관련 내용</span><span class="sxs-lookup"><span data-stu-id="a3a22-182">Related Content</span></span>  
 [<span data-ttu-id="a3a22-183">온라인 인덱스 작동 방식</span><span class="sxs-lookup"><span data-stu-id="a3a22-183">How Online Index Operations Work</span></span>](how-online-index-operations-work.md)  
  
 [<span data-ttu-id="a3a22-184">온라인으로 인덱스 작업 수행</span><span class="sxs-lookup"><span data-stu-id="a3a22-184">Perform Index Operations Online</span></span>](perform-index-operations-online.md)  
  
 [<span data-ttu-id="a3a22-185">ALTER INDEX&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3a22-185">ALTER INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-index-transact-sql)  
  
 [<span data-ttu-id="a3a22-186">CREATE INDEX&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a3a22-186">CREATE INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-index-transact-sql)  
  
  
