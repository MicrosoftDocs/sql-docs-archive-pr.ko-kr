---
title: 변경 내용 추적 정보(SQL Server) | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- data changes [SQL Server]
- tracking data changes [SQL Server]
- change tracking [SQL Server], about change tracking
- change tracking [SQL Server]
- data [SQL Server], changing
ms.assetid: 5e0ef05a-8317-4c98-be20-b19d4cd78f12
author: rothja
ms.author: jroth
ms.openlocfilehash: 4e8a817421aeca7906d31e4a70c25a12b6af7c0d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87652690"
---
# <a name="about-change-tracking-sql-server"></a><span data-ttu-id="372f3-102">변경 내용 추적 정보(SQL Server)</span><span class="sxs-lookup"><span data-stu-id="372f3-102">About Change Tracking (SQL Server)</span></span>
  <span data-ttu-id="372f3-103">변경 내용 추적은 애플리케이션에 대한 효과적인 변경 내용 추적 메커니즘을 제공하는 간단한 솔루션입니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-103">Change tracking is a lightweight solution that provides an efficient change tracking mechanism for applications.</span></span> <span data-ttu-id="372f3-104">일반적으로 애플리케이션에서 데이터베이스의 데이터에 대한 변경 내용을 쿼리하고 이 변경 내용과 관련된 정보에 액세스하도록 하려면 애플리케이션 개발자가 사용자 지정 변경 내용 추적 메커니즘을 구현해야 했습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-104">Typically, to enable applications to query for changes to data in a database and access information that is related to the changes, application developers had to implement custom change tracking mechanisms.</span></span> <span data-ttu-id="372f3-105">이러한 메커니즘을 만드는 데는 일반적으로 많은 작업이 수반 되며 트리거, `timestamp` 열, 추적 정보를 저장 하기 위한 새 테이블 및 사용자 지정 정리 프로세스의 조합을 사용 하는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-105">Creating these mechanisms usually involved a lot of work and frequently involved using a combination of triggers, `timestamp` columns, new tables to store tracking information, and custom cleanup processes.</span></span>  
  
 <span data-ttu-id="372f3-106">변경 내용에 대해 필요한 정보의 양과 관련된 요구 사항은 애플리케이션 유형마다 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-106">Different types of applications have different requirements for how much information they need about the changes.</span></span> <span data-ttu-id="372f3-107">애플리케이션에서는 변경 내용 추적을 사용하여 사용자 테이블에 수행된 변경에 대한 다음 질문에 답할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-107">Applications can use change tracking to answer the following questions about the changes that have been made to a user table:</span></span>  
  
-   <span data-ttu-id="372f3-108">사용자 테이블에 대해 어떤 행이 변경되었는가?</span><span class="sxs-lookup"><span data-stu-id="372f3-108">What rows have changed for a user table?</span></span>  
  
    -   <span data-ttu-id="372f3-109">행이 변경되었다는 사실만 필요하며, 행이 변경된 횟수 또는 중간 변경의 값은 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-109">Only the fact that a row has changed is required, not how many times the row has changed or the values of any intermediate changes.</span></span>  
  
    -   <span data-ttu-id="372f3-110">최신 데이터는 추적되는 테이블에서 직접 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-110">The latest data can be obtained directly from the table that is being tracked.</span></span>  
  
-   <span data-ttu-id="372f3-111">행이 변경되었는가?</span><span class="sxs-lookup"><span data-stu-id="372f3-111">Has a row changed?</span></span>  
  
    -   <span data-ttu-id="372f3-112">행이 변경되었다는 사실, 그리고 이 변경에 대한 정보가 있어야 하며 동일한 트랜잭션에 변경이 수행된 시점에 이 사항이 기록되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-112">The fact that a row has changed and information about the change must be available and recorded at the time that the change was made in the same transaction.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="372f3-113">애플리케이션이 적용된 모든 변경 내용에 대한 정보와 변경된 데이터의 중간 값을 요구하면 변경 내용 추적 대신 변경 데이터 캡처를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-113">If an application requires information about all the changes that were made and the intermediate values of the changed data, using change data capture, instead of change tracking, might be appropriate.</span></span> <span data-ttu-id="372f3-114">자세한 내용은 [변경 데이터 캡처 정보&#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="372f3-114">For more information, see [About Change Data Capture &#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md).</span></span>  
  
## <a name="one-way-and-two-way-synchronization-applications"></a><span data-ttu-id="372f3-115">단방향 및 양방향 동기화 애플리케이션</span><span class="sxs-lookup"><span data-stu-id="372f3-115">One-Way and Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="372f3-116">[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 인스턴스와 데이터를 동기화해야 하는 애플리케이션은 변경 내용을 쿼리할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-116">Applications that have to synchronize data with an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] must be able to query for changes.</span></span> <span data-ttu-id="372f3-117">변경 내용 추적은 단방향 및 양방향 동기화 애플리케이션 모두에 대한 기반으로 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-117">Change tracking can be used as a foundation for both one-way and two-way synchronization applications.</span></span>  
  
### <a name="one-way-synchronization-applications"></a><span data-ttu-id="372f3-118">단방향 동기화 애플리케이션</span><span class="sxs-lookup"><span data-stu-id="372f3-118">One-Way Synchronization Applications</span></span>  
 <span data-ttu-id="372f3-119">클라이언트 또는 중간 계층 캐싱 애플리케이션과 같은 단방향 동기화 애플리케이션은 변경 내용 추적을 사용하도록 구축할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-119">One-way synchronization applications, such as a client or mid-tier caching application, can be built that use change tracking.</span></span> <span data-ttu-id="372f3-120">다음 그림에서 볼 수 있듯이 캐싱 애플리케이션에서는 데이터가 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 에 저장되어야 하고 다른 데이터 저장소에 캐시되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-120">As shown in the following illustration, a caching application requires data to be stored in the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and to be cached in other data stores.</span></span> <span data-ttu-id="372f3-121">애플리케이션은 데이터베이스 테이블에 수행된 변경 작업에 대해 캐시를 최신 상태로 유지할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-121">The application must be able to keep the cache up-to-date with any changes that have been made to the database tables.</span></span> <span data-ttu-id="372f3-122">변경 내용은 [!INCLUDE[ssDE](../../includes/ssde-md.md)]으로 다시 전달되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-122">There are no changes to pass back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="372f3-123">![단방향 동기화 애플리케이션 표시](../../database-engine/media/one-waysync.gif "단방향 동기화 애플리케이션 표시")</span><span class="sxs-lookup"><span data-stu-id="372f3-123">![Shows one-way synchronization applications](../../database-engine/media/one-waysync.gif "Shows one-way synchronization applications")</span></span>  
  
### <a name="two-way-synchronization-applications"></a><span data-ttu-id="372f3-124">양방향 동기화 애플리케이션</span><span class="sxs-lookup"><span data-stu-id="372f3-124">Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="372f3-125">양방향 동기화 애플리케이션도 변경 내용 추적을 사용하도록 구축할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-125">Two-way synchronization applications can also be built that use change tracking.</span></span> <span data-ttu-id="372f3-126">이 시나리오에서 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 인스턴스의 데이터는 하나 이상의 데이터 저장소와 동기화됩니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-126">In this scenario, the data in an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is synchronized with one or more data stores.</span></span> <span data-ttu-id="372f3-127">이러한 저장소의 데이터는 업데이트가 가능하며 변경 내용은 [!INCLUDE[ssDE](../../includes/ssde-md.md)]과 다시 동기화되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-127">The data in those stores can be updated and the changes must be synchronized back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="372f3-128">![양방향 동기화 애플리케이션 표시](../../database-engine/media/two-waysync.gif "양방향 동기화 애플리케이션 표시")</span><span class="sxs-lookup"><span data-stu-id="372f3-128">![Shows two-way synchronization applications](../../database-engine/media/two-waysync.gif "Shows two-way synchronization applications")</span></span>  
  
 <span data-ttu-id="372f3-129">양방향 동기화 애플리케이션의 좋은 예는 간헐적으로 연결되는 애플리케이션입니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-129">A good example of two-way synchronization application is an occasionally connected application.</span></span> <span data-ttu-id="372f3-130">이러한 유형의 애플리케이션에서 클라이언트 애플리케이션은 로컬 저장소를 쿼리 및 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-130">In this type of application, a client application queries and updates a local store.</span></span> <span data-ttu-id="372f3-131">클라이언트와 서버 간에 연결을 사용할 수 있는 경우 애플리케이션은 서버와 동기화되고 변경된 데이터는 양방향으로 흐르게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-131">When a connection is available between a client and server, the application will synchronize with a server, and changed data flows in both directions.</span></span>  
  
 <span data-ttu-id="372f3-132">양방향 동기화 애플리케이션은 충돌을 검색할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-132">The two-way synchronization applications must be able to detect conflicts.</span></span> <span data-ttu-id="372f3-133">충돌은 동기화 사이의 시간에 동일한 데이터가 두 데이터 저장소 모두에서 변경된 경우 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-133">A conflict would occur if the same data was changed in both data stores in the time between synchronizations.</span></span> <span data-ttu-id="372f3-134">충돌 검색 기능을 통해 애플리케이션은 변경 내용이 누락되지 않도록 보장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-134">With the ability to detect conflicts, an application can make sure that changes are not lost.</span></span>  
  
## <a name="how-change-tracking-works"></a><span data-ttu-id="372f3-135">변경 내용 추적 작동 방법</span><span class="sxs-lookup"><span data-stu-id="372f3-135">How Change Tracking Works</span></span>  
 <span data-ttu-id="372f3-136">변경 내용 추적을 구성하려면 DDL 문 또는 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]를 사용하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-136">To configure change tracking, you can use DDL statements or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="372f3-137">자세한 내용은 [변경 내용 추적 설정 및 해제&#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="372f3-137">For more information, see [Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md).</span></span> <span data-ttu-id="372f3-138">변경 내용을 추적하려면 먼저 데이터베이스에 변경 내용 추적을 설정한 다음 해당 데이터베이스에 있는 추적할 테이블에 변경 내용 추적을 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-138">To track changes, change tracking must first be enabled for the database and then enabled for the tables that you want to track within that database.</span></span> <span data-ttu-id="372f3-139">테이블 정의는 어떤 식으로든 변경할 필요가 없으며 트리거는 만들어지지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-139">The table definition does not have to be changed in any way, and no triggers are created.</span></span>  
  
 <span data-ttu-id="372f3-140">변경 내용 추적이 테이블에 대해 구성되면 해당 테이블의 행에 영향을 미치는 DML 문이 수정된 각 행에 대한 변경 내용 추적을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-140">After change tracking is configured for a table, any DML statement that affects rows in the table will cause change tracking information for each modified row to be recorded.</span></span> <span data-ttu-id="372f3-141">변경된 행을 쿼리하고 변경 내용에 대한 정보를 얻으려면 [변경 내용 추적 함수](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql)를 사용하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-141">To query for the rows that have changed and to obtain information about the changes, you can use [change tracking functions](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql).</span></span>  
  
 <span data-ttu-id="372f3-142">추적되는 테이블에서 변경 내용 정보와 함께 기록되는 유일한 정보는 기본 키 열의 값입니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-142">The values of the primary key column is only information from the tracked table that is recorded with the change information.</span></span> <span data-ttu-id="372f3-143">이러한 값은 변경된 행을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-143">These values identify the rows that have been changed.</span></span> <span data-ttu-id="372f3-144">이러한 행에 대한 최신 데이터를 얻으려면 애플리케이션에서는 기본 키 열 값을 사용하여 원본 테이블을 추적되는 테이블에 조인하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-144">To obtain the latest data for those rows, an application can use the primary key column values to join the source table with the tracked table.</span></span>  
  
 <span data-ttu-id="372f3-145">각 행에 대해 수행된 변경에 대한 정보도 변경 내용 추적을 사용하여 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-145">Information about the change that was made to each row can also be obtained by using change tracking.</span></span> <span data-ttu-id="372f3-146">예를 들어 변경을 일으킨 DML 작업의 유형(삽입, 업데이트 또는 삭제) 또는 업데이트 작업의 일부로 변경된 열이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="372f3-146">For example, the type of DML operation that caused the change (insert, update, or delete) or the columns that were changed as part of an update operation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="372f3-147">참고 항목</span><span class="sxs-lookup"><span data-stu-id="372f3-147">See Also</span></span>  
 <span data-ttu-id="372f3-148">[변경 내용 추적 &#40;SQL Server 사용 및 사용 안 함&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="372f3-148">[Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="372f3-149">[변경 내용 추적 &#40;SQL Server 사용 하 여 작업&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="372f3-149">[Work with Change Tracking &#40;SQL Server&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="372f3-150">[변경 내용 추적 &#40;SQL Server 관리&#41;](../track-changes/manage-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="372f3-150">[Manage Change Tracking &#40;SQL Server&#41;](../track-changes/manage-change-tracking-sql-server.md) </span></span>  
 [<span data-ttu-id="372f3-151">데이터 변경 내용 추적&#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="372f3-151">Track Data Changes &#40;SQL Server&#41;</span></span>](../track-changes/track-data-changes-sql-server.md)  
  
  
