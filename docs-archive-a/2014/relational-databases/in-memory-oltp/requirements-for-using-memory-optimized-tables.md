---
title: 메모리 액세스에 최적화된 테이블 사용을 위한 요구 사항 | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: 47d9a7e8-c597-4b95-a58a-dcf66df8e572
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: ecb9d388fd0e1362bb8844e874cd89162912e93e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87739970"
---
# <a name="requirements-for-using-memory-optimized-tables"></a><span data-ttu-id="d261d-102">메모리 액세스에 최적화된 테이블 사용을 위한 요구 사항</span><span class="sxs-lookup"><span data-stu-id="d261d-102">Requirements for Using Memory-Optimized Tables</span></span>
  <span data-ttu-id="d261d-103">[SQL Server 2014을 설치 하기 위한 하드웨어 및 소프트웨어 요구 사항](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md)외에 메모리 내 OLTP를 사용 하기 위한 요구 사항은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-103">In addition to the [Hardware and Software Requirements for Installing SQL Server 2014](../../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md), the following are requirements to use In-Memory OLTP:</span></span>  
  
-   <span data-ttu-id="d261d-104">64비트 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]Enterprise, Developer 또는 Evaluation Edition이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-104">64-bit Enterprise, Developer, or Evaluation edition of [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)].</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="d261d-105">에는 메모리 최적화 테이블에 데이터를 저장하기에 충분한 메모리가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-105">needs enough memory to hold the data in memory-optimized tables and indexes.</span></span> <span data-ttu-id="d261d-106">행 버전을 지원하기 위해서는 메모리 최적화 테이블 및 인덱스의 예상 크기의 두 배에 해당하는 메모리 양을 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-106">To account for row versions, you should provide an amount of memory that is two times the expected size of memory-optimized tables and indexes.</span></span> <span data-ttu-id="d261d-107">하지만 실제로 필요한 메모리 양은 작업에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-107">But the actual amount of memory needed will depend on your workload.</span></span> <span data-ttu-id="d261d-108">메모리 사용량을 모니터링하고 필요한 대로 조정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-108">You should monitor your memory usage and make adjustments as needed.</span></span> <span data-ttu-id="d261d-109">메모리 최적화 테이블의 데이터 크기는 풀을 기준으로 허용된 비율을 초과할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-109">The size of data in memory-optimized tables must not exceed the allowed percentage of the pool.</span></span> <span data-ttu-id="d261d-110">메모리 최적화 테이블의 크기를 검색 하려면 [dm_db_xtp_table_memory_stats &#40;transact-sql&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-xtp-table-memory-stats-transact-sql)을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="d261d-110">To discover the size of a memory-optimized table, see [sys.dm_db_xtp_table_memory_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-xtp-table-memory-stats-transact-sql).</span></span>  
  
     <span data-ttu-id="d261d-111">데이터베이스에 디스크 기반 테이블이 있는 경우 버퍼 풀 및 해당 테이블에 대한 쿼리 처리에 충분한 메모리를 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-111">If you have disk-based tables in the database, you need to provide enough memory for the buffer pool and query processing on those tables.</span></span>  
  
     <span data-ttu-id="d261d-112">메모리 내 OLTP 애플리케이션에 필요한 메모리 양을 알고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-112">It is important to know how much memory your In-Memory OLTP application will require.</span></span> <span data-ttu-id="d261d-113">자세한 내용은 [메모리 액세스에 최적화된 테이블에 필요한 메모리 예측](memory-optimized-tables.md) 을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d261d-113">See [Estimate Memory Requirements for Memory-Optimized Tables](memory-optimized-tables.md) for more information.</span></span>  
  
-   <span data-ttu-id="d261d-114">지속형 메모리 최적화 테이블 크기의 2배에 해당하는 여유 디스크 공간</span><span class="sxs-lookup"><span data-stu-id="d261d-114">Free disk space for that is two times the size of your durable memory-optimized tables.</span></span>  
  
-   <span data-ttu-id="d261d-115">메모리 내 OLTP를 사용하려면 프로세서에서 **cmpxchg16b** 명령을 지원해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-115">A processor needs to support the instruction **cmpxchg16b** to use In-Memory OLTP.</span></span> <span data-ttu-id="d261d-116">최신 64비트 프로세서는 **cmpxchg16b**를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-116">All modern 64-bit processors support **cmpxchg16b**.</span></span>  
  
     <span data-ttu-id="d261d-117">VM 호스트 애플리케이션을 사용하는 경우 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서 이전 프로세서로 인한 오류가 표시되면 **cmpxchg16b**를 허용하도록 애플리케이션의 구성 옵션이 설정되어 있는지 확인하십시오.</span><span class="sxs-lookup"><span data-stu-id="d261d-117">If you are using a VM host application and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] displays an error caused by an older processor, see if the application has a configuration option to allow **cmpxchg16b**.</span></span> <span data-ttu-id="d261d-118">설정되어 있지 않은 경우 구성 옵션을 설정할 필요 없이 **cmpxchg16b** 를 지원하는 Hyper-V를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-118">If not, you could use Hyper-V, which supports **cmpxchg16b** without needing to modify a configuration option.</span></span>  
  
-   <span data-ttu-id="d261d-119">메모리 내 OLTP를 설치하려면 **를 설치할 때** 데이터베이스 엔진 서비스 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-119">To install In-Memory OLTP, select **Database Engine Services** when you install [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
     <span data-ttu-id="d261d-120">보고서 생성 (메모리 내[oltp에 테이블 또는 저장 프로시저를 이식 해야 하는지 확인](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) 및를 설치 하려면 ( [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] 개체 탐색기를 통해 메모리 내 oltp를 관리 하려면) [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] 를 설치할 때 **관리 도구-기본** 또는 **관리 도구-고급** 을 선택 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-120">To install report generation ([Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) and [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] (to manage In-Memory OLTP via [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] Object Explorer), select **Management Tools-Basic** or **Management Tools-Advanced** when you install [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="important-notes-on-using-hek_2"></a><span data-ttu-id="d261d-121">[!INCLUDE[hek_2](../../../includes/hek-2-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d261d-121">Important Notes on Using [!INCLUDE[hek_2](../../../includes/hek-2-md.md)]</span></span>  
  
-   <span data-ttu-id="d261d-122">데이터베이스에 있는 모든 영구 테이블의 총 메모리 내 크기는 250GB를 초과할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-122">The total in-memory size of all durable tables in a database should not exceed 250 GB.</span></span> <span data-ttu-id="d261d-123">자세한 내용은 [메모리 액세스에 최적화 된 테이블에 대 한 내구성](durability-for-memory-optimized-tables.md)을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="d261d-123">For more information, see [Durability for Memory-Optimized Tables](durability-for-memory-optimized-tables.md).</span></span>  
  
-   <span data-ttu-id="d261d-124">이 버전의 [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] 는 소켓이 2 - 4개이고 코어가 60개 미만인 시스템에서 최적으로 수행되도록 설계되었습니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-124">This release of [!INCLUDE[hek_2](../../../includes/hek-2-md.md)] is targeted to perform optimally on systems with 2 or 4 sockets and fewer than 60 cores.</span></span>  
  
-   <span data-ttu-id="d261d-125">검사점 파일을 수동으로 삭제해서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-125">Checkpoint files must not be manually deleted.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="d261d-126">는 불필요한 검사점 파일에서 가비지 수집을 자동으로 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-126">automatically performs garbage collection on unneeded checkpoint files.</span></span> <span data-ttu-id="d261d-127">자세한 내용은 [메모리 최적화 테이블에 대 한 내구성](durability-for-memory-optimized-tables.md)의 데이터 및 델타 파일 병합에 대 한 설명을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="d261d-127">For more information, see the discussion on merging data and delta files in [Durability for Memory-Optimized Tables](durability-for-memory-optimized-tables.md).</span></span>  
  
-   <span data-ttu-id="d261d-128">메모리 내 OLTP의 이 첫 번째 릴리스에서([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]에서) 메모리 최적화 파일 그룹을 제거하는 유일한 방법은 데이터베이스를 삭제하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-128">In this first release of In-Memory OLTP (in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]), the only way to remove a memory-optimized filegroup is to drop the database.</span></span>  
  
-   <span data-ttu-id="d261d-129">삭제하려는 행의 범위에 영향을 주는 동시 삽입 또는 업데이트 작업이 있는 상태에서 큰 행 일괄 처리를 삭제하려고 하면 삭제가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-129">If you attempt to delete a large batch of rows while there is a concurrent insert or update workload affecting the range of rows you are trying to delete, the delete will likely fail.</span></span> <span data-ttu-id="d261d-130">문제를 해결하려면 삭제하기 전에 삽입 또는 업데이트 작업을 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-130">The workaround is to stop the insert or update workload before doing the delete.</span></span> <span data-ttu-id="d261d-131">또는 트랜잭션을 더 작은 트랜잭션으로 구성할 수 있습니다. 그러면 동시 작업에 의해 트랜잭션이 중단될 가능성이 더 낮아집니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-131">Alternatively, you could configure the transaction into smaller transactions, which would be less likely to be disrupted by a concurrent workload.</span></span> <span data-ttu-id="d261d-132">메모리 최적화 테이블에서의 모든 쓰기 작업과 마찬가지로 재시도 논리([Guidelines for Retry Logic for Transactions on Memory-Optimized Tables](../../database-engine/guidelines-for-retry-logic-for-transactions-on-memory-optimized-tables.md))를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-132">As with all write operations on memory-optimized tables, use retry logic ([Guidelines for Retry Logic for Transactions on Memory-Optimized Tables](../../database-engine/guidelines-for-retry-logic-for-transactions-on-memory-optimized-tables.md)).</span></span>  
  
-   <span data-ttu-id="d261d-133">메모리 최적화 테이블로 하나 이상의 데이터베이스를 만들 경우 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스에 대한 즉시 파일 초기화([!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 서비스 시작 계정에 SE_MANAGE_VOLUME_NAME 사용자 권한 부여)를 사용하도록 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-133">If you create one or more databases with memory-optimized tables, you should enable Instant File Initialization (grant the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service startup account the SE_MANAGE_VOLUME_NAME user right) for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="d261d-134">즉시 파일 초기화를 사용하지 않을 경우 메모리 최적화 스토리지 파일(데이터 및 델타 파일)이 생성될 때 초기화되므로 작업 성능이 저하될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-134">Without Instant File Initialization, memory-optimized storage files (data and delta files) will be initialized upon creation, which can have negative impact on the performance of your workload.</span></span> <span data-ttu-id="d261d-135">즉시 파일 초기화에 대한 자세한 내용은 [데이터베이스 파일 초기화](../databases/database-instant-file-initialization.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d261d-135">For more information about Instant File Initialization, see [Database File Initialization](../databases/database-instant-file-initialization.md).</span></span> <span data-ttu-id="d261d-136">즉시 파일 초기화를 사용하도록 설정하는 방법은 [즉시 파일 초기화를 사용하도록 설정하는 방법과 이유](https://blogs.msdn.com/b/sql_pfe_blog/archive/2009/12/23/how-and-why-to-enable-instant-file-initialization.aspx)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="d261d-136">For information on how to enable Instant File Initialization, see [How and Why to Enable Instant File Initialization](https://blogs.msdn.com/b/sql_pfe_blog/archive/2009/12/23/how-and-why-to-enable-instant-file-initialization.aspx).</span></span>  
  
## <a name="did-this-article-help-you-were-listening"></a><span data-ttu-id="d261d-137">이 문서가 도움이 되었나요?</span><span class="sxs-lookup"><span data-stu-id="d261d-137">Did this Article Help You?</span></span> <span data-ttu-id="d261d-138">대기 중입니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-138">We're Listening</span></span>  
 <span data-ttu-id="d261d-139">어떤 정보를 찾고 계세요? 정보를 찾으셨나요?</span><span class="sxs-lookup"><span data-stu-id="d261d-139">What information are you looking for, and did you find it?</span></span> <span data-ttu-id="d261d-140">사용자 의견을 듣고 콘텐츠를 개선 하 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="d261d-140">We're listening to your feedback to improve the content.</span></span> <span data-ttu-id="d261d-141">에 의견을 제출 하세요 [sqlfeedback@microsoft.com](mailto:sqlfeedback@microsoft.com?subject=Your%20feedback%20about%20the%20Requirements%20for%20Using%20Memory-Optimized%20Tables%20page) .</span><span class="sxs-lookup"><span data-stu-id="d261d-141">Please submit your comments to [sqlfeedback@microsoft.com](mailto:sqlfeedback@microsoft.com?subject=Your%20feedback%20about%20the%20Requirements%20for%20Using%20Memory-Optimized%20Tables%20page).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d261d-142">참고 항목</span><span class="sxs-lookup"><span data-stu-id="d261d-142">See Also</span></span>  
 [<span data-ttu-id="d261d-143">메모리 내 OLTP&#40;메모리 내 최적화&#41;</span><span class="sxs-lookup"><span data-stu-id="d261d-143">In-Memory OLTP &#40;In-Memory Optimization&#41;</span></span>](in-memory-oltp-in-memory-optimization.md)  
  
  
