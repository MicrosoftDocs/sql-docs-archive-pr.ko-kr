---
title: 서버 이벤트 용 WMI 공급자 작업 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: wmi
ms.topic: reference
helpviewer_keywords:
- event notifications [WMI]
- permissions [WMI]
- connection strings [WMI]
- security [WMI]
- Service Broker [WMI]
- WMI Provider for Server Events, connection strings
- WMI Provider for Server Events, Service Broker
- notifications [WMI]
- WMI Provider for Server Events, security
ms.assetid: cd974b3b-2309-4a20-b9be-7cfc93fc4389
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: 79ee9c4402971807263284d10e31db702abeee86
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87730267"
---
# <a name="working-with-the-wmi-provider-for-server-events"></a><span data-ttu-id="8a806-102">서버 이벤트용 WMI 공급자 작업</span><span class="sxs-lookup"><span data-stu-id="8a806-102">Working with the WMI Provider for Server Events</span></span>
  <span data-ttu-id="8a806-103">이 항목에서는 서버 이벤트용 WMI 공급자를 사용하여 프로그래밍하기 전에 고려해야 할 사항에 대한 지침을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-103">This topic provides guidelines you should consider before you program using the WMI Provider for Server Events.</span></span>  
  
## <a name="enabling-service-broker"></a><span data-ttu-id="8a806-104">Service Broker 사용</span><span class="sxs-lookup"><span data-stu-id="8a806-104">Enabling Service Broker</span></span>  
 <span data-ttu-id="8a806-105">서버 이벤트용 WMI 공급자는 이벤트에 대한 WQL 쿼리를 대상 데이터베이스의 이벤트 알림으로 변환하는 방식으로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-105">The WMI Provider for Server Events works by translating WQL queries for events into event notifications in the database that you target.</span></span> <span data-ttu-id="8a806-106">이벤트 알림의 작동 방식에 대해 알고 있으면 공급자를 프로그래밍할 때 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-106">An understanding of how event notifications work can be useful to you when programming against the provider.</span></span> <span data-ttu-id="8a806-107">자세한 내용은 [서버 이벤트용 WMI 공급자 개념](https://technet.microsoft.com/library/ms180560.aspx)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="8a806-107">For more information, see [WMI Provider for Server Events Concepts](https://technet.microsoft.com/library/ms180560.aspx).</span></span>  
  
 <span data-ttu-id="8a806-108">특히 WMI 공급자가 만드는 이벤트 알림은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 를 사용하여 서버 이벤트에 대한 메시지를 보내기 때문에 이 서비스는 이벤트가 생성되는 경우에는 반드시 사용할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-108">In particular, because the event notifications created by the WMI Provider use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to send messages about server events, this service must be enabled wherever the events are generated.</span></span> <span data-ttu-id="8a806-109">프로그램에서 서버 인스턴스의 이벤트를 쿼리하는 경우 해당 인스턴스의 msdb에서 [!INCLUDE[ssSB](../../includes/sssb-md.md)]를 사용할 수 있어야 합니다. 그 이유는 이 위치가 공급자가 만든 대상 [!INCLUDE[ssSB](../../includes/sssb-md.md)] 서비스(이름: SQL/Notifications/ProcessWMIEventProviderNotification/v1.0)의 위치이기 때문입니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-109">If your program queries events on a server instance, the [!INCLUDE[ssSB](../../includes/sssb-md.md)] in msdb of that instance must be enabled, because that is the location of the target [!INCLUDE[ssSB](../../includes/sssb-md.md)] service (named SQL/Notifications/ProcessWMIEventProviderNotification/v1.0) that is created by the provider.</span></span> <span data-ttu-id="8a806-110">프로그램에서 데이터베이스 또는 특정 데이터베이스 개체의 이벤트를 쿼리하는 경우에는 대상 데이터베이스에서 [!INCLUDE[ssSB](../../includes/sssb-md.md)] 를 사용할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-110">If your program queries events in a database or on a particular database object, the [!INCLUDE[ssSB](../../includes/sssb-md.md)] in that target database must be enabled.</span></span> <span data-ttu-id="8a806-111">애플리케이션이 배포된 후 해당하는 [!INCLUDE[ssSB](../../includes/sssb-md.md)] 를 사용할 수 있게 설정하지 않으면 기본 이벤트 알림을 통해 생성되는 모든 이벤트가 이벤트 알림에 사용되는 서비스의 큐에 전송되지만 [!INCLUDE[ssSB](../../includes/sssb-md.md)] 를 사용할 수 있게 설정할 때까지는 WMI 관리 애플리케이션에 반환되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-111">If the corresponding [!INCLUDE[ssSB](../../includes/sssb-md.md)] is not enabled after your application is deployed, any events generated by the underlying event notification are sent to the queue of the service used by the event notification, but are not returned to your WMI management application until [!INCLUDE[ssSB](../../includes/sssb-md.md)] is enabled.</span></span>  
  
 <span data-ttu-id="8a806-112">다음 쿼리에서는 서버 인스턴스에서 사용할 수 있는 Service Broker와 Broker 인스턴스 GUID를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-112">The following query determines which service brokers are enabled on a server instance, and the broker instance GUID:</span></span>  
  
```  
SELECT name, is_broker_enabled, service_broker_guid FROM sys.databases;  
```  
  
 <span data-ttu-id="8a806-113">msdb의 Service Broker GUID는 공급자의 대상 서비스에 대한 위치이기 때문에 특별한 관심 대상입니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-113">The service broker GUID of msdb is of particular interest because that is the location of the target service of the provider.</span></span>  
  
 <span data-ttu-id="8a806-114">데이터베이스에서 [!INCLUDE[ssSB](../../includes/sssb-md.md)] 를 사용하려면 [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql) 문의 ENABLE_BROKER SET 옵션을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-114">To enable [!INCLUDE[ssSB](../../includes/sssb-md.md)] in a database, use the ENABLE_BROKER SET option of the [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql) statement.</span></span>  
  
## <a name="specifying-a-connection-string"></a><span data-ttu-id="8a806-115">연결 문자열 지정</span><span class="sxs-lookup"><span data-stu-id="8a806-115">Specifying a Connection String</span></span>  
 <span data-ttu-id="8a806-116">애플리케이션에서는 공급자가 정의한 WMI 네임스페이스에 연결하여 서버 이벤트용 WMI 공급자를 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 의 인스턴스에 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-116">Applications direct the WMI Provider for Server Events to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] by connecting to a WMI namespace defined by the provider.</span></span> <span data-ttu-id="8a806-117">Windows WMI 서비스는 이 네임스페이스를 공급자 DLL인 Sqlwep.dll에 매핑하여 메모리에 로드합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-117">The Windows WMI service maps this namespace to the provider DLL, Sqlwep.dll, and loads it into memory.</span></span> <span data-ttu-id="8a806-118">의 각 인스턴스에는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 고유한 WMI 네임 스페이스가 있으며 기본값은 \\ \\ 입니다 \\ . *root*\Microsoft\SqlServer\ServerEvents \\ *instance_name*입니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-118">Each instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] has its own WMI namespace, which defaults to: \\\\.\\*root*\Microsoft\SqlServer\ServerEvents\\*instance_name*.</span></span> <span data-ttu-id="8a806-119">의 기본 설치에서 *instance_name* 기본값은 MSSQLSERVER입니다 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="8a806-119">*instance_name* defaults to MSSQLSERVER in a default installation of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="permissions-and-server-authentication"></a><span data-ttu-id="8a806-120">권한과 서버 인증</span><span class="sxs-lookup"><span data-stu-id="8a806-120">Permissions and Server Authentication</span></span>  
 <span data-ttu-id="8a806-121">서버 이벤트용 WMI 공급자에 액세스하려면 WMI 관리 애플리케이션이 시작된 클라이언트는 애플리케이션의 연결 문자열에 지정된 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스의 Windows 인증 로그인 또는 그룹과 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-121">To access the WMI Provider for Server Events, the client on which a WMI management application originates must correspond to Windows authenticated login or group in the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] specified in the application's connection string of the application.</span></span>  
  
## <a name="permissions-and-event-notification-scope"></a><span data-ttu-id="8a806-122">권한과 이벤트 알림 범위</span><span class="sxs-lookup"><span data-stu-id="8a806-122">Permissions and Event Notification Scope</span></span>  
 <span data-ttu-id="8a806-123">서버 이벤트용 WMI 공급자는 WQL 쿼리를 대상 데이터베이스의 이벤트 알림으로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-123">The WMI Provider for Server Events translates WQL queries into event notifications in the target database.</span></span> <span data-ttu-id="8a806-124">따라서 호출 애플리케이션은 공급자에 액세스하는 데 필요한 최소 권한뿐만 아니라 데이터베이스에 대한 올바른 권한을 가지고 있어야 필요한 이벤트 알림을 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-124">Because of this, the calling application must have not only the required minimum permissions to access the provider, but must also have the correct permissions in the database to create the required event notifications.</span></span> <span data-ttu-id="8a806-125">권한은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-125">The following are the permissions:</span></span>  
  
-   <span data-ttu-id="8a806-126">범위가 데이터베이스에 한정되는 이벤트 알림을 생성하려면 최소한 현재 데이터베이스에 대해 CREATE DATABASE DDL EVENT NOTIFICATION 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-126">To create an event notification that is scoped to the database, at a minimum, CREATE DATABASE DDL EVENT NOTIFICATION permission in the current database is required.</span></span>  
  
-   <span data-ttu-id="8a806-127">범위가 서버에 한정되는 DDL 문에 대한 이벤트 알림을 생성하려면 최소한 해당 서버에 대해 CREATE DDL EVENT NOTIFICATION 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-127">To create an event notification on a DDL statement that is scoped to the server, at a minimum, CREATE DDL EVENT NOTIFICATION permission in the server is required.</span></span>  
  
-   <span data-ttu-id="8a806-128">추적 이벤트에 대한 이벤트 알림을 생성하려면 최소한 해당 서버에 대해 CREATE TRACE EVENT NOTIFICATION 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-128">To create an event notification on a trace event, at a minimum, CREATE TRACE EVENT NOTIFICATION permission in the server is required.</span></span>  
  
-   <span data-ttu-id="8a806-129">범위가 큐에 한정되는 이벤트 알림을 생성하려면 최소한 해당 큐에 대해 ALTER 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-129">To create an event notification that is scoped to a queue, at a minimum, ALTER permission on the queue is required.</span></span>  
  
 <span data-ttu-id="8a806-130">WQL 쿼리의 범위에 대한 자세한 내용은 [서버 이벤트용 WMI 공급자에 WQL 사용](https://technet.microsoft.com/library/ms180524\(v=sql.105\).aspx)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="8a806-130">For information about how WQL queries are scoped, see [Using WQL with the WMI Provider for Server Events](https://technet.microsoft.com/library/ms180524\(v=sql.105\).aspx).</span></span>  
  
 <span data-ttu-id="8a806-131">예를 들어 다음과 같은 WQL 쿼리가 포함된 WMI 공급자 애플리케이션을 생각해 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-131">To illustrate scope, consider a WMI Provider application that includes the following WQL query:</span></span>  
  
```  
SELECT * FROM ALTER_TABLE  
WHERE DatabaseName = "AdventureWorks2012"   
    AND SchemaName = "Person"  
    AND ObjectName = "Person"  
    AND ObjectType = "TABLE";  
```  
  
 <span data-ttu-id="8a806-132">WMI 공급자는 이 쿼리를 [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] 데이터베이스에 생성되는 이벤트 알림으로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-132">The WMI provider translates this query into an event notification that is created in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="8a806-133">이는 호출자가 이러한 이벤트 알림을 생성하는 데 필요한 권한, 즉 [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] 데이터베이스에 대한 CREATE DATABASE DDL EVENT NOTIFICATION 권한을 가지고 있어야 함을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-133">This means that the caller must have the required permissions to create such an event notification, specifically CREATE DATABASE DDL EVENT NOTIFICATION permission in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span>  
  
 <span data-ttu-id="8a806-134">범위가 서버 수준에 한정되는 이벤트 알림을 WQL 쿼리에서 지정할 경우(예: SELECT \* FROM ALTER_TABLE 쿼리 실행), 호출 애플리케이션은 서버 수준의 REATE DDL EVENT NOTIFICATION 권한을 가지고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-134">If a WQL query specifies an event notification scoped at the server level, for example by issuing the query SELECT \* FROM ALTER_TABLE, the calling application must have the server-level CREATE DDL EVENT NOTIFICATION permission.</span></span> <span data-ttu-id="8a806-135">범위가 서버에 한정되는 이벤트 알림은 master 데이터베이스에 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-135">Note that server-scoped event notifications are stored in the master database.</span></span> <span data-ttu-id="8a806-136">이러한 알림의 메타데이터는 [sys.server_event_notifications](/sql/relational-databases/system-catalog-views/sys-server-event-notifications-transact-sql) 카탈로그 뷰를 사용하여 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-136">You can use the [sys.server_event_notifications](/sql/relational-databases/system-catalog-views/sys-server-event-notifications-transact-sql) catalog view to see their metadata.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8a806-137">WMI 공급자가 생성하는 이벤트 알림의 범위(서버, 데이터베이스 또는 개체)는 궁극적으로 WMI 공급자에서 사용하는 권한 확인 프로세스의 결과에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-137">The scope of the event notification that is created by the WMI Provider (server, database, or object) ultimately depends on the outcome of the permissions verification process that is used by the WMI provider.</span></span> <span data-ttu-id="8a806-138">이는 공급자를 호출하는 사용자의 권한 집합 및 쿼리 대상 데이터베이스에 대한 확인 결과의 영향을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-138">This is affected by the permission set of the user that is calling the provider and on the verification of the database that is being queried.</span></span>  
>   
>  <span data-ttu-id="8a806-139">위의 예에서 공급자는 먼저 범위가 데이터베이스(`ON DATABASE`)에 한정되는 이벤트 알림을 생성하려고 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-139">In the previous example, the provider first tries to create an event notification scoped to the database (`ON DATABASE`).</span></span> <span data-ttu-id="8a806-140">공급자의 확인 결과 데이터베이스가 존재하고 호출자가 이벤트 알림을 생성하는 데 필요한 권한을 가지고 있으면 등록이 성공적으로 이루어집니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-140">If the provider verifies that the database exists and that the caller has the required permissions to create an event notification on it, the registration is successful.</span></span> <span data-ttu-id="8a806-141">제대로 등록되지 않으면 공급자는 서버(`ON SERVER`)에서 이벤트 알림을 생성하려고 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-141">If it is not successful, the provider tries to create an event notification on the server (`ON SERVER`).</span></span> <span data-ttu-id="8a806-142">이 시도가 성공적으로 이루어지면 서버에서 발생하는 모든 `ALTER_TABLE` 이벤트가 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 프로세스에서 WMI 서비스 프로세스로 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-142">Assuming that this attempt is successful, all `ALTER_TABLE` events that occur on the server are sent from the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process to the WMI Service process.</span></span> <span data-ttu-id="8a806-143">그러나 공급자는 `AdventureWorks` 데이터베이스에 적용되지 않는 모든 이벤트를 필터링합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-143">However, the provider filters out any events that do not apply to the `AdventureWorks` database.</span></span> <span data-ttu-id="8a806-144">이 프로세스를 사용하면 이벤트의 범위에 필요한 것보다 네트워크 트래픽이 증가할 수 있지만 필요에 따라 데이터베이스가 생성되기 전에 데이터베이스에 WQL 쿼리를 등록한 다음 데이터베이스 생성 후 DDL 작업이 시작되기 전에 이벤트 데이터를 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-144">Although this process potentially increases the amount of network traffic necessary for the scope of the event, this process also enables you with the flexibility to register WQL queries on databases before they are created, and then receive event data after the database is created and DDL activity starts on it.</span></span>  
  
## <a name="permissions-and-message-verification"></a><span data-ttu-id="8a806-145">권한과 메시지 확인</span><span class="sxs-lookup"><span data-stu-id="8a806-145">Permissions and Message Verification</span></span>  
 <span data-ttu-id="8a806-146">다음 두 가지 조건 모두에 해당하면 WMI 공급자가 이벤트 알림에 대한 메시지를 보내지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-146">The WMI Provider does not send messages for event notifications if both of the following conditions are true:</span></span>  
  
-   <span data-ttu-id="8a806-147">WMI 공급자를 통해 이벤트 알림을 만든 사용자가 데이터베이스에 더 이상 없거나, 유사한 이벤트 알림을 생성하는 데 필요한 권한을 더 이상 가지고 있지 않은 경우</span><span class="sxs-lookup"><span data-stu-id="8a806-147">The user that created the event notification through the WMI Provider no longer exists in the database, or no longer has the required permission to create a similar event notification.</span></span>  
  
-   <span data-ttu-id="8a806-148">다음과 같은 이벤트에 대해 이벤트 알림이 생성된 경우</span><span class="sxs-lookup"><span data-stu-id="8a806-148">The event notifications are created on the following events:</span></span>  
  
    -   <span data-ttu-id="8a806-149">DROP_LOGIN</span><span class="sxs-lookup"><span data-stu-id="8a806-149">DROP_LOGIN</span></span>  
  
    -   <span data-ttu-id="8a806-150">ALTER_LOGIN</span><span class="sxs-lookup"><span data-stu-id="8a806-150">ALTER_LOGIN</span></span>  
  
    -   <span data-ttu-id="8a806-151">DROP_USER</span><span class="sxs-lookup"><span data-stu-id="8a806-151">DROP_USER</span></span>  
  
    -   <span data-ttu-id="8a806-152">ALTER_USER</span><span class="sxs-lookup"><span data-stu-id="8a806-152">ALTER_USER</span></span>  
  
    -   <span data-ttu-id="8a806-153">ADD_ROLE_MEMBER</span><span class="sxs-lookup"><span data-stu-id="8a806-153">ADD_ROLE_MEMBER</span></span>  
  
    -   <span data-ttu-id="8a806-154">DROP_ROLE_MEMBER</span><span class="sxs-lookup"><span data-stu-id="8a806-154">DROP_ROLE_MEMBER</span></span>  
  
    -   <span data-ttu-id="8a806-155">ADD_SERVER_ROLE_MEMBER</span><span class="sxs-lookup"><span data-stu-id="8a806-155">ADD_SERVER_ROLE_MEMBER</span></span>  
  
    -   <span data-ttu-id="8a806-156">DROP_SERVER_ROLE_MEMBER</span><span class="sxs-lookup"><span data-stu-id="8a806-156">DROP_SERVER_ROLE_MEMBER</span></span>  
  
    -   <span data-ttu-id="8a806-157">DENY 또는 REVOKE(ALTER DATABASE, ALTER ANY DATABASE EVENT NOTIFICATION, CREATE DATABASE DDL EVENT NOTIFICATION, CONTROL SERVER, ALTER ANY EVENT NOTIFICATION, CREATE DDL EVENT NOTIFICATION 또는 CREATE TRACE EVENT NOTIFICATION 권한에만 적용됨)</span><span class="sxs-lookup"><span data-stu-id="8a806-157">DENY or REVOKE (Applies only to ALTER DATABASE, ALTER ANY DATABASE EVENT NOTIFICATION, CREATE DATABASE DDL EVENT NOTIFICATION, CONTROL SERVER, ALTER ANY EVENT NOTIFICATION, CREATE DDL EVENT NOTIFICATION, OR CREATE TRACE EVENT NOTIFICATION permissions.)</span></span>  
  
## <a name="working-with-event-data-on-the-client-side"></a><span data-ttu-id="8a806-158">클라이언트 쪽에서의 이벤트 데이터 작업</span><span class="sxs-lookup"><span data-stu-id="8a806-158">Working with Event Data on the Client Side</span></span>  
 <span data-ttu-id="8a806-159">서버 이벤트 용 WMI 공급자가 대상 데이터베이스에 필요한 이벤트 알림을 생성 하면 이벤트 알림이 **SQL/notification/ProcessWMIEventProviderNotification/** v1.0 이라는 msdb의 대상 서비스에 이벤트 데이터를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-159">After the WMI Provider for Server Events creates the required event notification in the target database, the event notification sends event data to the target service in msdb that is named **SQL/Notifications/ProcessWMIEventProviderNotification/v1.0**.</span></span> <span data-ttu-id="8a806-160">대상 서비스는 WMIEventProviderNotificationQueue 라는의 큐에 이벤트를 넣습니다 `msdb` . **WMIEventProviderNotificationQueue**</span><span class="sxs-lookup"><span data-stu-id="8a806-160">The target service puts the event into a queue in `msdb` that is named **WMIEventProviderNotificationQueue**.</span></span> <span data-ttu-id="8a806-161">서비스와 큐는 공급자가에 처음 연결할 때 동적으로 생성 됩니다 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . 그런 다음 공급자는이 큐에서 XML 이벤트 데이터를 읽고 MOF (managed object format)로 변환한 후 클라이언트 응용 프로그램에 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-161">(Both the service and the queue are dynamically created by the provider when it first connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].) The provider then reads the XML event data from this queue and transforms it into managed object format (MOF) before returning it to the client application.</span></span> <span data-ttu-id="8a806-162">MOF 데이터는 WQL 쿼리에서 CIM(Common Information Model) 클래스 정의로 요청되는 이벤트의 속성으로 구성되며</span><span class="sxs-lookup"><span data-stu-id="8a806-162">The MOF data is made up of the properties of the event that is requested by the WQL query as a Common Information Model (CIM) class definition.</span></span> <span data-ttu-id="8a806-163">각 속성에는 해당되는 CIM 형식이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-163">Each property has a corresponding CIM type.</span></span> <span data-ttu-id="8a806-164">예를 들어 `SPID` 속성은 `Sint32` CIM 형식으로 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-164">For example, the `SPID` property is returned as CIM type `Sint32`.</span></span> <span data-ttu-id="8a806-165">각 속성의 CIM 형식은 [서버 이벤트용 WMI 공급자 클래스 및 속성](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-classes-and-properties.md)의 각 이벤트 클래스 아래에 나열되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8a806-165">The CIM types for each property are listed under each event class in [WMI Provider for Server Events Classes and Properties](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-classes-and-properties.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8a806-166">참고 항목</span><span class="sxs-lookup"><span data-stu-id="8a806-166">See Also</span></span>  
 [<span data-ttu-id="8a806-167">서버 이벤트용 WMI 공급자 개념</span><span class="sxs-lookup"><span data-stu-id="8a806-167">WMI Provider for Server Events Concepts</span></span>](https://technet.microsoft.com/library/ms180560.aspx)  
  
  
