---
title: 게시 만들기 | Microsoft 문서
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- publications [SQL Server replication], creating
- articles [SQL Server replication], defining
- adding articles
- articles [SQL Server replication], adding
ms.assetid: 52ee6de9-1d58-4cb9-8711-372bddbe7154
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 14d8b3f1a998b18ae0153c1771fa11afd925da9c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87661028"
---
# <a name="create-a-publication"></a><span data-ttu-id="0fbaa-102">Create a Publication</span><span class="sxs-lookup"><span data-stu-id="0fbaa-102">Create a Publication</span></span>
  <span data-ttu-id="0fbaa-103">이 항목에서는 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] , [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]또는 RMO(복제 관리 개체)를 사용하여 [!INCLUDE[tsql](../../../includes/tsql-md.md)]에서 게시를 만드는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-103">This topic describes how to create a publication in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span>  
  
 <span data-ttu-id="0fbaa-104">**항목 내용**</span><span class="sxs-lookup"><span data-stu-id="0fbaa-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="0fbaa-105">**시작하기 전 주의 사항:**</span><span class="sxs-lookup"><span data-stu-id="0fbaa-105">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="0fbaa-106">제한 사항</span><span class="sxs-lookup"><span data-stu-id="0fbaa-106">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="0fbaa-107">보안</span><span class="sxs-lookup"><span data-stu-id="0fbaa-107">Security</span></span>](#Security)  
  
-   <span data-ttu-id="0fbaa-108">**게시를 만들고 아티클을 정의하려면:**</span><span class="sxs-lookup"><span data-stu-id="0fbaa-108">**To create a publication and define articles, using:**</span></span>  
  
     [<span data-ttu-id="0fbaa-109">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="0fbaa-109">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="0fbaa-110">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="0fbaa-110">Transact-SQL</span></span>](#TsqlProcedure)  
  
     [<span data-ttu-id="0fbaa-111">RMO(복제 관리 개체)</span><span class="sxs-lookup"><span data-stu-id="0fbaa-111">Replication Management Objects (RMO)</span></span>](#RMOProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="0fbaa-112">시작하기 전에</span><span class="sxs-lookup"><span data-stu-id="0fbaa-112">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="0fbaa-113">제한 사항</span><span class="sxs-lookup"><span data-stu-id="0fbaa-113">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="0fbaa-114">게시 및 아티클 이름에는 %, \*, [, ], |, :, ", ? 등의 문자를 포함할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-114">Publication and article names cannot include any of the following characters: % , \* , [ , ] , | , : , " , ?</span></span> <span data-ttu-id="0fbaa-115">, ' , \ , / , \< , >.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-115">, ' , \ , / , \< , >.</span></span> <span data-ttu-id="0fbaa-116">이러한 문자를 포함하는 데이터베이스 개체를 복제하려면 **아티클 속성 - \<Article>** 대화 상자(마법사의 **아티클** 페이지에서 사용 가능)에서 개체 이름과 다른 아티클 이름을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-116">If objects in the database include any of these characters and you want to replicate them, you must specify an article name that is different from the object name in the **Article Properties - \<Article>** dialog box, which is available from the **Articles** page in the wizard.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="0fbaa-117">보안</span><span class="sxs-lookup"><span data-stu-id="0fbaa-117">Security</span></span>  
 <span data-ttu-id="0fbaa-118">가능한 경우 런타임 시 사용자에게 보안 자격 증명을 입력하라는 메시지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-118">When possible, prompt users to enter security credentials at runtime.</span></span> <span data-ttu-id="0fbaa-119">자격 증명을 저장해야 하는 경우 [Windows .NET Framework에서 제공하는](https://go.microsoft.com/fwlink/?LinkId=34733) 암호화 서비스 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] 를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-119">If you must store credentials, use the [cryptographic services](https://go.microsoft.com/fwlink/?LinkId=34733) provided by the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows .NET Framework.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="0fbaa-120">SQL Server Management Studio 사용</span><span class="sxs-lookup"><span data-stu-id="0fbaa-120">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="0fbaa-121">새 게시 마법사를 사용하여 게시를 만들고 아티클을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-121">Create publications and define articles with the New Publication Wizard.</span></span> <span data-ttu-id="0fbaa-122">게시를 만든 다음 **게시 속성 - \<Publication>** 대화 상자에서 게시 속성을 보고 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-122">After a publication is created, view and modify publication properties in the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="0fbaa-123">Oracle 데이터베이스에서 게시를 만드는 방법에 대한 자세한 내용은 [Oracle 데이터베이스에서 게시 만들기](create-a-publication-from-an-oracle-database.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-123">For information about creating a publication from an Oracle database, see [Create a Publication from an Oracle Database](create-a-publication-from-an-oracle-database.md).</span></span>  
  
#### <a name="to-create-a-publication-and-define-articles"></a><span data-ttu-id="0fbaa-124">게시를 만들고 아티클을 정의하려면</span><span class="sxs-lookup"><span data-stu-id="0fbaa-124">To create a publication and define articles</span></span>  
  
1.  <span data-ttu-id="0fbaa-125">[!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]에서 게시자에 연결한 다음, 해당 서버 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-125">Connect to the Publisher in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>  
  
2.  <span data-ttu-id="0fbaa-126">**복제** 폴더를 확장한 다음 **로컬 게시** 폴더를 마우스 오른쪽 단추로 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-126">Expand the **Replication** folder, and then right-click the **Local Publications** folder.</span></span>  
  
3.  <span data-ttu-id="0fbaa-127">**새 게시**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-127">Click **New Publication**.</span></span>  
  
4.  <span data-ttu-id="0fbaa-128">새 게시 마법사의 페이지에 따라 다음을 수행하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-128">Follow the pages in the New Publication Wizard to:</span></span>  
  
    -   <span data-ttu-id="0fbaa-129">서버에 배포가 구성되어 있지 않은 경우 배포자를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-129">Specify a Distributor if distribution has not been configured on the server.</span></span> <span data-ttu-id="0fbaa-130">배포 구성에 대한 자세한 내용은 [게시 및 배포 구성](../configure-publishing-and-distribution.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-130">For more information about configuring distribution, see [Configure Publishing and Distribution](../configure-publishing-and-distribution.md).</span></span>  
  
         <span data-ttu-id="0fbaa-131">**배포자** 페이지에서 게시자 서버가 자신의 고유 배포자(로컬 배포자) 역할을 하는 것으로 지정했지만 서버가 배포자로 구성되어 있지 않은 경우 새 게시 마법사가 서버를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-131">If you specify on the **Distributor** page that the Publisher server will act as its own Distributor (a local Distributor), and the server is not configured as a Distributor, the New Publication Wizard will configure the server.</span></span> <span data-ttu-id="0fbaa-132">**스냅샷 폴더** 페이지에서 배포자에 대해 기본 스냅샷 폴더를 지정하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-132">You will specify a default snapshot folder for the Distributor on the **Snapshot Folder** page.</span></span> <span data-ttu-id="0fbaa-133">스냅샷 폴더는 공유하도록 지정된 디렉터리일 뿐이며 이 폴더에 읽기/쓰기 작업을 수행하려면 에이전트에게 충분한 액세스 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-133">The snapshot folder is simply a directory that you have designated as a share; agents that read from and write to this folder must have sufficient permissions to access it.</span></span> <span data-ttu-id="0fbaa-134">폴더의 적절한 보안 유지 방법에 대한 자세한 내용은 [스냅샷 폴더 보안 설정](../security/secure-the-snapshot-folder.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-134">For more information about securing the folder appropriately, see [Secure the Snapshot Folder](../security/secure-the-snapshot-folder.md).</span></span>  
  
         <span data-ttu-id="0fbaa-135">다른 서버가 배포자의 역할을 하도록 지정한 경우 게시자에서 배포자로 연결할 때 사용할 암호를 **관리 암호** 페이지에 입력해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-135">If you specify that another server should act as the Distributor, you must enter a password on the **Administrative Password** page for connections made from the Publisher to the Distributor.</span></span> <span data-ttu-id="0fbaa-136">이 암호는 원격 배포자에서 게시자를 설정할 때 지정한 암호와 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-136">This password must match the password specified when the Publisher was enabled at the remote Distributor.</span></span>  
  
         <span data-ttu-id="0fbaa-137">자세한 내용은 [Configure Distribution](../configure-distribution.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-137">For more information, see [Configure Distribution](../configure-distribution.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-138">게시 데이터베이스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-138">Choose a publication database.</span></span>  
  
    -   <span data-ttu-id="0fbaa-139">보고서 유형을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-139">Select a publication type.</span></span> <span data-ttu-id="0fbaa-140">자세한 내용은 [복제 유형](../types-of-replication.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-140">For more information, see [Types of Replication](../types-of-replication.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-141">게시할 데이터와 데이터베이스 개체를 지정합니다. 필요에 따라 테이블 아티클에서 열을 필터링하고 아티클 속성을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-141">Specify data and database objects to publish; optionally filter columns from table articles, and set article properties.</span></span>  
  
    -   <span data-ttu-id="0fbaa-142">필요에 따라 테이블 아티클에서 행을 필터링합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-142">Optionally filter rows from table articles.</span></span> <span data-ttu-id="0fbaa-143">자세한 내용은 [게시된 데이터 필터링](filter-published-data.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-143">For more information, see [Filter Published Data](filter-published-data.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-144">스냅샷 에이전트 일정을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-144">Set the Snapshot Agent schedule.</span></span>  
  
    -   <span data-ttu-id="0fbaa-145">다음 복제 에이전트를 실행 및 연결하는 자격 증명을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-145">Specify the credentials under which the following replication agents run and make connections:</span></span>  
  
         <span data-ttu-id="0fbaa-146">모든 게시에 대한 \- 스냅샷 에이전트</span><span class="sxs-lookup"><span data-stu-id="0fbaa-146">\- Snapshot Agent for all publications.</span></span>  
  
         <span data-ttu-id="0fbaa-147">모든 트랜잭션 게시에 대한 \- 로그 판독기 에이전트</span><span class="sxs-lookup"><span data-stu-id="0fbaa-147">\- Log Reader Agent for all transactional publications.</span></span>  
  
         <span data-ttu-id="0fbaa-148">\- 구독 업데이트를 허용하는 트랜잭션 게시에 대한 큐 판독기 에이전트</span><span class="sxs-lookup"><span data-stu-id="0fbaa-148">\- Queue Reader Agent for transactional publications that allow updating subscriptions.</span></span>  
  
         <span data-ttu-id="0fbaa-149">자세한 내용은 [Replication Agent Security Model](../security/replication-agent-security-model.md) 및 [Replication Security Best Practices](../security/replication-security-best-practices.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-149">For more information, see [Replication Agent Security Model](../security/replication-agent-security-model.md) and [Replication Security Best Practices](../security/replication-security-best-practices.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-150">필요에 따라 게시를 스크립팅합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-150">Optionally script the publication.</span></span> <span data-ttu-id="0fbaa-151">자세한 내용은 [Scripting Replication](../scripting-replication.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-151">For more information, see [Scripting Replication](../scripting-replication.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-152">게시의 이름을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-152">Specify a name for the publication.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="0fbaa-153">Transact-SQL 사용</span><span class="sxs-lookup"><span data-stu-id="0fbaa-153">Using Transact-SQL</span></span>  
 <span data-ttu-id="0fbaa-154">복제 저장 프로시저를 사용하여 프로그래밍 방식으로 게시를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-154">Publications can be created programmatically using replication stored procedures.</span></span> <span data-ttu-id="0fbaa-155">사용되는 저장 프로시저는 만들려는 게시의 유형에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-155">The stored procedures that are used will depend on the type of publication being created.</span></span>  
  
#### <a name="to-create-a-snapshot-or-transactional-publication"></a><span data-ttu-id="0fbaa-156">스냅샷 또는 트랜잭션 게시를 만들려면</span><span class="sxs-lookup"><span data-stu-id="0fbaa-156">To create a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="0fbaa-157">게시 데이터베이스의 게시자에서 [sp_replicationdboption&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replicationdboption-transact-sql)을 실행하여 스냅샷 또는 트랜잭션 복제를 사용하여 현재 데이터베이스를 게시할 수 있도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-157">At the Publisher on the publication database, execute [sp_replicationdboption &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replicationdboption-transact-sql) to enable publication of the current database using snapshot or transactional replication.</span></span>  
  
2.  <span data-ttu-id="0fbaa-158">트랜잭션 게시의 경우 게시 데이터베이스에 대한 로그 판독기 에이전트 작업이 존재하는지 여부를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-158">For a transactional publication, determine whether a Log Reader Agent job exists for the publication database.</span></span> <span data-ttu-id="0fbaa-159">스냅샷 게시의 경우에는 이 단계가 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-159">(This step is not required for snapshot publications.)</span></span>  
  
    -   <span data-ttu-id="0fbaa-160">게시 데이터베이스에 대한 로그 판독기 에이전트 작업이 존재하면 3단계를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-160">If a Log Reader Agent job exists for the publication database, proceed to step 3.</span></span>  
  
    -   <span data-ttu-id="0fbaa-161">게시된 데이터베이스에 대해 로그 판독기 에이전트 작업이 존재하는지 확실하지 않으면 게시 데이터베이스의 게시자에서 [sp_helplogreader_agent&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helplogreader-agent-transact-sql)를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-161">If you are unsure whether a Log Reader Agent job exists for a published database, execute [sp_helplogreader_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helplogreader-agent-transact-sql) at the Publisher on the publication database.</span></span>  
  
    -   <span data-ttu-id="0fbaa-162">결과 집합이 비어 있으면 로그 판독기 에이전트 작업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-162">If the result set is empty, create a Log Reader Agent job.</span></span> <span data-ttu-id="0fbaa-163">게시자에서 [sp_addlogreader_agent&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlogreader-agent-transact-sql)를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-163">At the Publisher, execute [sp_addlogreader_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlogreader-agent-transact-sql).</span></span> <span data-ttu-id="0fbaa-164">**\@job_name** 및 **\@password**에 에이전트가 실행되는 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows 자격 증명을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-164">Specify the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows credentials under which the agent runs for **\@job_name** and **\@password**.</span></span> <span data-ttu-id="0fbaa-165">에이전트가 게시자에 연결할 때 SQL Server 인증을 사용하는 경우에도 **\@publisher_security_mode**에 대해 값 **0**을 지정하고 **\@publisher_login** 및 **\@publisher_password**에 대해 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 로그인 정보를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-165">If the agent will use SQL Server Authentication when connecting to the Publisher, you must also specify a value of **0** for **\@publisher_security_mode** and the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login information for **\@publisher_login** and **\@publisher_password**.</span></span> <span data-ttu-id="0fbaa-166">3단계로 진행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-166">Proceed to step 3.</span></span>  
  
3.  <span data-ttu-id="0fbaa-167">게시자에서 [sp_addpublication&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-167">At the Publisher, execute [sp_addpublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql).</span></span> <span data-ttu-id="0fbaa-168">\*\* \@ 게시**에 대 한 게시 이름을 지정 하 고 \*\* \@ repl_freq** 매개 변수에 대해 `snapshot` 스냅숏 게시에 값을 지정 하거나 트랜잭션 게시에 값을 지정 합니다 `continuous` .</span><span class="sxs-lookup"><span data-stu-id="0fbaa-168">Specify a publication name for **\@publication**, and, for the **\@repl_freq** parameter, specify a value of `snapshot` for a snapshot publication or a value of `continuous` for a transactional publication.</span></span> <span data-ttu-id="0fbaa-169">다른 게시 옵션을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-169">Specify any other publication options.</span></span> <span data-ttu-id="0fbaa-170">이렇게 하면 게시가 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-170">This defines the publication.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="0fbaa-171">게시 이름은 다음과 같은 문자를 포함할 수 없습니다:</span><span class="sxs-lookup"><span data-stu-id="0fbaa-171">Publication names cannot include the following characters:</span></span>  
    >   
    >  <span data-ttu-id="0fbaa-172">% \* [ ] | : " ?</span><span class="sxs-lookup"><span data-stu-id="0fbaa-172">% \* [ ] | : " ?</span></span> <span data-ttu-id="0fbaa-173">\ / \< ></span><span class="sxs-lookup"><span data-stu-id="0fbaa-173">\ / \< ></span></span>  
  
4.  <span data-ttu-id="0fbaa-174">게시자에서 [sp_addpublication_snapshot&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpublication-snapshot-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-174">At the Publisher, execute [sp_addpublication_snapshot &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpublication-snapshot-transact-sql).</span></span> <span data-ttu-id="0fbaa-175">**\@publication**에 대해 3단계에서 사용된 게시 이름과 **\@snapshot_job_name** 및 **\@password**에 대해 스냅샷 에이전트가 실행되는 Windows 자격 증명을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-175">Specify the publication name used in step 3 for **\@publication** and the Windows credentials under which the Snapshot Agent runs for **\@snapshot_job_name** and **\@password**.</span></span> <span data-ttu-id="0fbaa-176">게시자에 연결할 때 에이전트가 SQL Server 인증을 사용하면 **\@publisher_security_mode**에 대해 값 **0**을 지정하고 **\@publisher_login** 및 **\@publisher_password**에 대해 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 로그인 정보를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-176">If the agent will use SQL Server Authentication when connecting to the Publisher, you must also specify a value of **0** for **\@publisher_security_mode** and the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login information for **\@publisher_login** and **\@publisher_password**.</span></span> <span data-ttu-id="0fbaa-177">이렇게 하면 게시에 대해 스냅샷 에이전트 작업이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-177">This creates a Snapshot Agent job for the publication.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="0fbaa-178">게시자를 원격 배포자로 구성할 경우 *job_login* 및 *job_password*를 비롯한 모든 매개 변수에 제공된 값이 일반 텍스트로 배포자에게 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-178">When configuring a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="0fbaa-179">이 저장 프로시저를 실행하기 전에 게시자와 해당 원격 배포자 간 연결을 암호화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-179">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="0fbaa-180">자세한 내용은 [데이터베이스 엔진에 암호화 연결 사용&#40;SQL Server 구성 관리자&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-180">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
5.  <span data-ttu-id="0fbaa-181">아티클을 게시에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-181">Add articles to the publication.</span></span> <span data-ttu-id="0fbaa-182">자세한 내용은 [아티클을 정의](define-an-article.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-182">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
6.  <span data-ttu-id="0fbaa-183">스냅샷 에이전트 작업을 시작하여 이 게시에 대한 초기 스냅샷을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-183">Start the Snapshot Agent job to generate the initial snapshot for this publication.</span></span> <span data-ttu-id="0fbaa-184">자세한 내용은 [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-184">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
#### <a name="to-create-a-merge-publication"></a><span data-ttu-id="0fbaa-185">병합 게시를 만들려면</span><span class="sxs-lookup"><span data-stu-id="0fbaa-185">To create a merge publication</span></span>  
  
1.  <span data-ttu-id="0fbaa-186">게시자에서 [sp_replicationdboption&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replicationdboption-transact-sql)을 실행하여 병합 복제를 통해 현재 데이터베이스를 게시할 수 있도록 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-186">At the Publisher, execute [sp_replicationdboption &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-replicationdboption-transact-sql) to enable publication of the current database using merge replication.</span></span>  
  
2.  <span data-ttu-id="0fbaa-187">게시 데이터베이스의 게시자에서 [sp_addmergepublication&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-187">At the Publisher on the publication database, execute [sp_addmergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span></span> <span data-ttu-id="0fbaa-188">**\@publication**에 게시 이름을 지정하고 기타 게시 옵션을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-188">Specify a name for the publication for **\@publication** and any other publication options.</span></span> <span data-ttu-id="0fbaa-189">이렇게 하면 게시가 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-189">This defines the publication.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="0fbaa-190">게시 이름은 다음과 같은 문자를 포함할 수 없습니다:</span><span class="sxs-lookup"><span data-stu-id="0fbaa-190">Publication names cannot include the following characters:</span></span>  
    >   
    >  <span data-ttu-id="0fbaa-191">% \* [ ] | : " ?</span><span class="sxs-lookup"><span data-stu-id="0fbaa-191">% \* [ ] | : " ?</span></span> <span data-ttu-id="0fbaa-192">\ / \< ></span><span class="sxs-lookup"><span data-stu-id="0fbaa-192">\ / \< ></span></span>  
  
3.  <span data-ttu-id="0fbaa-193">게시자에서 [sp_addpublication_snapshot&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpublication-snapshot-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-193">At the Publisher, execute [sp_addpublication_snapshot &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpublication-snapshot-transact-sql).</span></span> <span data-ttu-id="0fbaa-194">**\@publication**에 대해 2단계에서 사용된 게시 이름과 **\@snapshot_job_name** 및 **\@password**에 대해 스냅샷 에이전트가 실행되는 Windows 자격 증명을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-194">Specify the publication name used in step 2 for **\@publication** and the Windows credentials under which the Snapshot Agent runs for **\@snapshot_job_name** and **\@password**.</span></span> <span data-ttu-id="0fbaa-195">게시자에 연결할 때 에이전트가 SQL Server 인증을 사용하면 **\@publisher_security_mode**에 대해 값 **0**을 지정하고 **\@publisher_login** 및 **\@publisher_password**에 대해 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 로그인 정보를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-195">If the agent will use SQL Server Authentication when connecting to the Publisher, you must also specify a value of **0** for **\@publisher_security_mode** and the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login information for **\@publisher_login** and **\@publisher_password**.</span></span> <span data-ttu-id="0fbaa-196">이렇게 하면 게시에 대해 스냅샷 에이전트 작업이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-196">This creates a Snapshot Agent job for the publication.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="0fbaa-197">게시자를 원격 배포자로 구성할 경우 *job_login* 및 *job_password*를 비롯한 모든 매개 변수에 제공된 값이 일반 텍스트로 배포자에게 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-197">When configuring a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="0fbaa-198">이 저장 프로시저를 실행하기 전에 게시자와 해당 원격 배포자 간 연결을 암호화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-198">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="0fbaa-199">자세한 내용은 [데이터베이스 엔진에 암호화 연결 사용&#40;SQL Server 구성 관리자&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-199">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
4.  <span data-ttu-id="0fbaa-200">아티클을 게시에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-200">Add articles to the publication.</span></span> <span data-ttu-id="0fbaa-201">자세한 내용은 [아티클을 정의](define-an-article.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-201">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
5.  <span data-ttu-id="0fbaa-202">스냅샷 에이전트 작업을 시작하여 이 게시에 대한 초기 스냅샷을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-202">Start the Snapshot Agent job to generate the initial snapshot for this publication.</span></span> <span data-ttu-id="0fbaa-203">자세한 내용은 [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-203">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
###  <a name="example-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="0fbaa-204">예(Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0fbaa-204">Example (Transact-SQL)</span></span>  
 <span data-ttu-id="0fbaa-205">다음 예에서는 트랜잭션 게시를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-205">This example creates a transactional publication.</span></span> <span data-ttu-id="0fbaa-206">스크립팅 변수는 스냅샷 에이전트 및 로그 판독기 에이전트에 대한 작업을 만드는 데 필요한 Windows 자격 증명을 전달하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-206">Scripting variables are used to pass Windows credentials that are needed to create jobs for the Snapshot Agent and Log Reader Agent.</span></span>  
  
 [!code-sql[HowTo#sp_AddTranPub](../../../snippets/tsql/SQL15/replication/howto/tsql/createtranpub.sql#sp_addtranpub)]  
  
 <span data-ttu-id="0fbaa-207">다음 예에서는 병합 게시를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-207">This example creates a merge publication.</span></span> <span data-ttu-id="0fbaa-208">스크립팅 변수는 스냅샷 에이전트에 대한 작업을 만드는 데 필요한 Windows 자격 증명을 전달하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-208">Scripting variables are used to pass Windows credentials that are needed to create the job for the Snapshot Agent.</span></span>  
  
 [!code-sql[HowTo#sp_AddMergePub](../../../snippets/tsql/SQL15/replication/howto/tsql/createmergepub.sql#sp_addmergepub)]  
  
##  <a name="using-replication-management-objects-rmo"></a><a name="RMOProcedure"></a> <span data-ttu-id="0fbaa-209">RMO(복제 관리 개체) 사용</span><span class="sxs-lookup"><span data-stu-id="0fbaa-209">Using Replication Management Objects (RMO)</span></span>  
 <span data-ttu-id="0fbaa-210">RMO(복제 관리 개체)를 사용하여 프로그래밍 방식으로 게시를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-210">You can create publications programmatically by using Replication Management Objects (RMO).</span></span> <span data-ttu-id="0fbaa-211">게시를 만드는 데 사용하는 RMO 클래스는 만드는 게시 유형에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-211">The RMO classes that you use to create a publication depend on the type of publication you create.</span></span>  
  
#### <a name="to-create-a-snapshot-or-transactional-publication"></a><span data-ttu-id="0fbaa-212">스냅샷 또는 트랜잭션 게시를 만들려면</span><span class="sxs-lookup"><span data-stu-id="0fbaa-212">To create a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="0fbaa-213"><xref:Microsoft.SqlServer.Management.Common.ServerConnection> 클래스를 사용하여 게시자 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-213">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="0fbaa-214">게시 데이터베이스에 대해 <xref:Microsoft.SqlServer.Replication.ReplicationDatabase> 클래스의 인스턴스를 만들고, 1단계에서 만든 <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> 인스턴스에 <xref:Microsoft.SqlServer.Management.Common.ServerConnection> 속성을 설정한 다음 <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-214">Create an instance of the <xref:Microsoft.SqlServer.Replication.ReplicationDatabase> class for the publication database, set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the instance of <xref:Microsoft.SqlServer.Management.Common.ServerConnection> from step 1, and call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method.</span></span> <span data-ttu-id="0fbaa-215"><xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A>에서 `false`가 반환되면 데이터베이스가 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-215">If <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> returns `false`, verify that the database exists.</span></span>  
  
3.  <span data-ttu-id="0fbaa-216"><xref:Microsoft.SqlServer.Replication.ReplicationDatabase.EnabledTransPublishing%2A> 속성이 `false`이면 `true`로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-216">If the <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.EnabledTransPublishing%2A> property is `false`, set it to `true`.</span></span>  
  
4.  <span data-ttu-id="0fbaa-217">트랜잭션 게시에 대한 <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentExists%2A> 속성의 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-217">For a transactional publication, check the value of the <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentExists%2A> property.</span></span> <span data-ttu-id="0fbaa-218">이 속성이 `true`이면 이 데이터베이스에 대한 로그 판독기 에이전트 작업이 이미 존재하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-218">If this property is `true`, a Log Read Agent job already exists for this database.</span></span> <span data-ttu-id="0fbaa-219">이 속성이 `false`이면 다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-219">If this property is `false`, do the following:</span></span>  
  
    -   <span data-ttu-id="0fbaa-220"><xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A>의 <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> 및 <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.SecurePassword%2A> 또는 <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentProcessSecurity%2A> 필드를 설정하여 로드 판독기 에이전트가 실행되는 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows 계정에 대한 자격 증명을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-220">Set the <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> or <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.SecurePassword%2A> fields of <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentProcessSecurity%2A> to provide the credentials for the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows account under which the Log Reader Agent runs.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="0fbaa-221">`sysadmin` 고정 서버 역할의 멤버가 게시를 만들 경우에는 <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentProcessSecurity%2A>를 설정하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-221">Setting <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentProcessSecurity%2A> is not required when the publication is created by a member of the `sysadmin` fixed server role.</span></span> <span data-ttu-id="0fbaa-222">이 경우 에이전트는 SQL Server 에이전트 계정을 가장합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-222">In this case, the agent will impersonate the SQL Server Agent account.</span></span> <span data-ttu-id="0fbaa-223">자세한 내용은 [복제 에이전트 보안 모델](../security/replication-agent-security-model.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-223">For more information, see [Replication Agent Security Model](../security/replication-agent-security-model.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-224">(옵션) SQL Server 인증을 사용하여 게시자에 연결할 때 <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> 의 <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> 필드와 <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SecureSqlStandardPassword%2A> 또는 <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentPublisherSecurity%2A> 필드</span><span class="sxs-lookup"><span data-stu-id="0fbaa-224">(Optional) Set the <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> or <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SecureSqlStandardPassword%2A> fields of <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.LogReaderAgentPublisherSecurity%2A> when using SQL Server Authentication to connect to the Publisher.</span></span>  
  
    -   <span data-ttu-id="0fbaa-225"><xref:Microsoft.SqlServer.Replication.ReplicationDatabase.CreateLogReaderAgent%2A> 메서드를 호출하여 데이터베이스에 대한 로그 판독기 에이전트 작업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-225">Call the <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.CreateLogReaderAgent%2A> method to create the Log Reader Agent job for the database.</span></span>  
  
5.  <span data-ttu-id="0fbaa-226"><xref:Microsoft.SqlServer.Replication.TransPublication> 클래스의 인스턴스를 만들고 이 개체에 대해 다음 속성을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-226">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransPublication> class, and set the following properties for this object:</span></span>  
  
    -   <span data-ttu-id="0fbaa-227"><xref:Microsoft.SqlServer.Management.Common.ServerConnection> 에서 1단계에서 만든 <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A>.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-227">The <xref:Microsoft.SqlServer.Management.Common.ServerConnection> from step 1 for <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A>.</span></span>  
  
    -   <span data-ttu-id="0fbaa-228"><xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A>에 대한 게시 데이터베이스의 이름</span><span class="sxs-lookup"><span data-stu-id="0fbaa-228">The name of the published database for <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A>.</span></span>  
  
    -   <span data-ttu-id="0fbaa-229"><xref:Microsoft.SqlServer.Replication.Publication.Name%2A>에 대한 게시의 이름</span><span class="sxs-lookup"><span data-stu-id="0fbaa-229">A name for the publication for <xref:Microsoft.SqlServer.Replication.Publication.Name%2A>.</span></span>  
  
    -   <span data-ttu-id="0fbaa-230"><xref:Microsoft.SqlServer.Replication.PublicationType> 또는 <xref:Microsoft.SqlServer.Replication.PublicationType.Transactional> 의 <xref:Microsoft.SqlServer.Replication.PublicationType.Snapshot></span><span class="sxs-lookup"><span data-stu-id="0fbaa-230">A <xref:Microsoft.SqlServer.Replication.PublicationType> of either <xref:Microsoft.SqlServer.Replication.PublicationType.Transactional> or <xref:Microsoft.SqlServer.Replication.PublicationType.Snapshot>.</span></span>  
  
    -   <span data-ttu-id="0fbaa-231">스냅샷 에이전트가 실행되는 Windows 계정에 대한 자격 증명을 제공하기 위한 <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>의 <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> 및 <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> 필드.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-231">The <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> fields of <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A> to provide the credentials for the Windows account under which the Snapshot Agent runs.</span></span> <span data-ttu-id="0fbaa-232">이 계정은 스냅샷 에이전트에서 로컬 배포자에 연결할 때 사용되며, Windows 인증이 사용되는 경우에는 모든 원격 연결에도 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-232">This account is also used when the Snapshot Agent makes connections to the local Distributor and for any remote connections when using Windows Authentication.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="0fbaa-233">`sysadmin` 고정 서버 역할의 멤버가 게시를 만들 경우에는 <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>를 설정하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-233">Setting <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A> is not required when the publication is created by a member of the `sysadmin` fixed server role.</span></span> <span data-ttu-id="0fbaa-234">이 경우 에이전트는 SQL Server 에이전트 계정을 가장합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-234">In this case, the agent will impersonate the SQL Server Agent account.</span></span> <span data-ttu-id="0fbaa-235">자세한 내용은 [복제 에이전트 보안 모델](../security/replication-agent-security-model.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-235">For more information, see [Replication Agent Security Model](../security/replication-agent-security-model.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-236">(옵션) SQL Server 인증을 사용하여 게시자에 연결할 경우 <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> 의 <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> 및 <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SecureSqlStandardPassword%2A> 또는 <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentPublisherSecurity%2A> 필드</span><span class="sxs-lookup"><span data-stu-id="0fbaa-236">(Optional) The <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardLogin%2A> and <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SqlStandardPassword%2A> or <xref:Microsoft.SqlServer.Replication.ConnectionSecurityContext.SecureSqlStandardPassword%2A> fields of <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentPublisherSecurity%2A> when using SQL Server Authentication to connect to the Publisher.</span></span>  
  
    -   <span data-ttu-id="0fbaa-237">(옵션) 포함 논리적 OR 연산자(Visual C#의 `|` 및 Visual Basic의 `Or`) 및 배타적 논리적 OR 연산자(Visual C#의 `^` 및 Visual Basic의 `Xor`)를 사용하여 <xref:Microsoft.SqlServer.Replication.PublicationAttributes> 속성에 대해 <xref:Microsoft.SqlServer.Replication.Publication.Attributes%2A> 값을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-237">(Optional) Use the inclusive logical OR operator (`|` in Visual C# and `Or` in Visual Basic) and the exclusive logical OR operator (`^` in Visual C# and `Xor` in Visual Basic) to set the <xref:Microsoft.SqlServer.Replication.PublicationAttributes> values for the <xref:Microsoft.SqlServer.Replication.Publication.Attributes%2A> property.</span></span>  
  
    -   <span data-ttu-id="0fbaa-238">(옵션) SQL Server 이외 게시자인 경우 <xref:Microsoft.SqlServer.Replication.TransPublication.PublisherName%2A> 에 대한 게시자의 이름</span><span class="sxs-lookup"><span data-stu-id="0fbaa-238">(Optional) The name of the Publisher for <xref:Microsoft.SqlServer.Replication.TransPublication.PublisherName%2A> when the Publisher is a non-SQL Server Publisher.</span></span>  
  
6.  <span data-ttu-id="0fbaa-239"><xref:Microsoft.SqlServer.Replication.Publication.Create%2A> 메서드를 호출하여 게시를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-239">Call the <xref:Microsoft.SqlServer.Replication.Publication.Create%2A> method to create the publication.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="0fbaa-240">원격 배포자로 게시자를 구성할 경우 <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>를 포함하여 모든 속성에 제공된 값이 일반 텍스트로 배포자에게 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-240">When configuring a Publisher with a remote Distributor, the values supplied for all properties, including <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="0fbaa-241"><xref:Microsoft.SqlServer.Replication.Publication.Create%2A> 메서드를 호출하기 전에 게시자와 해당 원격 배포자 간 연결을 암호화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-241">You should encrypt the connection between the Publisher and its remote Distributor before calling the <xref:Microsoft.SqlServer.Replication.Publication.Create%2A> method.</span></span> <span data-ttu-id="0fbaa-242">자세한 내용은 [데이터베이스 엔진에 암호화 연결 사용&#40;SQL Server 구성 관리자&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-242">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
7.  <span data-ttu-id="0fbaa-243"><xref:Microsoft.SqlServer.Replication.Publication.CreateSnapshotAgent%2A> 메서드를 호출하여 게시에 대한 스냅샷 에이전트 작업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-243">Call the <xref:Microsoft.SqlServer.Replication.Publication.CreateSnapshotAgent%2A> method to create the Snapshot Agent job for the publication.</span></span>  
  
#### <a name="to-create-a-merge-publication"></a><span data-ttu-id="0fbaa-244">병합 게시를 만들려면</span><span class="sxs-lookup"><span data-stu-id="0fbaa-244">To create a merge publication</span></span>  
  
1.  <span data-ttu-id="0fbaa-245"><xref:Microsoft.SqlServer.Management.Common.ServerConnection> 클래스를 사용하여 게시자 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-245">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="0fbaa-246">게시 데이터베이스에 대해 <xref:Microsoft.SqlServer.Replication.ReplicationDatabase> 클래스의 인스턴스를 만들고, 1단계에서 만든 <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> 인스턴스에 <xref:Microsoft.SqlServer.Management.Common.ServerConnection> 속성을 설정한 다음 <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-246">Create an instance of the <xref:Microsoft.SqlServer.Replication.ReplicationDatabase> class for the publication database, set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the instance of <xref:Microsoft.SqlServer.Management.Common.ServerConnection> from step 1, and call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method.</span></span> <span data-ttu-id="0fbaa-247"><xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A>에서 `false`가 반환되면 데이터베이스가 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-247">If <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> returns `false`, verify that the database exists.</span></span>  
  
3.  <span data-ttu-id="0fbaa-248"><xref:Microsoft.SqlServer.Replication.ReplicationDatabase.EnabledMergePublishing%2A> 속성이 `false`이면 `true`로 설정한 후 <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A>를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-248">If <xref:Microsoft.SqlServer.Replication.ReplicationDatabase.EnabledMergePublishing%2A> Property is `false`, set it to `true`, and call <xref:Microsoft.SqlServer.Replication.ReplicationObject.CommitPropertyChanges%2A>.</span></span>  
  
4.  <span data-ttu-id="0fbaa-249"><xref:Microsoft.SqlServer.Replication.MergePublication> 클래스의 인스턴스를 만들고 이 개체에 대해 다음 속성을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-249">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class, and set the following properties for this object:</span></span>  
  
    -   <span data-ttu-id="0fbaa-250"><xref:Microsoft.SqlServer.Management.Common.ServerConnection> 에서 1단계에서 만든 <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A>.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-250">The <xref:Microsoft.SqlServer.Management.Common.ServerConnection> from step 1 for <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A>.</span></span>  
  
    -   <span data-ttu-id="0fbaa-251"><xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A>에 대한 게시 데이터베이스의 이름</span><span class="sxs-lookup"><span data-stu-id="0fbaa-251">The name of the published database for <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A>.</span></span>  
  
    -   <span data-ttu-id="0fbaa-252"><xref:Microsoft.SqlServer.Replication.Publication.Name%2A>에 대한 게시의 이름</span><span class="sxs-lookup"><span data-stu-id="0fbaa-252">A name for the publication for <xref:Microsoft.SqlServer.Replication.Publication.Name%2A>.</span></span>  
  
    -   <span data-ttu-id="0fbaa-253">스냅샷 에이전트가 실행되는 Windows 계정에 대한 자격 증명을 제공하기 위한 <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>의 <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> 및 <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> 필드.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-253">The <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> fields of <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A> to provide the credentials for the Windows account under which the Snapshot Agent runs.</span></span> <span data-ttu-id="0fbaa-254">이 계정은 스냅샷 에이전트에서 로컬 배포자에 연결할 때 사용되며, Windows 인증이 사용되는 경우에는 모든 원격 연결에도 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-254">This account is also used when the Snapshot Agent makes connections to the local Distributor and for any remote connections when using Windows Authentication.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="0fbaa-255">`sysadmin` 고정 서버 역할의 멤버가 게시를 만들 경우에는 <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>를 설정하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-255">Setting <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A> is not required when the publication is created by a member of the `sysadmin` fixed server role.</span></span> <span data-ttu-id="0fbaa-256">자세한 내용은 [복제 에이전트 보안 모델](../security/replication-agent-security-model.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-256">For more information, see [Replication Agent Security Model](../security/replication-agent-security-model.md).</span></span>  
  
    -   <span data-ttu-id="0fbaa-257">(옵션) 포함 논리적 OR 연산자(Visual C#의 `|` 및 Visual Basic의 `Or`) 및 배타적 논리적 OR 연산자(Visual C#의 `^` 및 Visual Basic의 `Xor`)를 사용하여 <xref:Microsoft.SqlServer.Replication.PublicationAttributes> 속성에 대해 <xref:Microsoft.SqlServer.Replication.Publication.Attributes%2A> 값을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-257">(Optional) Use the inclusive logical OR operator (`|` in Visual C# and `Or` in Visual Basic) and the exclusive logical OR operator (`^` in Visual C# and `Xor` in Visual Basic) to set the <xref:Microsoft.SqlServer.Replication.PublicationAttributes> values for the <xref:Microsoft.SqlServer.Replication.Publication.Attributes%2A> property.</span></span>  
  
5.  <span data-ttu-id="0fbaa-258"><xref:Microsoft.SqlServer.Replication.Publication.Create%2A> 메서드를 호출하여 게시를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-258">Call the <xref:Microsoft.SqlServer.Replication.Publication.Create%2A> method to create the publication.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="0fbaa-259">원격 배포자로 게시자를 구성할 경우 <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>를 포함하여 모든 속성에 제공된 값이 일반 텍스트로 배포자에게 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-259">When configuring a Publisher with a remote Distributor, the values supplied for all properties, including <xref:Microsoft.SqlServer.Replication.Publication.SnapshotGenerationAgentProcessSecurity%2A>, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="0fbaa-260"><xref:Microsoft.SqlServer.Replication.Publication.Create%2A> 메서드를 호출하기 전에 게시자와 해당 원격 배포자 간 연결을 암호화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-260">You should encrypt the connection between the Publisher and its remote Distributor before calling the <xref:Microsoft.SqlServer.Replication.Publication.Create%2A> method.</span></span> <span data-ttu-id="0fbaa-261">자세한 내용은 [데이터베이스 엔진에 암호화 연결 사용&#40;SQL Server 구성 관리자&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-261">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
6.  <span data-ttu-id="0fbaa-262"><xref:Microsoft.SqlServer.Replication.Publication.CreateSnapshotAgent%2A> 메서드를 호출하여 게시에 대한 스냅샷 에이전트 작업을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-262">Call the <xref:Microsoft.SqlServer.Replication.Publication.CreateSnapshotAgent%2A> method to create the Snapshot Agent job for the publication.</span></span>  
  
###  <a name="examples-rmo"></a><a name="PShellExample"></a> <span data-ttu-id="0fbaa-263">예(RMO)</span><span class="sxs-lookup"><span data-stu-id="0fbaa-263">Examples (RMO)</span></span>  
 <span data-ttu-id="0fbaa-264">이 예에서는 AdventureWorks 데이터베이스에서 트랜잭션 게시를 사용할 수 있도록 설정하고 로그 판독기 에이전트 작업을 정의하며 AdvWorksProductTran 게시를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-264">This example enables the AdventureWorks database for transactional publishing, defines a Log Reader Agent job, and creates the AdvWorksProductTran publication.</span></span> <span data-ttu-id="0fbaa-265">이 게시에 대한 아티클을 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-265">An article must be defined for this publication.</span></span> <span data-ttu-id="0fbaa-266">로그 판독기 에이전트 작업 및 스냅샷 에이전트 작업을 만드는 데 필요한 Windows 계정 자격 증명은 런타임에 전달됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-266">The Windows account credentials that are needed to create the Log Reader Agent job and the Snapshot Agent job are passed at runtime.</span></span> <span data-ttu-id="0fbaa-267">RMO를 사용하여 스냅샷 및 트랜잭션 아티클을 정의하는 방법은 [Define an Article](define-an-article.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-267">To learn how to use RMO to define snapshot and transactional articles, see [Define an Article](define-an-article.md).</span></span>  
  
 [!code-csharp[HowTo#rmo_CreateTranPub](../../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_createtranpub)]  
  
 [!code-vb[HowTo#rmo_vb_CreateTranPub](../../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_createtranpub)]  
  
 <span data-ttu-id="0fbaa-268">이 예에서는 AdventureWorks 데이터베이스에서 병합 게시를 사용할 수 있도록 설정하고 AdvWorksSalesOrdersMerge 게시를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-268">This example enables the AdventureWorks database for merge publishing and creates the AdvWorksSalesOrdersMerge publication.</span></span> <span data-ttu-id="0fbaa-269">이 게시에 대한 아티클을 정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-269">Articles must still be defined for this publication.</span></span> <span data-ttu-id="0fbaa-270">스냅샷 에이전트 작업을 만드는 데 필요한 Windows 계정 자격 증명은 런타임에 전달됩니다.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-270">The Windows account credentials that are needed to create the Snapshot Agent job are passed at runtime.</span></span> <span data-ttu-id="0fbaa-271">RMO를 사용하여 병합 아티클을 정의하는 방법은 [Define an Article](define-an-article.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="0fbaa-271">To learn how to use RMO to define merge articles, see [Define an Article](define-an-article.md).</span></span>  
  
 [!code-csharp[HowTo#rmo_CreateMergePub](../../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_createmergepub)]  
  
 [!code-vb[HowTo#rmo_vb_CreateMergePub](../../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_createmergepub)]  
  
## <a name="see-also"></a><span data-ttu-id="0fbaa-272">참고 항목</span><span class="sxs-lookup"><span data-stu-id="0fbaa-272">See Also</span></span>  
 <span data-ttu-id="0fbaa-273">[스크립팅 변수와 함께 sqlcmd 사용](../../scripting/sqlcmd-use-with-scripting-variables.md) </span><span class="sxs-lookup"><span data-stu-id="0fbaa-273">[Use sqlcmd with Scripting Variables](../../scripting/sqlcmd-use-with-scripting-variables.md) </span></span>  
 <span data-ttu-id="0fbaa-274">[데이터 및 데이터베이스 개체 게시](publish-data-and-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="0fbaa-274">[Publish Data and Database Objects](publish-data-and-database-objects.md) </span></span>  
 <span data-ttu-id="0fbaa-275">[Replication Management Objects Concepts](../concepts/replication-management-objects-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="0fbaa-275">[Replication Management Objects Concepts](../concepts/replication-management-objects-concepts.md) </span></span>  
 <span data-ttu-id="0fbaa-276">[Define an Article](define-an-article.md) </span><span class="sxs-lookup"><span data-stu-id="0fbaa-276">[Define an Article](define-an-article.md) </span></span>  
 <span data-ttu-id="0fbaa-277">[게시 속성 보기 및 수정](view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="0fbaa-277">[View and Modify Publication Properties](view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="0fbaa-278">[배포 구성](../configure-distribution.md) </span><span class="sxs-lookup"><span data-stu-id="0fbaa-278">[Configure Distribution](../configure-distribution.md) </span></span>  
 <span data-ttu-id="0fbaa-279">[배포자 보안 설정](../security/secure-the-distributor.md) </span><span class="sxs-lookup"><span data-stu-id="0fbaa-279">[Secure the Distributor](../security/secure-the-distributor.md) </span></span>  
 [<span data-ttu-id="0fbaa-280">게시자 보안 설정</span><span class="sxs-lookup"><span data-stu-id="0fbaa-280">Secure the Publisher</span></span>](../security/secure-the-publisher.md)  
  
  
