---
title: 병합 복제 속성 지정 | Microsoft Docs
ms.custom: ''
ms.date: 11/29/2018
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- merge replication [SQL Server replication], about merge replication
- merge replication [SQL Server replication]
ms.assetid: ff87c368-4c00-4e48-809d-ea752839551e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 3b2e66b7ed26420093166445a478bfec7f1dd21d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87735211"
---
# <a name="specify-merge-replication-properties"></a><span data-ttu-id="87e8b-102">병합 복제 속성 지정</span><span class="sxs-lookup"><span data-stu-id="87e8b-102">Specify Merge Replication Properties</span></span>
<span data-ttu-id="87e8b-103">이 항목에서는 병합 복제의 다양한 속성을 지정하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-103">This topic explains how to specify various properties for your merge replication.</span></span> 


## <a name="download-only"></a><span data-ttu-id="87e8b-104">다운로드 전용</span><span class="sxs-lookup"><span data-stu-id="87e8b-104">Download-only</span></span>
  <span data-ttu-id="87e8b-105">이 섹션에서는 또는을 사용 하 여에서 병합 테이블 아티클을 다운로드 전용으로 지정 하는 방법에 대해 설명 합니다 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="87e8b-105">This section describes how to specify that a merge table article is download-only in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="87e8b-106">다운로드 전용 아티클은 데이터가 구독자에서 업데이트되지 않는 애플리케이션용으로 디자인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-106">Download-only articles are designed for applications with data that is not updated at Subscribers.</span></span> <span data-ttu-id="87e8b-107">자세한 내용은 [다운로드 전용 아티클로 병합 복제 성능 최적화](../merge/optimize-merge-replication-performance-with-download-only-articles.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-107">For more information, see [Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md).</span></span>  
 
  
###  <a name="limitations-and-restrictions"></a><span data-ttu-id="87e8b-108">제한 사항</span><span class="sxs-lookup"><span data-stu-id="87e8b-108">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="87e8b-109">구독이 초기화된 후 아티클을 다운로드 전용으로 지정하면 해당 아티클을 받은 모든 클라이언트 구독을 다시 초기화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-109">If you specify that an article is download-only after subscriptions have been initialized, all client subscriptions that received the article must be reinitialized.</span></span> <span data-ttu-id="87e8b-110">서버 구독은 다시 초기화할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-110">Server subscriptions do not have to be reinitialized.</span></span> <span data-ttu-id="87e8b-111">속성 변경의 효과에 자세한 내용은 [게시 및 아티클 속성 변경](change-publication-and-article-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-111">For more information on the effects of property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="87e8b-112">SQL Server Management Studio 사용</span><span class="sxs-lookup"><span data-stu-id="87e8b-112">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="87e8b-113">새 게시 마법사의 아티클 페이지 또는 \*\*아티클 속성- \<Article> \*\* 대화 상자의 **속성** 탭 **에서 아티클을 다운로드** 전용으로 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-113">Specify that an article is download-only on the **Articles** page of the New Publication Wizard or the **Properties** tab of the **Article Properties - \<Article>** dialog box.</span></span> <span data-ttu-id="87e8b-114">이 대화 상자는 새 게시 마법사 및 **게시 속성 - \<Publication>** 대화 상자에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-114">This dialog box is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="87e8b-115">마법사 사용 및 대화 상자 액세스에 대한 자세한 내용은 [게시 만들기](../publish/create-a-publication.md) 및 [게시 속성 보기 및 수정](../publish/view-and-modify-publication-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-115">For more information about using the wizard and accessing the dialog box, see [Create a Publication](../publish/create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-articles-page"></a><span data-ttu-id="87e8b-116">아티클 페이지에서 아티클을 다운로드 전용으로 지정하려면</span><span class="sxs-lookup"><span data-stu-id="87e8b-116">To specify that an article is download-only on the Articles page</span></span>  
  
-   <span data-ttu-id="87e8b-117">새 게시 마법사의 **아티클** 페이지에서 테이블을 선택한 다음 **강조 표시된 테이블은 다운로드 전용**확인란을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-117">On the **Articles** page of the New Publication Wizard select a table, and then select the checkbox **Highlighted table is download-only**.</span></span> 
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-properties-tab-of-the-article-properties---article-dialog-box"></a><span data-ttu-id="87e8b-118">아티클 속성-대화 상자의 속성 탭에서 아티클을 다운로드 전용으로 지정 하려면 \<Article></span><span class="sxs-lookup"><span data-stu-id="87e8b-118">To specify that an article is download-only on the Properties tab of the Article Properties - \<Article> dialog box</span></span>  
  
1.  <span data-ttu-id="87e8b-119">새 게시 마법사의 **아티클** 페이지 또는 **게시 속성 - \<Publication>** 대화 상자에서 테이블을 선택한 다음 **아티클 속성**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-119">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table, and then click **Article Properties**.</span></span>    
2.  <span data-ttu-id="87e8b-120">**선택한 테이블 아티클 속성 설정** 또는 **모든 테이블 아티클 속성 설정**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-120">Click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="87e8b-121">**아티클 속성 - \<Article>** 대화 상자의 **속성** 탭에 있는 **대상 개체** 섹션에서 **동기화 방향**으로 다음 값 중 하나를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-121">In the **Destination Object** section of the **Properties** tab of the **Article Properties - \<Article>** dialog box, specify one of the following values for **Synchronization direction**:</span></span>    
    -   <span data-ttu-id="87e8b-122">**구독자로 다운로드 전용, 구독자 변경 금지**</span><span class="sxs-lookup"><span data-stu-id="87e8b-122">**Download to Subscriber, prohibit Subscriber changes**</span></span>    
    -   <span data-ttu-id="87e8b-123">**구독자로 다운로드 전용, 구독자 변경 허용**</span><span class="sxs-lookup"><span data-stu-id="87e8b-123">**Download to Subscriber, allow Subscriber changes**</span></span>  
  
4.  <span data-ttu-id="87e8b-124">**게시 속성 - \<Publication>** 대화 상자에서 **확인**을 클릭하여 저장하고 대화 상자를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-124">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>    

###  <a name="using-transact-sql"></a><span data-ttu-id="87e8b-125">Transact-SQL 사용</span><span class="sxs-lookup"><span data-stu-id="87e8b-125">Using Transact-SQL</span></span>  
  
#### <a name="to-specify-that-a-new-merge-table-article-is-download-only"></a><span data-ttu-id="87e8b-126">새 병합 테이블 아티클을 다운로드 전용으로 지정하려면</span><span class="sxs-lookup"><span data-stu-id="87e8b-126">To specify that a new merge table article is download-only</span></span>    
1.  <span data-ttu-id="87e8b-127">매개 변수 \*\* \@ subscriber_upload_options\*\*에 값 **1** 또는 **2** 를 지정 하 여 [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql)를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-127">Execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), specifying a value of **1** or **2** for the parameter **\@subscriber_upload_options**.</span></span> <span data-ttu-id="87e8b-128">다음은 숫자 값과 이에 해당하는 동작입니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-128">The numbers correspond to the following behavior:</span></span>  
  
    -   <span data-ttu-id="87e8b-129">**0** - 제한이 없습니다(기본값).</span><span class="sxs-lookup"><span data-stu-id="87e8b-129">**0** - No restrictions (default).</span></span> <span data-ttu-id="87e8b-130">구독자의 변경 내용이 게시자에 업로드됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-130">Changes made at the Subscriber are uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="87e8b-131">**1** - 구독자에서 변경이 허용되지만 변경 내용이 게시자로 업로드되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-131">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="87e8b-132">**2** - 구독자에서 변경이 허용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-132">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="87e8b-133">아티클의 원본 테이블이 이미 다른 게시에 게시 된 경우 \*\* \@ subscriber_upload_options\*\* 의 값은 두 아티클에 대해 동일 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-133">If the source table for an article is already published in another publication, the value of **\@subscriber_upload_options** must be the same for both articles.</span></span>  
  
#### <a name="to-modify-an-existing-merge-table-article-to-be-download-only"></a><span data-ttu-id="87e8b-134">기존의 병합 테이블 아티클을 다운로드 전용으로 수정하려면</span><span class="sxs-lookup"><span data-stu-id="87e8b-134">To modify an existing merge table article to be download-only</span></span>  
  
1.  <span data-ttu-id="87e8b-135">아티클이 다운로드 전용인지 확인하려면 [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-135">To determine if an article is download-only, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="87e8b-136">결과 집합에서 아티클의 **upload_options** 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-136">Note the value of **upload_options** for the article in the result set.</span></span>    
2.  <span data-ttu-id="87e8b-137">1 단계에서 반환 된 값이 **0**이면 [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql)를 실행 하 고, \*\* \@ 속성**에 **subscriber_upload_options** 값을 지정 하 고, \*\* \@ force_invalidate_snapshot** 및 \*\* \@ force_reinit_subscription\*\*에 값 **1** 을 지정 하 고, 값에 **1** 또는 **2** 값을 지정 합니다 .이 값은 다음 동작에 해당 합니다. \*\* \@ \*\*</span><span class="sxs-lookup"><span data-stu-id="87e8b-137">If the value returned in step 1 is **0**, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying a value of **subscriber_upload_options** for **\@property**, a value of **1** for **\@force_invalidate_snapshot** and **\@force_reinit_subscription**, and a value of **1** or **2** for **\@value**, which corresponds to the following behavior:</span></span>  
  
    -   <span data-ttu-id="87e8b-138">**1** - 구독자에서 변경이 허용되지만 변경 내용이 게시자로 업로드되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-138">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="87e8b-139">**2** - 구독자에서 변경이 허용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-139">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="87e8b-140">아티클의 원본 테이블이 이미 다른 게시에 게시된 경우 두 아티클의 다운로드 전용 동작이 동일해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-140">If the source table for an article is already published in another publication, the download-only behavior must be the same for both articles.</span></span>  
 
## <a name=""></a><span data-ttu-id="87e8b-141"><a name="interactive-conflict-resolution">대화형 충돌 해결</a></span><span class="sxs-lookup"><span data-stu-id="87e8b-141"><a name="interactive-conflict-resolution">Interactive conflict resolution</a></span></span>
[!INCLUDE[msCoName](../../../includes/msconame-md.md)]<span data-ttu-id="87e8b-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]복제는에서 요청 시 동기화 중에 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] 수동으로 충돌을 해결할 수 있는 대화형 해결 프로그램을 제공 합니다. Windows 동기화 관리자.</span><span class="sxs-lookup"><span data-stu-id="87e8b-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication provides an Interactive Resolver, which allows you to resolve conflicts manually during on-demand synchronization in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="87e8b-143">대화형 충돌 해결 기능을 설정하면 대화형 해결 프로그램을 사용하여 동기화 중 대화형으로 충돌을 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-143">After interactive resolution is enabled, resolve conflicts interactively during synchronization, using the Interactive Resolver.</span></span> <span data-ttu-id="87e8b-144">대화형 해결 프로그램은 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows 동기화 관리자를 통해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-144">The Interactive Resolver is available through the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="87e8b-145">자세한 내용은 [Windows 동기화 관리자를 사용하여 구독 동기화&#40;Windows 동기화 관리자&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-145">For more information, see [Synchronize a Subscription Using Windows Synchronization Manager &#40;Windows Synchronization Manager&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md).</span></span>  
  
    
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="87e8b-146">권장 사항</span><span class="sxs-lookup"><span data-stu-id="87e8b-146">Recommendations</span></span>  
  
-   <span data-ttu-id="87e8b-147">Windows 동기화 관리자 외부에서 동기화가 수행된 경우(예: SQL Server Management Studio 또는 복제 모니터의 예약된 동기화 또는 요청 시 동기화) 아티클에 지정된 기본 충돌 해결을 사용하여 사용자 개입 없이 자동으로 충돌이 해결됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-147">If a synchronization is performed outside of Windows Synchronization Manager (as a scheduled synchronization or an on demand synchronization in SQL Server Management Studio or Replication Monitor), conflicts are resolved automatically without user intervention, using the default conflict resolution specified for the article.</span></span> <span data-ttu-id="87e8b-148">자세한 내용은 [Interactive Conflict Resolution](../merge/advanced-merge-replication-conflict-interactive-resolution.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-148">For more information, see [Interactive Conflict Resolution](../merge/advanced-merge-replication-conflict-interactive-resolution.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><span data-ttu-id="87e8b-149">SQL Server Management Studio 사용</span><span class="sxs-lookup"><span data-stu-id="87e8b-149">Using SQL Server Management Studio</span></span>  
  
#### <a name="enable-interactive-conflict-resolution-for-an-article"></a><span data-ttu-id="87e8b-150">문서에 대해 대화형 충돌 해결 사용</span><span class="sxs-lookup"><span data-stu-id="87e8b-150">Enable interactive conflict resolution for an article</span></span>  
  
1.  <span data-ttu-id="87e8b-151">새 게시 마법사의 **아티클** 페이지 또는 **게시 속성 - \<Publication>** 대화 상자에서 테이블을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-151">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span> <span data-ttu-id="87e8b-152">마법사 사용 및 대화 상자 액세스에 대한 자세한 내용은 [게시 만들기](create-a-publication.md) 및 [게시 속성 보기 및 수정](view-and-modify-publication-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-152">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>    
2.  <span data-ttu-id="87e8b-153">**아티클 속성**을 클릭한 다음 **선택한 테이블 아티클 속성 설정** 또는 **모든 테이블 아티클 속성 설정**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-153">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="87e8b-154">**아티클 속성 - \<Article>** 또는 **아티클 속성 - \<ArticleType>** 페이지에서 **해결 프로그램** 탭을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-154">On the **Article Properties - \<Article>** or **Article Properties - \<ArticleType>** page, click the **Resolver** tab.</span></span>    
4.  <span data-ttu-id="87e8b-155">**요청 시 동기화 중 구독자가 대화형으로 충돌 해결**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-155">Select **Allow Subscriber to resolve conflicts interactively during on-demand synchronization**.</span></span>    
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]    
6.  <span data-ttu-id="87e8b-156">**게시 속성 - \<Publication>** 대화 상자에서 **확인**을 클릭하여 저장하고 대화 상자를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-156">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-specify-that-a-subscription-should-use-interactive-conflict-resolution"></a><span data-ttu-id="87e8b-157">구독이 대화형 충돌 해결 기능을 사용하도록 지정하려면</span><span class="sxs-lookup"><span data-stu-id="87e8b-157">To specify that a subscription should use interactive conflict resolution</span></span>  
  
1.  <span data-ttu-id="87e8b-158">**구독 속성 - \<Subscriber>: \<SubscriptionDatabase>** 대화 상자에서 **대화형으로 충돌 해결** 옵션의 값으로 **True**를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-158">In the **Subscription Properties - \<Subscriber>: \<SubscriptionDatabase>** dialog box, specify a value of **True** for the **Resolve conflicts interactively** option.</span></span> <span data-ttu-id="87e8b-159">이 대화 상자에 액세스하는 방법은 [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) 및 [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-159">For more information about accessing this dialog box, see [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) and [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span></span> 
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
### <a name="using-transact-sql"></a><span data-ttu-id="87e8b-160">Transact-SQL 사용</span><span class="sxs-lookup"><span data-stu-id="87e8b-160">Using Transact-SQL</span></span>  
 <span data-ttu-id="87e8b-161">병합 게시에 대한 끌어오기 구독을 만드는 경우 구독자에서 이 그래픽 인터페이스를 사용하여 아티클 충돌을 해결하도록 프로그래밍 방식으로 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-161">You can programmatically specify that a Subscriber will use this graphical interface to resolve article conflicts when a pull subscription to a merge publication is created.</span></span> <span data-ttu-id="87e8b-162">이 옵션을 지원하는 아티클에서 발생한 충돌만 대화형 해결 프로그램에 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-162">Only conflicts in articles that support this option will be displayed in the Interactive Resolver.</span></span>  
  
#### <a name="create-a-merge-pull-subscription-that-uses-the-interactive-resolver"></a><span data-ttu-id="87e8b-163">대화형 해결 프로그램을 사용하는 병합 끌어오기 구독 만들기</span><span class="sxs-lookup"><span data-stu-id="87e8b-163">Create a merge pull subscription that uses the Interactive Resolver</span></span>  
  
1.  <span data-ttu-id="87e8b-164">게시 데이터베이스의 게시자에서 \*\* \@ 게시\*\*를 지정 하 여 [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql)를 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-164">At the Publisher on the publication database, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="87e8b-165">대화형 해결 프로그램을 사용할 결과 집합의 각 아티클에 대해 **allow_interactive_resolver** 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-165">Note the value of **allow_interactive_resolver** for each article in the result set for which the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="87e8b-166">이 값이 **1**이면 대화형 해결 프로그램이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-166">If this value is **1**, the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="87e8b-167">값이 **0**이면 각 아티클에서 먼저 대화형 해결 프로그램을 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-167">If this value is **0**, you must first enable the Interactive Resolver for each article.</span></span> <span data-ttu-id="87e8b-168">이렇게 하려면 [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql)를 실행 하 고 \*\* \@ 게시**, \*\* \@ 아티클**, \*\* \@ 속성**에 **allow_interactive_resolver** 값, \*\* \@ 값**에 **true** 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-168">To do this, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying **\@publication**, **\@article**, a value of **allow_interactive_resolver** for **\@property**, and a value of **true** for **\@value**.</span></span>    
2.  <span data-ttu-id="87e8b-169">구독 데이터베이스의 구독자에서 [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-169">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span></span> <span data-ttu-id="87e8b-170">자세한 내용은 [끌어오기 구독 만들기](../create-a-pull-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-170">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
3.  <span data-ttu-id="87e8b-171">구독 데이터베이스의 구독자에서 다음 매개 변수를 지정하여 [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-171">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql), specifying the following parameters:</span></span>  
  
    -   <span data-ttu-id="87e8b-172">\*\* \@ 게시자**, \*\* \@ publisher_db** (게시 된 데이터베이스) 및 \*\* \@ 게시가\*\*있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-172">**\@publisher**, **\@publisher_db** (the published database), and **\@publication**.</span></span>    
    -   <span data-ttu-id="87e8b-173">\*\* \@ Enabled_for_syncmgr\*\*값이 **true** 입니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-173">A value of **true** for **\@enabled_for_syncmgr**.</span></span>    
    -   <span data-ttu-id="87e8b-174">\*\* \@ Use_interactive_resolver\*\*값이 **true** 입니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-174">A value of **true** for **\@use_interactive_resolver**.</span></span>    
    -   <span data-ttu-id="87e8b-175">병합 에이전트에 필요한 보안 계정 정보.</span><span class="sxs-lookup"><span data-stu-id="87e8b-175">The security account information required by the Merge Agent.</span></span> <span data-ttu-id="87e8b-176">자세한 내용은 [끌어오기 구독 만들기](../create-a-pull-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-176">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
4.  <span data-ttu-id="87e8b-177">게시 데이터베이스의 게시자에서 [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-177">At the Publisher on the publication database, execute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span></span>  
  
#### <a name="define-an-article-that-supports-the-interactive-resolver"></a><span data-ttu-id="87e8b-178">대화형 해결 프로그램을 지원하는 문서 정의</span><span class="sxs-lookup"><span data-stu-id="87e8b-178">Define an article that supports the Interactive Resolver</span></span>  
  
<span data-ttu-id="87e8b-179">게시 데이터베이스의 게시자에서 [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-179">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="87e8b-180">\*\* \@ 게시**에 대해 아티클이 속한 게시의 이름, \*\* \@ 아티클의**아티클 이름, \*\* \@ source_object**에 대해 게시 되는 데이터베이스 개체 및 \*\* \@ allow_interactive_resolver**에 **true** 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-180">Specify the name of the publication to which the article belongs for **\@publication**, a name for the article for **\@article**, the database object being published for **\@source_object**, and a value of **true** for **\@allow_interactive_resolver**.</span></span> <span data-ttu-id="87e8b-181">자세한 내용은 [아티클을 정의](define-an-article.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-181">For more information, see [Define an Article](define-an-article.md).</span></span>  

## <a name="specify-the-conflict-tracking-and-resolution-level"></a><span data-ttu-id="87e8b-182">충돌 추적 및 해결 수준 지정</span><span class="sxs-lookup"><span data-stu-id="87e8b-182">Specify the Conflict Tracking and Resolution Level</span></span> 
<span data-ttu-id="87e8b-183">병합 게시에 대한 구독이 동기화되면 복제 시 게시자와 구독자에 있는 동일 데이터가 변경되서 발생하는 충돌이 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-183">When a subscription to a merge publication is synchronized, replication checks for conflicts caused by changes to the same data made at both the Publisher and the Subscriber.</span></span> <span data-ttu-id="87e8b-184">충돌을 행 수준에서 검색할지(행이 변경되면 충돌로 간주) 아니면 열 수준에서 검색할지(동일 행 및 열이 변경되는 경우에만 충돌로 간주)를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-184">You can specify whether conflicts are detected at the row-level, where any change to the row is considered a conflict, or column-level, where only changes to the same row and column are considered a conflict.</span></span> <span data-ttu-id="87e8b-185">아티클에 대한 충돌 해결은 행 수준에서 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-185">Conflict resolution for articles is performed at the row-level.</span></span> <span data-ttu-id="87e8b-186">논리적 레코드를 사용하는 경우의 충돌 감지 및 해결에 대한 자세한 내용은 [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-186">For more information about conflict detection and resolution when logical records are used, see [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md).</span></span>  
  

  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="87e8b-187">제한 사항</span><span class="sxs-lookup"><span data-stu-id="87e8b-187">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="87e8b-188">구독이 초기화된 후에 추적 수준을 수정하면 해당 구독을 다시 초기화해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-188">If you modify the tracking level after subscriptions have been initialized, those subscriptions must be reinitialized.</span></span> <span data-ttu-id="87e8b-189">속성 변경의 영향에 대한 자세한 내용은 [게시 및 아티클 속성 변경](../publish/change-publication-and-article-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-189">For more information about the effects of property changes, see [Change Publication and Article Properties](../publish/change-publication-and-article-properties.md).</span></span>    
-   <span data-ttu-id="87e8b-190">행 및 열 수준 추적을 사용하면 충돌 해결이 항상 행 수준에서 수행되고 적용되는 행이 무시되는 행을 덮어씁니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-190">With row- and column-level tracking, conflict resolution is always performed at the row-level: the winning row overwrites the losing row.</span></span> <span data-ttu-id="87e8b-191">병합 복제를 사용하면 충돌을 추적하고 논리적 레코드 수준에서 충돌이 해결되도록 지정할 수도 있지만 [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]에서는 이러한 옵션을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-191">Merge replication also allows you to specify that conflicts be tracked and resolved at the logical record level, but these options are not available from [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="87e8b-192">복제 저장 프로시저에서 이러한 옵션을 설정하는 방법은 [병합 테이블 아티클 간의 논리적 레코드 관계 정의](../publish/define-a-logical-record-relationship-between-merge-table-articles.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-192">For information about setting these options from replication stored procedures, see [Define a Logical Record Relationship Between Merge Table Articles](../publish/define-a-logical-record-relationship-between-merge-table-articles.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="87e8b-193">SQL Server Management Studio 사용</span><span class="sxs-lookup"><span data-stu-id="87e8b-193">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="87e8b-194">새 게시 마법사 및 **게시 속성 - \<Publication>** 대화 상자에서 사용할 수 있는 **아티클 속성** 대화 상자의 **속성** 탭에서 병합 아티클에 대한 행 또는 열 수준 추적을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-194">Specify row- or column-level tracking for merge articles on the **Properties** tab of the **Article Properties** dialog box, which is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="87e8b-195">마법사 사용 및 대화 상자 액세스에 대한 자세한 내용은 [게시 만들기](create-a-publication.md) 및 [게시 속성 보기 및 수정](../publish/view-and-modify-publication-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-195">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="specify-row--or-column-level-tracking"></a><span data-ttu-id="87e8b-196">행 또는 열 수준 추적 지정</span><span class="sxs-lookup"><span data-stu-id="87e8b-196">Specify row- or column-level tracking</span></span>  
  
1.  <span data-ttu-id="87e8b-197">새 게시 마법사의 **아티클** 페이지 또는 **게시 속성 - \<Publication>** 대화 상자에서 테이블을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-197">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span>    
2.  <span data-ttu-id="87e8b-198">**아티클 속성**을 클릭한 다음 **선택한 테이블 아티클 속성 설정** 또는 **모든 테이블 아티클 속성 설정**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-198">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>   
3.  <span data-ttu-id="87e8b-199">**문서 속성 \<Article>** 대화 상자의 **속성** 탭에서 **추적 수준** 속성에 대해 다음 값 중 하나를 선택합니다. **행 수준 추적** 또는 **열 수준 추적**.</span><span class="sxs-lookup"><span data-stu-id="87e8b-199">On the **Properties** tab of the **Article Properties \<Article>** dialog box, select one of the following values for the **Tracking level** property: **Row-level tracking** or **Column-level tracking**.</span></span>    
4.  <span data-ttu-id="87e8b-200">**게시 속성 - \<Publication>** 대화 상자에서 **확인**을 클릭하여 저장하고 대화 상자를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-200">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
###  <a name="using-transact-sql"></a><span data-ttu-id="87e8b-201">Transact-SQL 사용</span><span class="sxs-lookup"><span data-stu-id="87e8b-201">Using Transact-SQL</span></span>  
  
#### <a name="specify-conflict-tracking-options-for-a-new-merge-article"></a><span data-ttu-id="87e8b-202">새 병합 아티클에 대 한 충돌 추적 옵션 지정</span><span class="sxs-lookup"><span data-stu-id="87e8b-202">Specify conflict tracking options for a new merge article</span></span>  
  
1.  <span data-ttu-id="87e8b-203">게시 데이터베이스의 게시자에서 [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) 를 실행 하 고 \*\* \@ column_tracking\*\*에 대해 다음 값 중 하나를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-203">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) and specify one of the following values for **\@column_tracking**:</span></span>  
  
    -   <span data-ttu-id="87e8b-204">**true** - 아티클에 대해 열 수준 추적을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-204">**true** - Use column-level tracking for the article.</span></span>    
    -   <span data-ttu-id="87e8b-205">**false** - 행 수준 추적을 사용합니다(기본값).</span><span class="sxs-lookup"><span data-stu-id="87e8b-205">**false** - Use row-level tracking, which is the default.</span></span>  
  
#### <a name="change-conflict-tracking-options-for-a-merge-article"></a><span data-ttu-id="87e8b-206">병합 문서에 대한 충돌 추적 옵션 변경</span><span class="sxs-lookup"><span data-stu-id="87e8b-206">Change conflict tracking options for a merge article</span></span>  
  
1.  <span data-ttu-id="87e8b-207">병합 아티클에 대한 충돌 추적 옵션을 확인하려면 [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-207">To determine the conflict tracking options for a merge article, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="87e8b-208">결과 집합에서 아티클에 대한 **column_tracking** 옵션의 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-208">Note the value of the **column_tracking** option in the result set for the article.</span></span> <span data-ttu-id="87e8b-209">값이 **1** 이면 열 수준 추적을 사용 중이고 **0** 이면 행 수준 추적을 사용 중입니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-209">A value of **1** means that column-level tracking is being used, and a value of **0** means that row-level tracking is being used.</span></span>    
2.  <span data-ttu-id="87e8b-210">게시 데이터베이스의 게시자에서 [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-210">At the Publisher on the publication database, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="87e8b-211">\*\* \@ 속성\*\* 에 **column_tracking** 값을 지정 하 고 \*\* \@ 값\*\*에 다음 값 중 하나를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-211">Specify a value of **column_tracking** for **\@property** and one of the following values for **\@value**:</span></span>
    -   <span data-ttu-id="87e8b-212">**true** - 아티클에 대해 열 수준 추적을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-212">**true** - Use column-level tracking for the article.</span></span>
    -   <span data-ttu-id="87e8b-213">**false** - 행 수준 추적을 사용합니다(기본값).</span><span class="sxs-lookup"><span data-stu-id="87e8b-213">**false** - Use row-level tracking, which is the default.</span></span>  
  
     <span data-ttu-id="87e8b-214">\*\* \@ Force_invalidate_snapshot\*\* 및 \*\* \@ force_reinit_subscription\*\*모두에 대해 값 **1** 을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-214">Specify a value of **1** for both **\@force_invalidate_snapshot** and **\@force_reinit_subscription**.</span></span>  

## <a name="tracking-deletes"></a><span data-ttu-id="87e8b-215">삭제 추적</span><span class="sxs-lookup"><span data-stu-id="87e8b-215">Tracking deletes</span></span>

> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../../includes/ssnotedepfutureavoid-md.md)]  
  
 <span data-ttu-id="87e8b-216">기본적으로 병합 복제는 게시자와 구독자 간에 DELETE 명령을 동기화합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-216">By default, merge replication synchronizes DELETE commands between the Publisher and Subscriber.</span></span> <span data-ttu-id="87e8b-217">병합 복제에서는 행을 게시에서 삭제한 경우에도 구독 데이터베이스에는 그대로 유지할 수 있으며 반대의 경우도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-217">Merge replication enables you to retain rows in the subscription database even when they have been deleted from the publication, and vice versa.</span></span> <span data-ttu-id="87e8b-218">새 아티클을 만들 때 DELETE 명령을 무시할지 여부를 프로그래밍 방식으로 지정할 수 있으며 복제 저장 프로시저를 사용하여 이 기능을 나중에 활성화할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-218">You can programmatically specify that DELETE commands be ignored when creating a new article or you can enable this functionality at a later time using replication stored procedures.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="87e8b-219">이 기능을 활성화하면 불일치가 발생합니다. 이는 구독자에 있는 데이터가 게시자에 있는 데이터를 정확하게 반영하지 않음을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-219">Enabling this functionality will result in non-convergence, which means that data present at the Subscriber will not accurately reflect data at the Publisher.</span></span> <span data-ttu-id="87e8b-220">이 경우 삭제된 행을 수동으로 제거하기 위한 메커니즘을 직접 구현해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-220">You must implement your own mechanism for manually removing deleted rows.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-a-new-merge-article"></a><span data-ttu-id="87e8b-221">새 병합 문서에 대해 삭제가 무시되도록 지정</span><span class="sxs-lookup"><span data-stu-id="87e8b-221">Specify that deletes be ignored for a new merge article</span></span>  
  
1.  <span data-ttu-id="87e8b-222">게시 데이터베이스의 게시자에서 [sp_addmergearticle&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-222">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="87e8b-223">`false` \*\* \@ Delete_tracking\*\*에 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-223">Specify a value of `false` for **\@delete_tracking**.</span></span> <span data-ttu-id="87e8b-224">자세한 내용은 [아티클을 정의](../publish/define-an-article.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-224">For more information, see [Define an Article](../publish/define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="87e8b-225">아티클의 원본 테이블이 이미 다른 게시에 게시된 경우 **delete_tracking** 값은 두 아티클에 대해 동일해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-225">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-an-existing-merge-article"></a><span data-ttu-id="87e8b-226">기존 병합 문서에 대해 삭제가 무시되도록 지정</span><span class="sxs-lookup"><span data-stu-id="87e8b-226">Specify that deletes be ignored for an existing merge article</span></span>  
  
1.  <span data-ttu-id="87e8b-227">아티클에 대해 오류 보정이 설정되어 있는지 확인하려면 [sp_helpmergearticle&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql)을 실행하고 결과 집합에서 **delete_tracking**의 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-227">To determine if error compensation is enabled for an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **delete_tracking** in the result set.</span></span> <span data-ttu-id="87e8b-228">이 값이 **0**이면 삭제가 이미 무시되고 있는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-228">If this value is **0**, deletes are already being ignored.</span></span>    
2.  <span data-ttu-id="87e8b-229">1단계의 값이 **1**이면 게시 데이터베이스의 게시자에서 [sp_changemergearticle&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-229">If the value from step 1 is **1**, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="87e8b-230">\*\* \@ 속성\*\*에 **delete_tracking** 값을 지정 하 고 value에 값을 `false` 지정 \*\* \@ \*\*합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-230">Specify a value of **delete_tracking** for **\@property**, and a value of `false` for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="87e8b-231">아티클의 원본 테이블이 이미 다른 게시에 게시된 경우 **delete_tracking** 값은 두 아티클에 대해 동일해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-231">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
## <a name="processing-order"></a><span data-ttu-id="87e8b-232">처리 순서</span><span class="sxs-lookup"><span data-stu-id="87e8b-232">Processing Order</span></span>
  <span data-ttu-id="87e8b-233">병합 복제를 사용하면 동기화 프로세스 중에 병합 에이전트에서 아티클을 처리하는 순서를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-233">Merge replication enables you to specify the order in which articles are processed by the Merge Agent during the synchronization process.</span></span> <span data-ttu-id="87e8b-234">아티클을 작성할 때 복제 저장 프로시저를 사용하여 각 아티클 순서를 프로그래밍 방식으로 할당할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-234">You can assign an order to each article programmatically when creating an article using replication stored procedures.</span></span> <span data-ttu-id="87e8b-235">아티클은 최하위에서 최상위의 순서로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-235">Articles are processed in order from lowest to highest value.</span></span> <span data-ttu-id="87e8b-236">두 아티클의 값이 같으면 동시에 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-236">If two articles have the same value, they are processed concurrently.</span></span> <span data-ttu-id="87e8b-237">자세한 내용은 [병합 복제 속성 지정](../publish/specify-merge-replication-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-237">For more information, see [Specify Merge Replication properties](../publish/specify-merge-replication-properties.md).</span></span>  

  <span data-ttu-id="87e8b-238">[!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]부터 병합 게시에 대한 아티클의 기본 처리 순서를 덮어쓸 수 있게 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-238">Beginning with [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], it is possible to override the default order of article processing for merge publications.</span></span> <span data-ttu-id="87e8b-239">트리거를 통해 참조 무결성을 정의하고 이러한 트리거가 특정 순서로 발생해야 할 경우 이러한 작업이 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-239">This is useful, for example, if you define referential integrity through triggers and those triggers must fire in a certain order.</span></span> 

### <a name="how-processing-order-is-determined"></a><span data-ttu-id="87e8b-240">처리 순서 결정 방식</span><span class="sxs-lookup"><span data-stu-id="87e8b-240">How Processing Order is Determined</span></span>  
 <span data-ttu-id="87e8b-241">병합 동기화 중 아티클은 기본적으로 기본 테이블에 정의된 DRI(선언적 참조 무결성) 제약 조건을 포함하여 개체 간 종속 관계에 필요한 순서대로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-241">During merge synchronization, articles are, by default, processed in the order required by the dependencies between objects, including the declarative referential integrity (DRI) constraints defined on the base tables.</span></span> <span data-ttu-id="87e8b-242">아티클 처리 시 테이블에 변경 내용을 열거한 다음 이들 변경 내용을 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-242">Processing involves enumerating the changes to a table and then applying those changes.</span></span> <span data-ttu-id="87e8b-243">DRI가 없지만 조인 필터 또는 논리적 레코드가 테이블 아티클 사이에 존재할 경우 아티클은 필터 및 논리적 레코드에 필요한 순서대로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-243">If no DRI is present but join filters or logical records exist between table articles, the articles are processed in the order required by the filters and logical records.</span></span> <span data-ttu-id="87e8b-244">DRI, 조인 필터, 논리적 레코드 또는 기타 종속 관계를 통해 다른 아티클과 관련되어 있지 않은 아티클은 [sysmergearticles&#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql) 시스템 테이블에서의 아티클 애칭에 따라 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-244">Articles not related to any other article through DRI, join filters, logical records, or other dependencies are processed according to the article nickname in the [sysmergearticles &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql) system table.</span></span>  
  
 <span data-ttu-id="87e8b-245">**SalesOrderHeader** 테이블에는 기본 키 열 **SalesOrderID** 가 있고 **SalesOrderDetail** 테이블에는 해당 외래 키 열 **SalesOrderID** 가 있는 **SalesOrderHeader** 및 **SalesOrderDetail** 테이블을 포함하는 게시가 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-245">Consider a publication that includes the tables **SalesOrderHeader** and **SalesOrderDetail** with a primary key column **SalesOrderID** in the **SalesOrderHeader** table and a corresponding foreign key column **SalesOrderID** in the **SalesOrderDetail** table.</span></span> <span data-ttu-id="87e8b-246">이 게시를 동기화할 때 병합 복제에서 **SalesOrderHeader** 에 새 행을 삽입한 다음 **SalesOrderDetail**에 연결된 행을 삽입하여 외래 키 위반을 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-246">During synchronization, merge replication prevents foreign key violations by inserting any new rows in **SalesOrderHeader** before inserting associated rows in **SalesOrderDetail**.</span></span> <span data-ttu-id="87e8b-247">마찬가지로 **SalesOrderDetail** 에서 행을 삭제한 다음 **SalesOrderHeader**에서 연결된 행을 삭제합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-247">Similarly, rows are deleted from **SalesOrderDetail** before the associated row is deleted from **SalesOrderHeader**.</span></span>  
  
 <span data-ttu-id="87e8b-248">그러나 일부 애플리케이션에서는 DRI가 아닌 애플리케이션 수준에서나 데이터베이스 트리거를 통해 참조 무결성이 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-248">However, in some applications referential integrity is enforced through database triggers, or at the application level, rather than through DRI.</span></span> <span data-ttu-id="87e8b-249">DRI 대신 위에서 설명한 게시를 제공한 경우 **SalesOrderDetail** 테이블에는 삽입을 허용하기 전에 **SalesOrderHeader** 테이블에 연결된 행이 존재하도록 하는 삽입 트리거가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-249">Given the publication described above, instead of DRI, the **SalesOrderDetail** table could have an insert trigger that ensures the associated row in the **SalesOrderHeader** table exists before allowing an insert.</span></span> <span data-ttu-id="87e8b-250">**SalesOrderHeader** 에는 삭제를 허용하기 전에 **SalesOrderDetail** 에 연결된 행이 없도록 하는 삭제 트리거가 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-250">**SalesOrderHeader** could have a delete trigger that ensures there are no associated rows in **SalesOrderDetail** before allowing a delete.</span></span> <span data-ttu-id="87e8b-251">병합 복제는 트리거가 발생될 때까지 트리거의 결과를 확인할 수 없으므로 아티클의 처리 순서를 결정할 때 트리거를 고려하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-251">Merge replication does not take into account triggers when determining processing order of articles because it cannot determine what the result of the trigger will be until it has fired.</span></span> <span data-ttu-id="87e8b-252">마찬가지로 복제는 애플리케이션 수준에서 정의된 제약 조건을 고려할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-252">Similarly, replication cannot take into account constraints defined at the application level.</span></span>  
  
 <span data-ttu-id="87e8b-253">참조 무결성이 트리거를 통해서 또는 애플리케이션 수준에서 유지 관리되는 경우 아티클이 처리되는 순서를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-253">When referential integrity is maintained through triggers or at the application level, you should specify the order in which the articles should be processed.</span></span> <span data-ttu-id="87e8b-254">트리거가 있는 예제에서 아티클 순서는 삽입 순서에 따라 지정되므로 **SalesOrderDetail** 전에 **SalesOrderHeader**테이블이 처리되도록 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-254">In the example with triggers, you would specify that the **SalesOrderHeader** table should be processed before **SalesOrderDetail**, because article ordering is based on insert order.</span></span> <span data-ttu-id="87e8b-255">병합 복제는 삭제 순서를 자동으로 반대로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-255">Merge replication will automatically reverse the order for deletes.</span></span> <span data-ttu-id="87e8b-256">병합 에이전트는 제약 조건 위반이 발생해도 아티클을 계속 처리하고 다른 아티클이 처리된 후 실패한 작업을 모두 다시 시도하므로 병합 복제는 아티클 순서를 지정하지 않아도 실패하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-256">Merge replication will not fail without article ordering, because the Merge Agent continues to process articles if a constraint violation occurs; it then retries any operations that failed after other articles have been processed.</span></span> <span data-ttu-id="87e8b-257">아티클 순서를 지정하면 다시 시도 및 다시 시도와 연결된 추가 처리 작업이 실행되지 않도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-257">Specifying article order simply avoids retries and the additional processing associated with them.</span></span> <span data-ttu-id="87e8b-258">헤더 레코드 전에 정보 레코드가 처리되도록 하는 등 순서를 잘못 지정하면 병합 복제는 성공할 때까지 처리를 다시 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-258">If you specify an incorrect order (for example, one that results in detail records being processed before header records), merge replication will retry processing until it succeeds.</span></span>  

### <a name="new-article"></a><span data-ttu-id="87e8b-259">새 문서</span><span class="sxs-lookup"><span data-stu-id="87e8b-259">New Article</span></span>
  
1.  <span data-ttu-id="87e8b-260">게시 데이터베이스의 게시자에서 [sp_addmergearticle&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-260">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="87e8b-261">\*\* \@ Processing_order\*\*에 대 한 아티클의 처리 순서를 나타내는 정수 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-261">Specify an integer value that represents the processing order for the article for **\@processing_order**.</span></span> <span data-ttu-id="87e8b-262">자세한 내용은 [아티클을 정의](define-an-article.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="87e8b-262">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="87e8b-263">정렬된 아티클을 만들려면 아티클 순서 값 사이에 간격을 두어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-263">When creating ordered articles, you should leave gaps between the article order values.</span></span> <span data-ttu-id="87e8b-264">그러면 나중에 새 값을 쉽게 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-264">This makes it easier to set new values in the future.</span></span> <span data-ttu-id="87e8b-265">예를 들어 3 개 아티클의 고정 처리 순서를 지정 해야 하는 경우에는 \*\* \@ processing_order\*\* 값을 각각 1, 2, 3이 아닌 10, 20, 30으로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-265">For example, if you have three articles for which you need to specify a fixed processing order, set the value of **\@processing_order** to 10, 20, and 30 rather than 1, 2, and 3, respectively.</span></span>  
  
### <a name="existing-article"></a><span data-ttu-id="87e8b-266">기존 아티클</span><span class="sxs-lookup"><span data-stu-id="87e8b-266">Existing article</span></span>
  
1.  <span data-ttu-id="87e8b-267">아티클의 처리 순서를 결정하려면 [sp_helpmergearticle&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql)을 실행하고 결과 집합에서 **processing_order** 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-267">To determine processing order of an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **processing_order** in the result set.</span></span>  
  
2.  <span data-ttu-id="87e8b-268">게시 데이터베이스의 게시자에서 [sp_changemergearticle&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-268">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="87e8b-269">\*\* \@ 속성\*\* 에 **processing_order** 값을 지정 하 고 \*\* \@ 값\*\*에 대 한 처리 순서를 나타내는 정수 값을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="87e8b-269">Specify a value of **processing_order** for **\@property** and an integer value that represents the processing order for **\@value**.</span></span>  



## <a name="see-also"></a><span data-ttu-id="87e8b-270">참고 항목</span><span class="sxs-lookup"><span data-stu-id="87e8b-270">See Also</span></span>  
 [<span data-ttu-id="87e8b-271">조건부 삭제 추적으로 병합 복제 성능 최적화</span><span class="sxs-lookup"><span data-stu-id="87e8b-271">Optimize Merge Replication Performance with Conditional Delete Tracking</span></span>](../merge/optimize-merge-replication-performance-with-conditional-delete-tracking.md)  
 <span data-ttu-id="87e8b-272">[논리적 레코드에서 충돌 감지 및 해결](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span><span class="sxs-lookup"><span data-stu-id="87e8b-272">[Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span></span>  
 <span data-ttu-id="87e8b-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span><span class="sxs-lookup"><span data-stu-id="87e8b-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span></span>  
 <span data-ttu-id="87e8b-274">[병합 복제 충돌 감지 및 해결](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span><span class="sxs-lookup"><span data-stu-id="87e8b-274">[Detect and Resolve Merge Replication Conflicts](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span></span>  
 <span data-ttu-id="87e8b-275">[다운로드 전용 아티클로 병합 복제 성능 최적화](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span><span class="sxs-lookup"><span data-stu-id="87e8b-275">[Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span></span>  
 <span data-ttu-id="87e8b-276">[Define an Article](define-an-article.md) </span><span class="sxs-lookup"><span data-stu-id="87e8b-276">[Define an Article](define-an-article.md) </span></span>  
 [<span data-ttu-id="87e8b-277">아티클 속성 보기 및 수정</span><span class="sxs-lookup"><span data-stu-id="87e8b-277">View and Modify Article Properties</span></span>](view-and-modify-article-properties.md)  