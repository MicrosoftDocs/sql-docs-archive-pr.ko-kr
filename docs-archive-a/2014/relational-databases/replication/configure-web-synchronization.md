---
title: 웹 동기화 구성 | Microsoft 문서
ms.custom: ''
ms.date: 01/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- SQL10.REP.CONFIGWEBSYNCWIZARD.SUBTYPE.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.CLIENTAUTH.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.WEBSERV.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.DIRACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.VIRDIRINFO.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.AUTHACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.COMPLETEWIZ.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.ANONACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.SNAPSHARE.F1
helpviewer_keywords:
- Web synchronization, security best practices
- Web synchronization, configuring
ms.assetid: 21f8e4d4-cd07-4856-98f0-9c9890ebbc82
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 406175533b92d13dce8c14b91b654fbb6099dc22
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87646374"
---
# <a name="configure-web-synchronization"></a><span data-ttu-id="457b6-102">웹 동기화 구성</span><span class="sxs-lookup"><span data-stu-id="457b6-102">Configure Web Synchronization</span></span>
  <span data-ttu-id="457b6-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 병합 복제를 위한 웹 동기화 옵션을 사용하면 인터넷에서 HTTPS 프로토콜을 사용하여 데이터를 복제할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-103">The Web synchronization option for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Merge Replication enables data replication using the HTTPS protocol over the Internet.</span></span> <span data-ttu-id="457b6-104">웹 동기화를 사용하려면 먼저 다음 구성 동작을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-104">To use Web synchronization, you first need to perform the following configuration actions:</span></span>  
  
1.  <span data-ttu-id="457b6-105">새 도메인 계정을 만들고 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 로그인을 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-105">Create new domain accounts and map [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span>  
  
2.  <span data-ttu-id="457b6-106">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 인터넷 정보 서비스(IIS)를 실행하는 컴퓨터에서 구독을 동기화하도록 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-106">Configure the computer that is running [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Information Services (IIS) to synchronize subscriptions.</span></span>  
  
3.  <span data-ttu-id="457b6-107">병합 게시에서 웹 동기화를 사용하도록 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-107">Configure a merge publication to allow Web synchronization.</span></span>  
  
4.  <span data-ttu-id="457b6-108">하나 이상의 구독에서 웹 동기화를 사용하도록 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-108">Configure one or more subscriptions to use Web synchronization.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="457b6-109">많은 양의 데이터를 복제하거나 `varchar(max)` 등의 큰 데이터 형식을 사용하려는 경우 이 항목의 "많은 양의 데이터 복제" 섹션을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="457b6-109">If you plan to replicate large volumes of data or use large data types such as `varchar(max)`, read the section "Replicating Large Volumes of Data" in this topic.</span></span>  
  
 <span data-ttu-id="457b6-110">웹 동기화를 성공적으로 설정하려면 특정 요구 사항 및 정책에 맞게 보안을 구성하는 방법을 결정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-110">To successfully set up Web synchronization, you must decide how you will configure security to meet your particular requirements and policies.</span></span> <span data-ttu-id="457b6-111">IIS, 게시 및 구독을 구성하기 전에 이러한 의사 결정을 내리고 필요한 계정을 만드는 것이 가장 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-111">It is best to make these decisions and create the necessary accounts before you attempt to configure IIS, the publication, and subscriptions.</span></span>  
  
 <span data-ttu-id="457b6-112">이후의 절차에서는 간결한 설명을 위해 로컬 계정을 사용하는 간단한 보안 구성에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-112">In the procedures that follow, a simplified security configuration using local accounts is described, for brevity.</span></span> <span data-ttu-id="457b6-113">프로덕션 설치의 경우 사용자가 다중 서버 토폴로지를 사용할 가능성이 매우 높으며 또한 이렇게 하는 것이 권장되지만 IIS와 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 게시자 및 배포자가 모두 동일한 컴퓨터에서 실행되는 설치에는 이러한 간단한 구성이 적합합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-113">This simplified configuration is suitable for installations where both IIS and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Publisher and Distributor are running on the same computer, even though it is much more likely (and recommended) that you will use a multiple-server topology for a production installation.</span></span> <span data-ttu-id="457b6-114">다음 절차에서 로컬 계정 대신 도메인 계정을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-114">You can substitute domain accounts for the local accounts in the procedures.</span></span>  
  
## <a name="creating-new-accounts-and-mapping-sql-server-logins"></a><span data-ttu-id="457b6-115">새 계정 만들기 및 SQL Server 로그인 매핑</span><span class="sxs-lookup"><span data-stu-id="457b6-115">Creating New Accounts and Mapping SQL Server Logins</span></span>  
 <span data-ttu-id="457b6-116">복제 웹 사이트와 연결된 애플리케이션 풀에 대해 지정된 계정을 가장하여 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 복제 수신기(replisapi.dll)가 게시자에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener (replisapi.dll) connects to the Publisher by impersonating the account specified for the application pool that is associated with the replication web site.</span></span>  
  
 <span data-ttu-id="457b6-117">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 복제 수신기에 사용되는 계정에는 [병합 에이전트 보안](merge-agent-security.md)의 "게시자 또는 배포자에 연결" 섹션에 설명된 대로 사용 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-117">The account used for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener must have permissions as described in [Merge Agent Security](merge-agent-security.md), under the section "Connect to the Publisher or Distributor."</span></span> <span data-ttu-id="457b6-118">요약하면, 계정은 다음 조건을 만족해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-118">In summary, the account must:</span></span>  
  
-   <span data-ttu-id="457b6-119">PAL(게시 액세스 목록)의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-119">Be a member of the Publication Access List (PAL).</span></span>  
  
-   <span data-ttu-id="457b6-120">게시 데이터베이스의 사용자와 연결된 로그인에 매핑되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-120">Be mapped to a login associated with a user in the publication database.</span></span>  
  
-   <span data-ttu-id="457b6-121">배포 데이터베이스의 사용자와 연결된 로그인에 매핑되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-121">Be mapped to a login associated with a user in the distribution database.</span></span>  
  
-   <span data-ttu-id="457b6-122">스냅샷 공유에 대한 읽기 권한을 가지고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-122">Have Read permissions on the snapshot share.</span></span>  
  
 <span data-ttu-id="457b6-123">처음 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 복제를 사용하는 경우에는 복제 에이전트에 대한 계정 및 로그인도 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-123">If this is the first time you are using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication, you will also need to create accounts and logins for the replication agents.</span></span> <span data-ttu-id="457b6-124">자세한 내용은 이 항목의 "게시 구성" 및 "구독 구성" 섹션을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="457b6-124">For more information, see the "Configuring the Publication" and "Configuring the Subscription" sections in this topic.</span></span>  
  
 <span data-ttu-id="457b6-125">웹 동기화를 구성하기 전에 이 항목의 "웹 동기화에 대한 최상의 보안 방법" 섹션을 읽어 보는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-125">Before you configure Web synchronization, we recommend that you read the "Security Best Practices for Web Synchronization" section in this topic.</span></span> <span data-ttu-id="457b6-126">웹 동기화 보안에 대한 자세한 내용은 [Security Architecture for Web Synchronization](security/security-architecture-for-web-synchronization.md)를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="457b6-126">For more information about Web synchronization security, see [Security Architecture for Web Synchronization](security/security-architecture-for-web-synchronization.md).</span></span>  
  
## <a name="configuring-the-computer-that-is-running-iis"></a><span data-ttu-id="457b6-127">IIS를 실행하는 컴퓨터 구성</span><span class="sxs-lookup"><span data-stu-id="457b6-127">Configuring the Computer That Is Running IIS</span></span>  
 <span data-ttu-id="457b6-128">웹 동기화를 수행하려면 IIS를 설치하고 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-128">Web synchronization requires that you install and configure IIS.</span></span> <span data-ttu-id="457b6-129">게시에서 웹 동기화를 사용하도록 구성하려면 복제 웹 사이트에 대한 URL이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-129">You will need the URL to the replication Web site before you can configure a publication to use Web synchronization.</span></span>  
  
<span data-ttu-id="457b6-130">웹 동기화는 IIS 버전 5.0부터 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-130">Web synchronization is supported on IIS beginning with version 5.0.</span></span> <span data-ttu-id="457b6-131">웹 동기화 구성 마법사는 IIS 버전 7.0에서 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-131">The Configure Web Synchronization Wizard is not supported on IIS version 7.0.</span></span> <span data-ttu-id="457b6-132">SQL Server 2012부터 IIS 서버의 웹 동기화 구성 요소를 사용하려면 사용자가 복제와 함께 SQL Server를 설치하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-132">Beginning with SQL Server 2012, to use the web sync component on IIS server, we recommend users install SQL Server with replication.</span></span> <span data-ttu-id="457b6-133">무료 SQL Server Express Edition일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-133">This can be the free SQL Server Express edition.</span></span>  
  
 <span data-ttu-id="457b6-134">웹 동기화에 SSL이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-134">SSL is required for Web synchronization.</span></span> <span data-ttu-id="457b6-135">인증 기관에서 발급한 보안 인증서가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-135">You will need a security certificate issued by a certification authority.</span></span> <span data-ttu-id="457b6-136">테스트용으로만 자체 발급 보안 인증서를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-136">For testing purposes only, you can use a self-issued security certificate.</span></span>  
  
  
 <span data-ttu-id="457b6-137">**웹 동기화를 위해 IIS를 구성하려면**</span><span class="sxs-lookup"><span data-stu-id="457b6-137">**To configure IIS for Web synchronization**</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="457b6-138">: [웹 동기화를 위한 IIS 구성](configure-iis-for-web-synchronization.md)</span><span class="sxs-lookup"><span data-stu-id="457b6-138">: [Configure IIS for Web Synchronization](configure-iis-for-web-synchronization.md)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="457b6-139">: [웹 동기화를 위한 IIS 7 구성](configure-iis-7-for-web-synchronization.md)</span><span class="sxs-lookup"><span data-stu-id="457b6-139">: [Configure IIS 7 for Web Synchronization](configure-iis-7-for-web-synchronization.md)</span></span>  
  
## <a name="creating-a-web-garden"></a><span data-ttu-id="457b6-140">웹 가든 만들기</span><span class="sxs-lookup"><span data-stu-id="457b6-140">Creating a Web Garden</span></span>  
 <span data-ttu-id="457b6-141">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 복제 수신기에서는 스레드당 두 개의 동기화 작업이 동시에 수행되도록 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-141">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener supports two concurrent synchronization operations per thread.</span></span> <span data-ttu-id="457b6-142">이 제한을 초과하면 복제 수신기에서 응답을 중지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-142">Exceeding this limit may cause the Replication Listener to stop responding.</span></span> <span data-ttu-id="457b6-143">replisapi.dll에 할당된 스레드 수는 애플리케이션 풀 최대 작업자 프로세스 수 속성에 의해 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-143">The number of threads allocated to replisapi.dll is determined by the application pool Maximum Worker Processes property.</span></span> <span data-ttu-id="457b6-144">기본적으로 이 속성은 1로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-144">By default, this property is set at 1.</span></span>  
  
 <span data-ttu-id="457b6-145">최대 작업자 프로세스 수 속성 값을 늘려 CPU당 동시에 실행할 수 있는 동기화 작업 수를 더 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-145">You can support a greater number of concurrent synchronization operations per CPU by increasing the Maximum Worker Process property value.</span></span> <span data-ttu-id="457b6-146">CPU당 작업자 프로세스의 수를 늘려 확장하는 것을 "웹 가든"을 만드는 것이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-146">Scaling out by increasing the number of worker processes per CPU is known as creating a "Web garden."</span></span>  
  
 <span data-ttu-id="457b6-147">웹 가든 만들기를 통해 동시에 세 개 이상의 구독자를 동기화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-147">Web gardening will allow more than two Subscribers to synchronize at the same time.</span></span> <span data-ttu-id="457b6-148">또한 replisapi.dll에 의한 CPU 사용률이 증가하는데 이로 인해 전체 서버 성능에 부정적인 영향을 끼칠 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-148">It will also increase CPU utilization by replisapi.dll, which can negatively impact overall server performance.</span></span> <span data-ttu-id="457b6-149">따라서 최대 작업자 프로세스 수의 값을 선택할 때에는 이러한 사항을 균형 있게 고려하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-149">It is important to balance these considerations when you choose a value for Maximum Worker Processes.</span></span>  
  
#### <a name="to-increase-maximum-worker-processes-in-iis-7"></a><span data-ttu-id="457b6-150">IIS 7에서 최대 작업자 프로세스 수를 늘리려면</span><span class="sxs-lookup"><span data-stu-id="457b6-150">To increase Maximum Worker Processes in IIS 7</span></span>  
  
1.  <span data-ttu-id="457b6-151">**인터넷 정보 서비스(IIS) 관리자**에서 로컬 서버 노드를 확장한 다음 **애플리케이션 풀** 노드를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-151">In **Internet Information Services (IIS) Manager**, expand the local server node, and then click on the **Application Pool** node.</span></span>  
  
2.  <span data-ttu-id="457b6-152">웹 동기화 사이트와 연결된 애플리케이션 풀을 선택한 다음 **동작** 창에서 **고급 설정** 을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-152">Select the application pool associated with the Web synchronization site, and then click **Advanced Settings** on the **Actions** pane.</span></span>  
  
3.  <span data-ttu-id="457b6-153">고급 설정 대화 상자의 **프로세스 모델** 머리글 아래에서 **최대 작업자 프로세스 수**라는 레이블이 지정된 행을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-153">On the Advanced Settings dialog, under the **Process Model** heading, click the row labeled **Maximum Worker Processes**.</span></span> <span data-ttu-id="457b6-154">속성 값을 변경한 다음 **확인**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-154">Change the property value, and then click **OK**.</span></span>  
  
## <a name="configuring-the-publication"></a><span data-ttu-id="457b6-155">게시 구성</span><span class="sxs-lookup"><span data-stu-id="457b6-155">Configuring the Publication</span></span>  
 <span data-ttu-id="457b6-156">웹 동기화를 사용하려면 표준 병합 토폴로지를 만드는 것과 같은 방법으로 게시를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-156">To use Web synchronization, create a publication in the same way that you would for a standard merge topology.</span></span> <span data-ttu-id="457b6-157">자세한 내용은 [데이터 및 데이터베이스 개체 게시](publish/publish-data-and-database-objects.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="457b6-157">For more information, see [Publish Data and Database Objects](publish/publish-data-and-database-objects.md).</span></span>  
  
 <span data-ttu-id="457b6-158">게시가 생성되면 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)]또는 RMO(복제 관리 개체) 방법 중 하나를 사용하여 웹 동기화를 허용하는 옵션을 활성화합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-158">After the publication is created, enable the option to allow for Web synchronization by using one of the following methods: [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span> <span data-ttu-id="457b6-159">웹 동기화를 사용하도록 설정하려면 구독자 연결에 대한 웹 서버 주소를 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-159">To enable Web synchronization, you will need to supply the Web server address for Subscriber connections.</span></span>  
  
 <span data-ttu-id="457b6-160">게시자를 처음으로 사용하는 경우에는 배포자 및 스냅샷 공유도 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-160">If you are using a Publisher for the first time, you must also configure a Distributor and a snapshot share.</span></span> <span data-ttu-id="457b6-161">각 구독자의 병합 에이전트에는 이 스냅샷 공유에 대한 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-161">The Merge Agent at each Subscriber must have read permissions on the snapshot share.</span></span> <span data-ttu-id="457b6-162">자세한 내용은 [배포 구성](configure-distribution.md) 및 [스냅샷 폴더 보안 설정](security/secure-the-snapshot-folder.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="457b6-162">For more information, see [Configure Distribution](configure-distribution.md) and [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>  
  
 <span data-ttu-id="457b6-163">`gen`은 websync xml 파일의 예약어입니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-163">`gen` is a reserved word in websync xml files.</span></span> <span data-ttu-id="457b6-164">이름이 `gen`인 열을 포함하는 테이블은 게시하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="457b6-164">Do not attempt to publish tables containing columns named `gen`.</span></span>  
  
## <a name="configuring-the-subscription"></a><span data-ttu-id="457b6-165">구독 구성</span><span class="sxs-lookup"><span data-stu-id="457b6-165">Configuring the Subscription</span></span>  
 <span data-ttu-id="457b6-166">게시를 설정하고 IIS를 구성한 다음에는 끌어오기 구독을 만들고 이 구독에서 IIS를 사용하여 동기화를 수행하도록 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-166">After you enable a publication and configure IIS, create a pull subscription and specify that the pull subscription should synchronize by using IIS.</span></span> <span data-ttu-id="457b6-167">웹 동기화는 끌어오기 구독에 대해서만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-167">(Web synchronization is supported only for pull subscriptions.)</span></span>  
  
## <a name="upgrading-from-an-earlier-version-of-sql-server"></a><span data-ttu-id="457b6-168">이전 버전의 SQL Server에서 업그레이드</span><span class="sxs-lookup"><span data-stu-id="457b6-168">Upgrading from an Earlier Version of SQL Server</span></span>  
 <span data-ttu-id="457b6-169">기존 웹 동기화 토폴로지를 구성한 상태에서 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]를 업그레이드하는 경우 웹 동기화에 사용되는 가상 디렉터리에 최신 버전의 Replisapi.dll이 복사되어 있는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-169">If you have an existing Web synchronization topology configured and you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you must ensure that the latest version of Replisapi.dll is copied to the virtual directory used by Web synchronization.</span></span> <span data-ttu-id="457b6-170">기본적으로 최신 버전의 Replisapi.dll은 C:\Program Files\Microsoft SQL Server\\<nnn\>\COM에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-170">By default, the latest version of Replisapi.dll is located in C:\Program Files\Microsoft SQL Server\\<nnn\>\COM.</span></span>  
  
## <a name="replicating-large-volumes-of-data"></a><span data-ttu-id="457b6-171">많은 양의 데이터 복제</span><span class="sxs-lookup"><span data-stu-id="457b6-171">Replicating Large Volumes of Data</span></span>  
 <span data-ttu-id="457b6-172">구독자 컴퓨터에서 메모리 문제가 발생하지 않도록 웹 동기화에서 변경 내용을 전송하는 데 사용되는 XML 파일에 대해 기본 최대 크기인 100MB를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-172">To help avoid potential memory problems on Subscriber computers Web synchronization uses a default maximum size of 100 MB for the XML file used to transfer changes.</span></span> <span data-ttu-id="457b6-173">다음 레지스트리 키를 설정하여 제한을 늘릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-173">The limit can be raised by setting the following registry key:</span></span>  
  
 <span data-ttu-id="457b6-174">**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\Replication**</span><span class="sxs-lookup"><span data-stu-id="457b6-174">**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\Replication**</span></span>  
  
 <span data-ttu-id="457b6-175">**WebSyncMaxXmlSize DWORD 2000000**</span><span class="sxs-lookup"><span data-stu-id="457b6-175">**WebSyncMaxXmlSize DWORD 2000000**</span></span>  
  
 <span data-ttu-id="457b6-176">이러한 키에 허용되는 값 범위는 100MB ~ 4GB입니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-176">The range of acceptable values for this key is 100 MB to 4GB.</span></span> <span data-ttu-id="457b6-177">값이 KB로 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-177">The value is specified in KB.</span></span> <span data-ttu-id="457b6-178">이 매개 변수를 높은 값으로 설정해도 사용자가 해당 양의 데이터를 동기화할 수 있다고 보장하지는 않습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-178">Setting this parameter to a high value does not guarantee that you can synchronize that amount of data.</span></span> <span data-ttu-id="457b6-179">유효 제한은 구독자 컴퓨터에서 사용할 수 있는 연속적인 메모리 양에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-179">The effective limit is constrained by how much contiguous memory is available on the Subscriber computer.</span></span> <span data-ttu-id="457b6-180">100MB보다 큰 값이 필요한 경우 값을 증분식으로 늘리고 구독자에서의 일반적인 작업을 수행하는 데 필요한 메모리 사용을 테스트하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-180">If you must have a value larger than 100 MB, we recommend that you increase the value incrementally and test memory consumption with a typical workload on the Subscriber.</span></span>  
  
 <span data-ttu-id="457b6-181">XML 파일의 최대 크기는 4GB이지만 복제를 수행하면 일괄 처리에 있는 해당 파일의 변경 내용이 동기화됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-181">The maximum size for the XML file is 4 GB, but replication synchronizes the changes from that file in batches.</span></span> <span data-ttu-id="457b6-182">데이터 및 메타데이터의 최대 일괄 처리 크기는 25MB입니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-182">The maximum batch size of data and metadata is 25 MB.</span></span> <span data-ttu-id="457b6-183">각 일괄 처리의 데이터가 20MB를 초과하지 않도록 해야 메타데이터 및 기타 오버헤드를 위한 공간이 확보됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-183">You must ensure that the data in each batch does not exceed approximately 20 MB, which allows for metadata and any other overhead.</span></span> <span data-ttu-id="457b6-184">이러한 제한이 의미하는 바는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-184">This limit has the following implications:</span></span>  
  
-   <span data-ttu-id="457b6-185">데이터와 메타데이터가 25MB를 초과하도록 하는 열은 복제할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-185">You cannot replicate any column that causes the data and metadata to exceed 25 MB.</span></span> <span data-ttu-id="457b6-186">이는 `varchar(max)` 등의 큰 데이터 형식이 포함된 행을 복제하는 경우 문제가 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-186">This might be an issue when you are replicating rows that contain large data types, such as `varchar(max)`.</span></span>  
  
-   <span data-ttu-id="457b6-187">많은 양의 데이터를 복제하는 경우 병합 에이전트 일괄 처리 크기를 조정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-187">If you replicate large volumes of data, you might have to adjust the Merge Agent batch size.</span></span>  
  
 <span data-ttu-id="457b6-188">병합 복제를 위한 일괄 처리 크기는 아티클 단위의 변경 내용 컬렉션인 *세대*로 측정됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-188">Batch size for merge replication is measured in *generations*, which are collections of changes per article.</span></span> <span data-ttu-id="457b6-189">일괄 처리의 세대 수는 `DownloadGenerationsPerBatch` 병합 에이전트의-및 매개 변수를 사용 하 여 지정 합니다 `UploadGenerationsPerBatch` .</span><span class="sxs-lookup"><span data-stu-id="457b6-189">The number of generations in a batch is specified by using the-`DownloadGenerationsPerBatch` and -`UploadGenerationsPerBatch` parameters of the Merge Agent.</span></span> <span data-ttu-id="457b6-190">자세한 내용은 [Replication Merge Agent](agents/replication-merge-agent.md)을(를) 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="457b6-190">For more information, see [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  
  
 <span data-ttu-id="457b6-191">데이터의 양이 많은 경우 각 일괄 처리 매개 변수에 작은 수를 지정하십시오.</span><span class="sxs-lookup"><span data-stu-id="457b6-191">For large volumes of data, specify a small number for each of the batching parameters.</span></span> <span data-ttu-id="457b6-192">10부터 시작한 다음 애플리케이션 요구 사항과 성능에 따라 조정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-192">We recommend that you start with a value of 10, and then tune based on application needs and performance.</span></span> <span data-ttu-id="457b6-193">일반적으로 이러한 매개 변수는 에이전트 프로필에 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-193">Typically, these parameters are specified in an agent profile.</span></span> <span data-ttu-id="457b6-194">프로필에 대한 자세한 내용은 [Replication Agent Profiles](agents/replication-agent-profiles.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="457b6-194">For more information about profiles, see [Replication Agent Profiles](agents/replication-agent-profiles.md).</span></span>  
  
## <a name="security-best-practices-for-web-synchronization"></a><span data-ttu-id="457b6-195">웹 동기화에 대한 최상의 보안 방법</span><span class="sxs-lookup"><span data-stu-id="457b6-195">Security Best Practices for Web Synchronization</span></span>  
 <span data-ttu-id="457b6-196">웹 동기화의 보안 관련 설정은 다양하게 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-196">There are many choices for security-related settings in Web synchronization.</span></span> <span data-ttu-id="457b6-197">다음 방법을 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-197">We recommend the following approach:</span></span>  
  
-   <span data-ttu-id="457b6-198">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 배포자 및 게시자는 동일한 컴퓨터에 있을 수 있습니다. 이러한 설정은 병합 복제에 일반적입니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-198">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributor and Publisher can be on the same computer (a typical setup for merge replication).</span></span> <span data-ttu-id="457b6-199">그러나 IIS는 서로 다른 컴퓨터에 설치되어 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-199">However, IIS should be installedon a separate computer.</span></span>  
  
-   <span data-ttu-id="457b6-200">SSL(Secure Sockets Layer)을 사용하여 IIS를 실행하는 컴퓨터와 구독자 간의 연결을 암호화합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-200">Use Secure Sockets Layer (SSL) to encrypt the connection between the Subscriber and the computer running IIS.</span></span> <span data-ttu-id="457b6-201">이 작업은 웹 동기화에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-201">This is required for Web synchronization.</span></span>  
  
-   <span data-ttu-id="457b6-202">구독자에서 IIS로 연결할 때 기본 인증을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-202">Use Basic Authentication for connections from the Subscriber to IIS.</span></span> <span data-ttu-id="457b6-203">기본 인증을 사용하면 IIS가 위임 없이 구독자를 대신하여 게시자/배포자에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-203">Using Basic Authentication, IIS can make connections to the Publisher/Distributor on behalf of the Subscriber without requiring delegation.</span></span> <span data-ttu-id="457b6-204">통합 인증을 사용하는 경우에는 위임이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-204">Delegation is required if you use Integrated Authentication.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="457b6-205">기본 인증은 IIS로 자격 증명을 전달하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-205">Basic Authentication is the method by which credentials are passed to IIS.</span></span> <span data-ttu-id="457b6-206">기본 인증은 IIS에 대해 설정한 연결에 Windows 도메인 계정을 지정하는 작업을 방지하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-206">Basic Authentication does not prevent specifying Windows domain accounts for connections that are made to IIS.</span></span>  
  
-   <span data-ttu-id="457b6-207">Windows 도메인 계정으로 스냅샷 에이전트를 실행 및 연결하도록 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-207">Specify that the Snapshot Agent should run under a Windows domain account, and specify that the agent should make connections as that account.</span></span> <span data-ttu-id="457b6-208">이것이 기본 구성입니다. 구독자 컴퓨터를 사용하는 사용자의 도메인 계정으로 각 병합 에이전트를 실행 및 연결하도록 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-208">(This is the default configuration.) Specify that each Merge Agent should run under the domain account of the user that uses the Subscriber computer, and specify that the agent should make connections as that account.</span></span>  
  
     <span data-ttu-id="457b6-209">에이전트에 필요한 사용 권한에 대한 자세한 내용은 [Replication Agent Security Model](security/replication-agent-security-model.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="457b6-209">For more information about the permissions that are required by agents, see [Replication Agent Security Model](security/replication-agent-security-model.md).</span></span>  
  
-   <span data-ttu-id="457b6-210">새 구독 마법사의 **웹 서버 정보** 페이지에서 계정과 암호를 지정할 때 또는 **@internet_url** **@internet_login** [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql)의 및 매개 변수에 대 한 값을 지정할 때 병합 에이전트 사용 하는 것과 동일한 도메인 계정을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-210">Specify the same domain account as the one the Merge Agent uses when you specify an account and password on the **Web Server Information** page of the New Subscription Wizard or when you specify values for the **@internet_url** and **@internet_login** parameters of [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span></span> <span data-ttu-id="457b6-211">이 계정에는 스냅샷 공유에 대한 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-211">This account must have read permissions for the snapshot share.</span></span>  
  
-   <span data-ttu-id="457b6-212">각 게시는 IIS에 대해 서로 다른 가상 디렉터리를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-212">Each publication should use a separate virtual directory for IIS.</span></span>  
  
-   <span data-ttu-id="457b6-213">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 복제 수신기(Replisapi.dll)를 실행하는 계정은 동기화하는 동안 게시자 및 배포자에 연결되는 계정이기도 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-213">The account under which the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener (Replisapi.dll) runs is also the account that will connect to the Publisher and Distributor during synchronization.</span></span> <span data-ttu-id="457b6-214">계정은 게시자 및 배포자의 SQL 로그인 계정에 매핑되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-214">This account must be mapped to a SQL Login account on the Publisher and Distributor.</span></span> <span data-ttu-id="457b6-215">자세한 내용은 [웹 동기화를 위한 IIS 구성](configure-iis-for-web-synchronization.md)에서 "SQL Server 복제 수신기에 대한 사용 권한 설정" 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="457b6-215">For more information, see the "Setting Permissions for the SQL Server Replication Listener" section in the [Configure IIS for Web Synchronization](configure-iis-for-web-synchronization.md).</span></span>  
  
-   <span data-ttu-id="457b6-216">FTP를 사용하여 게시자에 있는 스냅샷을 IIS를 실행하는 컴퓨터로 배달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-216">You can use FTP to deliver the snapshot from the Publisher to the computer that is running IIS.</span></span> <span data-ttu-id="457b6-217">스냅샷은 항상 IIS를 실행하는 컴퓨터에서 HTTPS를 사용하여 구독자로 배달됩니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-217">The snapshot is always delivered from the computer that is running IIS to the Subscriber by using HTTPS.</span></span> <span data-ttu-id="457b6-218">자세한 내용은 [FTP를 통해 스냅샷 전송](transfer-snapshots-through-ftp.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="457b6-218">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md).</span></span>  
  
-   <span data-ttu-id="457b6-219">복제 토폴로지에 있는 서버에 방화벽이 설정되어 있는 경우 웹 동기화를 사용하기 위해 방화벽에서 포트를 열어야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-219">If servers in the replication topology are behind a firewall, you might need to open ports in the firewall to enable Web synchronization.</span></span>  
  
    -   <span data-ttu-id="457b6-220">구독자 컴퓨터는 SSL을 사용하는 HTTPS(일반적으로 포트 443을 사용하도록 구성)를 통해 IIS를 실행하는 컴퓨터에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-220">The Subscriber computer connects to the computer that is running IIS over HTTPS using SSL, which is typically configured to use port 443.</span></span> [!INCLUDE[ssEW](../../includes/ssew-md.md)] <span data-ttu-id="457b6-221">구독자는 HTTP(일반적으로 포트 80을 사용하도록 구성)를 통해 연결할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-221">Subscribers can also connect over HTTP, which is typically configured to use port 80.</span></span>  
  
    -   <span data-ttu-id="457b6-222">IIS를 실행하는 컴퓨터는 일반적으로 포트 1433(기본 인스턴스)을 사용하여 게시자나 배포자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-222">The computer that is running IIS typically connects to the Publisher or Distributor using port 1433 (default instance).</span></span> <span data-ttu-id="457b6-223">다른 기본 인스턴스가 있는 서버에서 게시자나 배포자가 명명된 인스턴스인 경우 일반적으로 포트 1500을 사용하여 명명된 인스턴스에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-223">When the Publisher or Distributor is a named instance on a server with another default instance, port 1500 is typically used to connect to the named instance.</span></span>  
  
    -   <span data-ttu-id="457b6-224">IIS를 실행하는 컴퓨터가 방화벽에 의해 배포자와 분리되고 스냅샷 전달에 FTP 공유가 사용되는 경우 FTP에 사용되는 포트를 열어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-224">If the computer running IIS is separated from the Distributor by a firewall and an FTP share is used for snapshot delivery, the ports used for FTP must be opened.</span></span> <span data-ttu-id="457b6-225">자세한 내용은 [FTP를 통해 스냅샷 전송](transfer-snapshots-through-ftp.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="457b6-225">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="457b6-226">방화벽의 포트를 열면 서버가 악의적인 공격에 노출될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-226">Opening ports in your firewall can leave your server exposed to malicious attacks.</span></span> <span data-ttu-id="457b6-227">포트를 열기 전에 방화벽 시스템을 잘 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="457b6-227">Make sure that you understand firewall systems before you open ports.</span></span> <span data-ttu-id="457b6-228">자세한 내용은 [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="457b6-228">For more information, see [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="457b6-229">참고 항목</span><span class="sxs-lookup"><span data-stu-id="457b6-229">See Also</span></span>  
 [<span data-ttu-id="457b6-230">병합 복제에 대한 웹 동기화</span><span class="sxs-lookup"><span data-stu-id="457b6-230">Web Synchronization for Merge Replication</span></span>](web-synchronization-for-merge-replication.md)  
  
  
