---
title: 복제된 데이터의 유효성 검사 | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Subscribers [SQL Server replication], data validation
- replication [SQL Server], validating data
- transactional replication, validating data
- validating data
- merge replication data validation [SQL Server replication], SQL Server Management Studio
ms.assetid: 215b4c9a-0ce9-4c00-ac0b-43b54151dfa3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4d09750c0cb81d64f5921ae2064b2e75edb6ca96
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87638641"
---
# <a name="validate-replicated-data"></a><span data-ttu-id="6e637-102">복제된 데이터의 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="6e637-102">Validate Replicated Data</span></span>
  <span data-ttu-id="6e637-103">이 항목에서는 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]또는 RMO(복제 관리 개체)를 사용하여 [!INCLUDE[tsql](../../includes/tsql-md.md)]에서 구독자의 데이터에 대한 유효성을 검사하는 방법에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-103">This topic describes how to validate data at the Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span>  

  <span data-ttu-id="6e637-104">트랜잭션 및 병합 복제를 사용하면 구독자의 데이터가 게시자의 데이터와 일치하는지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-104">Transactional and merge replication allow you to validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="6e637-105">게시에 대한 특정 구독 또는 모든 구독에 대해 유효성 검사를 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-105">Validation can be performed for specific subscriptions or for all subscriptions to a publication.</span></span> <span data-ttu-id="6e637-106">다음 유효성 검사 유형 중 하나를 지정합니다. 배포 에이전트 또는 병합 에이전트가 다음에 실행될 때 해당 유형에 따라 데이터의 유효성을 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-106">Specify one of the following validation types and the Distribution Agent or Merge Agent will validate data the next time it runs:</span></span>  
  
-   <span data-ttu-id="6e637-107">**행 개수만**.</span><span class="sxs-lookup"><span data-stu-id="6e637-107">**Row count only**.</span></span> <span data-ttu-id="6e637-108">이 유형은 구독자에 있는 테이블의 행 개수가 게시자에 있는 테이블의 행 개수와 동일한지 여부의 유효성만 검사하고 행 내용 일치 여부의 유효성은 검사하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-108">This validates whether the table at the Subscriber has the same number of rows as the table at the Publisher, but does not validate that the content of the rows matches.</span></span> <span data-ttu-id="6e637-109">행 개수 유효성 검사에서는 최소 수준의 데이터 문제 인식을 위한 검사만 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-109">Row count validation provides a lightweight approach to validation that can make you aware of issues with your data.</span></span>    
-   <span data-ttu-id="6e637-110">**행 개수와 이진 체크섬**.</span><span class="sxs-lookup"><span data-stu-id="6e637-110">**Row count and binary checksum**.</span></span> <span data-ttu-id="6e637-111">게시자 및 구독자에서 행 개수의 유효성을 검사할 뿐만 아니라 체크섬 알고리즘을 사용하여 모든 데이터의 체크섬을 계산합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-111">In addition to taking a count of rows at the Publisher and Subscriber, a checksum of all the data is calculated using the checksum algorithm.</span></span> <span data-ttu-id="6e637-112">행 개수 확인을 실패하면 체크섬 계산이 수행되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-112">If the row count fails, the checksum is not performed.</span></span>  
  
 <span data-ttu-id="6e637-113">구독자의 데이터와 게시자의 데이터가 일치하는지에 대한 유효성 검사 외에도 병합 복제는 각 구독자에 대해 데이터가 올바르게 분할되었는지에 대한 유효성을 검사하는 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-113">In addition to validating that data at the Subscriber and Publisher match, merge replication provides the ability to validate that data is partitioned correctly for each Subscriber.</span></span> <span data-ttu-id="6e637-114">자세한 내용은 [병합 구독자의 파티션 정보 유효성 검사](validate-partition-information-for-a-merge-subscriber.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-114">For more information, see [Validate Partition Information for a Merge Subscriber](validate-partition-information-for-a-merge-subscriber.md).</span></span>  

## <a name="how-data-validation-works"></a><span data-ttu-id="6e637-115">데이터 유효성 검사 작업 방식</span><span class="sxs-lookup"><span data-stu-id="6e637-115">How Data Validation Works</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="6e637-116">는 게시자에서 행 개수 또는 체크섬을 계산한 다음 그 값을 구독자에서 계산된 행 개수 또는 체크섬과 비교하여 데이터의 유효성을 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-116">validates data by calculating a row count or a checksum at the Publisher and then comparing those values to the row count or checksum calculated at the Subscriber.</span></span> <span data-ttu-id="6e637-117">전체 게시 테이블과 전체 구독 테이블에 대해 각각 하나의 값이 계산되지만 `text`, `ntext` 또는 `image` 열의 데이터는 계산에 포함되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-117">One value is calculated for the entire publication table and one value is calculated for the entire subscription table, but data in `text`, `ntext`, or `image` columns is not included in the calculations.</span></span>  
  
 <span data-ttu-id="6e637-118">계산이 수행되는 동안 행 개수 또는 체크섬이 실행될 테이블에 공유 잠금이 임시로 지정되지만 대부분 몇 초 내에 계산이 신속히 완료되고 공유 잠금이 제거됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-118">While the calculations are performed, shared locks are placed temporarily on tables for which row counts or checksums are being run, but the calculations are completed quickly and the shared locks removed, usually in a matter of seconds.</span></span>  
  
 <span data-ttu-id="6e637-119">이진 체크섬을 사용할 때는 데이터 페이지의 실제 행에 대한 CRC 대신 열 단위의 32비트 중복 검사(CRC)가 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-119">When binary checksums are used, 32-bit redundancy check (CRC) occurs on a column-by-column basis rather than a CRC on the physical row on the data page.</span></span> <span data-ttu-id="6e637-120">따라서 테이블의 열이 데이터 페이지에서 실제로 임의의 순서로 배열될 수 있지만, 해당 행에 대해 동일한 CRC로 컴퓨팅됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-120">This allows the columns with the table to be in any order physically on the data page, but still compute to the same CRC for the row.</span></span> <span data-ttu-id="6e637-121">이진 체크섬 유효성 검사는 게시에 행 또는 열 필터가 있을 때 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-121">Binary checksum validation can be used when there are row or column filters on the publication.</span></span>  
  
 <span data-ttu-id="6e637-122">데이터 유효성 검사 프로세스는 세 부분으로 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-122">Validating data is a three-part process:</span></span>  
  
1.  <span data-ttu-id="6e637-123">게시에 대한 단일 구독이나 모든 구독을 유효성 검사용으로 *표시* 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-123">A single subscription or all subscriptions to a publication are *marked* for validation.</span></span> <span data-ttu-id="6e637-124">[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]의 **로컬 게시** 폴더와 **로컬 구독** 폴더에서 사용할 수 있는 **구독 유효성 검사**, **구독 유효성 검사** 및 **모든 구독 유효성 검사** 대화 상자에서 유효성을 검사할 구독을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-124">Mark subscriptions for validation in the **Validate Subscription**, **Validate Subscriptions**, and **Validate All Subscriptions** dialog boxes, which are available from the **Local Publications** folder and the **Local Subscriptions** folder in [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="6e637-125">또한 **모든 구독** 탭, **구독 조사 목록** 탭 및 복제 모니터의 게시 노드에서 구독을 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-125">You can also mark subscriptions from the **All Subscriptions** tab, the **Subscription Watch List** tab, and the publications node in Replication Monitor.</span></span> <span data-ttu-id="6e637-126">복제 모니터를 시작하는 방법은 [복제 모니터 시작](monitor/start-the-replication-monitor.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-126">For information about starting Replication Monitor, see [Start the Replication Monitor](monitor/start-the-replication-monitor.md).</span></span>  
  
2.  <span data-ttu-id="6e637-127">구독은 배포 에이전트(트랜잭션 복제의 경우)나 병합 에이전트(병합 복제의 경우)에 의해 다음 번에 동기화될 때 유효성이 검사됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-127">A subscription is validated the next time it is synchronized by the Distribution Agent (for transactional replication) or the Merge Agent (for merge replication).</span></span> <span data-ttu-id="6e637-128">배포 에이전트는 일반적으로 계속 실행되므로 유효성 검사가 바로 수행됩니다. 병합 에이전트는 일반적으로 요청 시 실행되므로 에이전트를 실행한 다음 유효성 검사가 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-128">The Distribution Agent typically runs continuously, in which case validation occurs immediately; the Merge Agent typically runs on demand, in which case validation occurs after you run the agent.</span></span>  
  
3.  <span data-ttu-id="6e637-129">다음 위치에서 유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-129">View the validation results:</span></span>  
  
    -  <span data-ttu-id="6e637-130">복제 모니터의 세부 정보 창의 **배포자에서 구독자로의 연결 기록** 탭(트랜잭션 복제의 경우) 및 **동기화 기록** 탭(병합 복제의 경우)</span><span class="sxs-lookup"><span data-stu-id="6e637-130">In the detail windows in Replication Monitor: on the **Distributor to Subscriber History** tab for transactional replication and the **Synchronization History** tab for merge replication.</span></span>    
    -  <span data-ttu-id="6e637-131">**의** 동기화 상태 보기 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]대화 상자</span><span class="sxs-lookup"><span data-stu-id="6e637-131">In the **View Synchronization Status** dialog box in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  


  
## <a name="considerations-and-restrictions"></a><span data-ttu-id="6e637-132">고려 사항 및 제한 사항</span><span class="sxs-lookup"><span data-stu-id="6e637-132">Considerations and restrictions</span></span>  
  
-   <span data-ttu-id="6e637-133">복제 모니터에서 끌어오기 구독은 동기화할 수 없으므로 복제 모니터의 프로시저는 밀어넣기 구독에 대해서만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-133">The procedures for Replication Monitor are for push subscriptions only because pull subscriptions cannot be synchronized in Replication Monitor.</span></span> <span data-ttu-id="6e637-134">그러나 구독을 유효성 검사용으로 표시하고 복제 모니터에서 끌어오기 구독에 대한 유효성 검사 결과를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-134">However, you can mark a subscription for validation and view validation results for pull subscriptions in Replication Monitor.</span></span>    
-   <span data-ttu-id="6e637-135">유효성 검사 결과는 유효성 검사의 성공 여부를 나타내지만 실패한 경우 유효성 검사에 실패한 행은 표시하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-135">The validation results indicate whether validation succeeded or failed, but do not specify which rows failed validation if a failure occurred.</span></span> <span data-ttu-id="6e637-136">게시자와 구독자에서 데이터를 비교하려면 [tablediff Utility](../../tools/tablediff-utility.md)를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-136">To compare data at the Publisher and Subscriber, use the [tablediff Utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="6e637-137">이 유틸리티를 복제된 데이터와 함께 사용하는 방법은 [복제된 테이블의 차이점 비교&#40;복제 프로그래밍&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-137">For more information about using this utility with replicated data, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
 
<span data-ttu-id="6e637-138">데이터 유효성을 검사할 때 다음 사항을 고려하십시오.</span><span class="sxs-lookup"><span data-stu-id="6e637-138">Take the following issues into consideration when validating data:</span></span>  
  
-   <span data-ttu-id="6e637-139">데이터 유효성을 검사하기 전에 구독자에서 모든 업데이트 작업을 중지해야 합니다. 유효성 검사가 수행 중일 때는 게시자에서 작업을 중지할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-139">You must stop all update activity at Subscribers before validating data (it is not necessary to stop activity at the Publisher when validation is occurring).</span></span>    
-   <span data-ttu-id="6e637-140">큰 데이터 집합의 유효성을 검사할 때는 체크섬 및 이진 체크섬이 프로세서 리소스를 많이 요구할 수 있으므로 복제에 사용되는 서버에서 진행 중인 작업 수가 가장 적은 경우 유효성 검사가 수행되도록 예약해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-140">Because checksums and binary checksums can require large amounts of processor resources when validating a large data set, you should schedule validation to occur when there is the least activity on the servers used in replication.</span></span>    
-   <span data-ttu-id="6e637-141">복제는 테이블의 유효성만 검사하고 게시자의 스키마 전용 아티클(예: 저장 프로시저)이 구독자의 스키마 전용 아티클과 동일한지 여부의 유효성은 검사하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-141">Replication validates tables only; it does not validate whether schema only articles (such as stored procedures) are the same at the Publisher and Subscriber.</span></span>    
-   <span data-ttu-id="6e637-142">게시된 테이블에는 이진 체크섬을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-142">Binary checksum can be used with any published table.</span></span> <span data-ttu-id="6e637-143">체크섬은 열 필터가 있는 테이블 또는 열을 삭제 또는 추가하는 ALTER TABLE 문으로 인해 열 오프셋이 다른 논리적 테이블 구조의 유효성을 검사할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-143">Checksum cannot validate tables with column filters, or logical table structures where column offsets differ (due to ALTER TABLE statements that drop or add columns).</span></span>    
-   <span data-ttu-id="6e637-144">복제 유효성 검사에서는 `checksum` 및 **binary_checksum** 함수를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-144">Replication validation uses the `checksum` and **binary_checksum** functions.</span></span> <span data-ttu-id="6e637-145">해당 동작에 대한 자세한 내용은 [CHECKSUM&#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) 및 [BINARY_CHECKSUM&#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-145">For  information about their behavior, see  [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) and [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span></span>  
  
-   <span data-ttu-id="6e637-146">구독자에서의 데이터 형식과 게시자에서의 데이터 형식이 다른 경우 이진 체크섬 또는 체크섬 유효성 검사가 올바르지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-146">Validation by using binary checksum or checksum can incorrectly report a failure if data types are different at the Subscriber than they are at the Publisher.</span></span> <span data-ttu-id="6e637-147">이 문제는 다음 중 하나를 수행할 경우 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-147">This can occur if you do any one of the following:</span></span>    
    -   <span data-ttu-id="6e637-148">이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]에 대한 데이터 형식을 매핑하도록 스키마 옵션을 명시적으로 설정한 경우.</span><span class="sxs-lookup"><span data-stu-id="6e637-148">Explicitly set schema options to map data types for earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>    
    -   <span data-ttu-id="6e637-149">병합 게시의 게시 호환성 수준을 이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]로 설정했으며 게시된 테이블에 이 버전에 대해 매핑해야 하는 데이터 형식이 하나 이상 들어 있는 경우.</span><span class="sxs-lookup"><span data-stu-id="6e637-149">Set the publication compatibility level for a merge publication to an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and published tables contain one or more data types that must be mapped for this version.</span></span>    
    -   <span data-ttu-id="6e637-150">구독을 수동으로 초기화하고 구독자에서 다른 데이터 형식을 사용하는 경우</span><span class="sxs-lookup"><span data-stu-id="6e637-150">Manually initialize a subscription and are using different data types at the Subscriber.</span></span>    
-   <span data-ttu-id="6e637-151">트랜잭션 복제의 변환 가능한 구독에서는 이진 체크섬 및 체크섬 유효성 검사가 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-151">Binary checksum and checksum validations are not supported for transformable subscriptions for transactional replication.</span></span>   
-   <span data-ttu-id="6e637-152">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 이외 구독자로 복제된 데이터에 대해서는 유효성 검사가 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-152">Validation is not supported for data replicated to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  

## <a name="data-validation-results"></a><span data-ttu-id="6e637-153">데이터 유효성 검사 결과</span><span class="sxs-lookup"><span data-stu-id="6e637-153">Data Validation Results</span></span>  
 <span data-ttu-id="6e637-154">유효성 검사가 완료되면 배포 에이전트 또는 병합 에이전트는 성공 여부에 대한 메시지를 기록합니다. 복제는 유효성이 확인되지 못한 행은 보고하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-154">When validation is complete, the Distribution Agent or Merge Agent logs messages regarding success or failure (replication does not report which rows failed).</span></span> <span data-ttu-id="6e637-155">이러한 메시지는 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], 복제 모니터 및 복제 시스템 테이블에서 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-155">These messages can be viewed in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], Replication Monitor, and replication system tables.</span></span> <span data-ttu-id="6e637-156">위에 나열된 방법 항목에서 유효성 검사를 실행하고 결과를 확인하는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-156">The how-to topic listed above demonstrates how to run validation and view the results.</span></span>  
  
 <span data-ttu-id="6e637-157">유효성 검사 실패를 처리하려면 다음 사항을 살펴보십시오.</span><span class="sxs-lookup"><span data-stu-id="6e637-157">To handle validation failures, consider the following:</span></span>  
  
-   <span data-ttu-id="6e637-158">**복제: 구독자가 데이터 유효성 검사에 실패했습니다**라는 복제 경고를 구성하여 검사 실패에 대한 알림을 받도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-158">Configure the replication alert named **Replication: Subscriber has failed data validation** so that you are notified of the failure.</span></span> <span data-ttu-id="6e637-159">자세한 내용은 [미리 정의 된 복제 경고 구성 &#40;SQL Server Management Studio& # 41 (관리/구성-미리 정의 된 복제-경고-s e r v e r v e r-s e r v e r-s e r v e r</span><span class="sxs-lookup"><span data-stu-id="6e637-159">For more information, see [Configure Predefined Replication Alerts &#40;SQL Server Management Studio&#41(administration/configure-predefined-replication-alerts-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="6e637-160">유효성 검사 실패가 애플리케이션에 문제가 됩니까?</span><span class="sxs-lookup"><span data-stu-id="6e637-160">Is the fact that validation failed an issue for your application?</span></span> <span data-ttu-id="6e637-161">유효성 검사 실패가 문제가 되는 경우 수동으로 데이터를 업데이트하여 동기화하거나 구독을 다시 초기화합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-161">If the validation failure is an issue, manually update the data so that it is synchronized, or reinitialize the subscription:</span></span>  
  
    -   <span data-ttu-id="6e637-162">[tablediff 유틸리티](../../tools/tablediff-utility.md)를 사용하여 데이터를 업데이트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-162">Data can be updated using the [tablediff utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="6e637-163">이 유틸리티를 사용하는 방법은 [복제된 테이블의 차이점 비교&#40;복제 프로그래밍&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-163">For more information about using this utility, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
  
    -   <span data-ttu-id="6e637-164">다시 초기화에 대한 자세한 내용은 [구독 다시 초기화](reinitialize-subscriptions.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-164">For more information about reinitializaton, see [Reinitialize Subscriptions](reinitialize-subscriptions.md).</span></span>   
 
  
## <a name="articles-in-transactional-replication"></a><span data-ttu-id="6e637-165">트랜잭션 복제의 아티클</span><span class="sxs-lookup"><span data-stu-id="6e637-165">Articles in Transactional Replication</span></span> 

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="6e637-166">SQL Server Management Studio 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-166">Using SQL Server Management Studio</span></span>  
  
  
1.  <span data-ttu-id="6e637-167">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]에서 게시자에 연결한 다음 해당 서버 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-167">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="6e637-168">**복제** 폴더를 확장한 다음 **로컬 게시** 폴더를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-168">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="6e637-169">구독 유효성을 검사할 게시를 마우스 오른쪽 단추로 클릭한 다음 **구독 유효성 검사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-169">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
4.  <span data-ttu-id="6e637-170">**구독 유효성 검사** 대화 상자에서 유효성을 검사할 구독을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-170">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="6e637-171">**모든 SQL Server 구독 유효성 검사**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-171">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="6e637-172">**다음 구독 유효성 검사**를 선택한 다음 하나 이상의 구독을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-172">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>    
5.  <span data-ttu-id="6e637-173">수행할 유효성 검사 유형(행 개수 또는 행 개수 및 체크섬)을 지정하려면 **유효성 검사 옵션**을 클릭한 다음 **구독 유효성 검사 옵션** 대화 상자에서 옵션을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-173">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
7.  <span data-ttu-id="6e637-174">복제 모니터 또는 **동기화 상태 보기** 대화 상자에서 유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-174">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="6e637-175">다음과 같이 각 구독에 대한 작업을 수행하십시오.</span><span class="sxs-lookup"><span data-stu-id="6e637-175">For each subscription:</span></span>    
    1.  <span data-ttu-id="6e637-176">게시를 확장하고 해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **동기화 상태 보기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-176">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>    
    2.  <span data-ttu-id="6e637-177">에이전트가 실행되고 있지 않은 경우 **동기화 상태 보기** 대화 상자에서 **시작** 을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-177">If the agent is not running click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="6e637-178">대화 상자에서는 유효성 검사와 관련된 정보 메시지를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-178">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="6e637-179">유효성 검사와 관련된 메시지가 나타나지 않는 경우 에이전트가 이미 이어서 나타나는 메시지를 로깅한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-179">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="6e637-180">이 경우 복제 모니터에서 유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-180">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="6e637-181">자세한 내용은 이 항목의 복제 모니터 사용 방법을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-181">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="6e637-182">Transact-SQL(T-SQL) 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-182">Using Transact-SQL (T-SQL)</span></span>

#### <a name="all-articles"></a><span data-ttu-id="6e637-183">모든 아티클</span><span class="sxs-lookup"><span data-stu-id="6e637-183">All articles</span></span>
  
1.  <span data-ttu-id="6e637-184">게시 데이터베이스의 게시자에서 [sp_publication_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-184">At the Publisher on the publication database, execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span></span> <span data-ttu-id="6e637-185">\*\* \@ 게시\*\* 를 지정 하 고 \*\* \@ rowcount_only\*\*에 다음 값 중 하나를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-185">Specify **\@publication** and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="6e637-186">**1** - 행 개수의 유효성만 검사합니다(기본값).</span><span class="sxs-lookup"><span data-stu-id="6e637-186">**1** - rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="6e637-187">**2** - 행 개수 및 이진 체크섬의 유효성을 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-187">**2** - rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6e637-188">[sp_publication_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql)을 실행하면 게시의 각 아티클에 대해 [sp_article_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql)이 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-188">When you execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) is executed for each article in the publication.</span></span> <span data-ttu-id="6e637-189">[sp_publication_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql)을 올바르게 실행하려면 게시된 기본 테이블의 모든 열에 대해 SELECT 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-189">To successfully execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), you must have SELECT permissions on all columns in the published base tables.</span></span>  
  
2.  <span data-ttu-id="6e637-190">(옵션) 각 구독에 대해 배포 에이전트를 아직 실행하지 않은 경우 배포 에이전트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-190">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="6e637-191">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 및 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-191">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="6e637-192">유효성 검사의 결과에 대한 에이전트 출력을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-192">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="6e637-193">자세한 내용은 [복제된 데이터의 유효성 검사](validate-data-at-the-subscriber.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-193">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-article"></a><span data-ttu-id="6e637-194">단일 아티클</span><span class="sxs-lookup"><span data-stu-id="6e637-194">Single article</span></span> 
  
1.  <span data-ttu-id="6e637-195">게시 데이터베이스의 게시자에서 [sp_article_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-195">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="6e637-196">\*\* \@ 게시**, \*\* \@ 아티클의**아티클 이름 및 \*\* \@ rowcount_only\*\*에 대 한 다음 값 중 하나를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-196">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="6e637-197">**1** - 행 개수의 유효성만 검사합니다(기본값).</span><span class="sxs-lookup"><span data-stu-id="6e637-197">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="6e637-198">**2** -행 개수 및 이진 체크섬</span><span class="sxs-lookup"><span data-stu-id="6e637-198">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6e637-199">[sp_article_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql)을 올바르게 실행하려면 게시된 기본 테이블의 모든 열에 대해 SELECT 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-199">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
2.  <span data-ttu-id="6e637-200">(옵션) 각 구독에 대해 배포 에이전트를 아직 실행하지 않은 경우 배포 에이전트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-200">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="6e637-201">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 및 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-201">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="6e637-202">유효성 검사의 결과에 대한 에이전트 출력을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-202">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="6e637-203">자세한 내용은 [복제된 데이터의 유효성 검사](validate-data-at-the-subscriber.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-203">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-subscriber"></a><span data-ttu-id="6e637-204">단일 구독자</span><span class="sxs-lookup"><span data-stu-id="6e637-204">Single subscriber</span></span>
  
1.  <span data-ttu-id="6e637-205">게시 데이터베이스의 게시자에서 [BEGIN TRANSACTION&#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql)을 사용하여 명시적 트랜잭션을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-205">At the Publisher on the publication database, open an explicit transaction using [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span></span>    
2.  <span data-ttu-id="6e637-206">게시 데이터베이스의 게시자에서 [sp_marksubscriptionvalidation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-206">At the Publisher on the publication database, execute [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span></span> <span data-ttu-id="6e637-207">\*\* \@ 게시**에 대 한 게시, \*\* \@ 구독자**의 구독자 이름 및 \*\* \@ destination_db\*\*에 대 한 구독 데이터베이스의 이름을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-207">Specify the publication for **\@publication**, the name of the Subscriber for **\@subscriber**, and the name of the subscription database for **\@destination_db**.</span></span>    
3.  <span data-ttu-id="6e637-208">(옵션) 유효성을 검사할 각 구독에 대해 2단계를 반복합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-208">(Optional) Repeat step 2 for each subscription being validated.</span></span>    
4.  <span data-ttu-id="6e637-209">게시 데이터베이스의 게시자에서 [sp_article_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-209">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="6e637-210">\*\* \@ 게시**, \*\* \@ 아티클의**아티클 이름 및 \*\* \@ rowcount_only\*\*에 대 한 다음 값 중 하나를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-210">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="6e637-211">**1** - 행 개수의 유효성만 검사합니다(기본값).</span><span class="sxs-lookup"><span data-stu-id="6e637-211">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="6e637-212">**2** -행 개수 및 이진 체크섬</span><span class="sxs-lookup"><span data-stu-id="6e637-212">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="6e637-213">[sp_article_validation&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql)을 올바르게 실행하려면 게시된 기본 테이블의 모든 열에 대해 SELECT 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-213">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
5.  <span data-ttu-id="6e637-214">게시 데이터베이스의 게시자에서 [COMMIT TRANSACTION&#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql)을 사용하여 명시적 트랜잭션을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-214">At the Publisher on the publication database, commit the transaction using [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span></span>    
6.  <span data-ttu-id="6e637-215">(옵션) 유효성을 검사할 각 아티클에 대해 1~5단계를 반복합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-215">(Optional) Repeat steps 1 through 5 for each article being validated.</span></span>    
7.  <span data-ttu-id="6e637-216">(옵션) 배포 에이전트를 아직 실행하지 않은 경우 배포 에이전트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-216">(Optional) Start the Distribution Agent if it is not already running.</span></span> <span data-ttu-id="6e637-217">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 및 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-217">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
8.  <span data-ttu-id="6e637-218">유효성 검사의 결과에 대한 에이전트 출력을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-218">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="6e637-219">자세한 내용은 [Validate Data at the Subscriber](validate-data-at-the-subscriber.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-219">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  

##  <a name="all-push-subscriptions-to-a-transactional-publication"></a><span data-ttu-id="6e637-220">트랜잭션 게시에 대 한 모든 밀어넣기 구독</span><span class="sxs-lookup"><span data-stu-id="6e637-220">All push subscriptions to a Transactional Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="6e637-221">복제 모니터 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-221">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="6e637-222">복제 모니터에서 왼쪽 창의 게시자 그룹을 확장한 다음 게시자를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-222">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="6e637-223">구독 유효성을 검사할 게시를 마우스 오른쪽 단추로 클릭한 다음 **구독 유효성 검사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-223">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
3.  <span data-ttu-id="6e637-224">**구독 유효성 검사** 대화 상자에서 유효성을 검사할 구독을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-224">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="6e637-225">**모든 SQL Server 구독 유효성 검사**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-225">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="6e637-226">**다음 구독 유효성 검사**를 선택한 다음 하나 이상의 구독을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-226">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>   
4.  <span data-ttu-id="6e637-227">수행할 유효성 검사 유형(행 개수 또는 행 개수 및 체크섬)을 지정하려면 **유효성 검사 옵션**을 클릭한 다음 **구독 유효성 검사 옵션** 대화 상자에서 옵션을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-227">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="6e637-228">**모든 구독** 탭을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-228">Click the **All Subscriptions** tab.</span></span>    
7.  <span data-ttu-id="6e637-229">유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-229">View validation results.</span></span> <span data-ttu-id="6e637-230">다음과 같이 각 밀어넣기 구독에 대한 작업을 수행하십시오.</span><span class="sxs-lookup"><span data-stu-id="6e637-230">For each push subscription:</span></span>   
    1.  <span data-ttu-id="6e637-231">에이전트가 실행되고 있지 않은 경우 해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **동기화 시작**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-231">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>   
    2.  <span data-ttu-id="6e637-232">해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **자세히 보기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-232">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="6e637-233">**선택한 세션의 동작** 텍스트 영역에 있는 **배포자에서 구독자로의 연결 기록** 탭의 정보를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-233">View information on the **Distributor to Subscriber History** tab in the **Actions in the selected session** text area.</span></span>  
  

## <a name="for-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="6e637-234">병합 게시에 대한 단일 구독의 경우</span><span class="sxs-lookup"><span data-stu-id="6e637-234">For a single subscription to a Merge Publication</span></span>
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="6e637-235">SQL Server Management Studio 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-235">Using SQL Server Management Studio</span></span>
  
1.  <span data-ttu-id="6e637-236">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]에서 게시자에 연결한 다음 해당 서버 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-236">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="6e637-237">**복제** 폴더를 확장한 다음 **로컬 게시** 폴더를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-237">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="6e637-238">구독 유효성을 검사할 게시를 확장하고 구독을 마우스 오른쪽 단추로 클릭한 다음 **구독 유효성 검사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-238">Expand the publication for which you want to validate subscriptions, right-click the subscription, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="6e637-239">**구독 유효성 검사** 대화 상자에서 **이 구독 유효성 검사**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-239">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="6e637-240">수행할 유효성 검사 유형(행 개수 또는 행 개수 및 체크섬)을 지정하려면 **옵션**을 클릭한 다음 **구독 유효성 검사 옵션** 대화 상자에서 옵션을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-240">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="6e637-241">복제 모니터 또는 **동기화 상태 보기** 대화 상자에서 유효성 검사 결과를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-241">View validation results in Replication Monitor or the **View Synchronization Status** dialog box:</span></span>  
    1.  <span data-ttu-id="6e637-242">게시를 확장하고 해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **동기화 상태 보기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-242">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="6e637-243">에이전트가 실행 되 고 있지 않은 경우 **동기화 상태 보기** 대화 상자에서 **시작** 을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-243">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="6e637-244">대화 상자에서는 유효성 검사와 관련된 정보 메시지를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-244">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="6e637-245">유효성 검사와 관련된 메시지가 나타나지 않는 경우 에이전트가 이미 이어서 나타나는 메시지를 로깅한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-245">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="6e637-246">이 경우 복제 모니터에서 유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-246">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="6e637-247">자세한 내용은 이 항목의 복제 모니터 사용 방법을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-247">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="6e637-248">Transact-SQL(T-SQL) 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-248">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="6e637-249">게시 데이터베이스의 게시자에서 [sp_validatemergesubscription&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-249">At the Publisher on the publication database, execute [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span></span> <span data-ttu-id="6e637-250">\*\* \@ 게시**, \*\* \@ 구독자**의 구독자 이름, \*\* \@ subscriber_db**에 대 한 구독 데이터베이스 이름 및 \*\* \@ level**에 대 한 다음 값 중 하나를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-250">Specify **\@publication**, the name of the Subscriber for **\@subscriber**, the name of the subscription database for **\@subscriber_db**, and one of the following values for **\@level**:</span></span>   
    -   <span data-ttu-id="6e637-251">**1** - 행 개수의 유효성만 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-251">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="6e637-252">**3** - 행 개수 및 이진 체크섬의 유효성을 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-252">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="6e637-253">이렇게 하면 선택한 구독이 유효성 검사 대상으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-253">This marks the selected subscription for validation.</span></span>  
  
2.  <span data-ttu-id="6e637-254">각 구독에 대해 병합 에이전트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-254">Start the merge agent for each subscription.</span></span> <span data-ttu-id="6e637-255">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 및 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-255">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="6e637-256">유효성 검사의 결과에 대한 에이전트 출력을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-256">Check the agent output for the result of the validation.</span></span>    
4.  <span data-ttu-id="6e637-257">유효성을 검사할 각 구독에 대해 1~3단계를 반복합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-257">Repeat steps 1 through 3 for each subscription being validated.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6e637-258">**Replication Merge Agent** 를 실행할 때 [-Validate](agents/replication-merge-agent.md)매개 변수를 지정하여 동기화가 끝날 때 병합 게시에 대한 구독의 유효성을 검사할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-258">A subscription to a merge publication can also be validated at the end of a synchronization by specifying the **-Validate** parameter when running the [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  

  
## <a name="for-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="6e637-259">병합 게시에 대한 모든 구독의 경우</span><span class="sxs-lookup"><span data-stu-id="6e637-259">For all subscriptions to a Merge Publication</span></span>

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="6e637-260">SQL Server Management Studio 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-260">Using SQL Server Management Studio</span></span> 
  
1.  <span data-ttu-id="6e637-261">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]에서 게시자에 연결한 다음 해당 서버 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-261">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="6e637-262">**복제** 폴더를 확장한 다음 **로컬 게시** 폴더를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-262">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="6e637-263">구독 유효성을 검사할 게시를 마우스 오른쪽 단추로 클릭한 다음 **모든 구독 유효성 검사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-263">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
4.  <span data-ttu-id="6e637-264">**모든 구독 유효성 검사** 대화 상자에서 수행할 유효성 검사 유형(행 개수 또는 행 개수 및 체크섬)을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-264">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="6e637-265">복제 모니터 또는 **동기화 상태 보기** 대화 상자에서 유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-265">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="6e637-266">다음과 같이 각 구독에 대한 작업을 수행하십시오.</span><span class="sxs-lookup"><span data-stu-id="6e637-266">For each subscription:</span></span>    
    1.  <span data-ttu-id="6e637-267">게시를 확장하고 해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **동기화 상태 보기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-267">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="6e637-268">에이전트가 실행 되 고 있지 않은 경우 **동기화 상태 보기** 대화 상자에서 **시작** 을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-268">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="6e637-269">대화 상자에서는 유효성 검사와 관련된 정보 메시지를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-269">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="6e637-270">유효성 검사와 관련된 메시지가 나타나지 않는 경우 에이전트가 이미 이어서 나타나는 메시지를 로깅한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-270">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="6e637-271">이 경우 복제 모니터에서 유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-271">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="6e637-272">자세한 내용은 이 항목의 복제 모니터 사용 방법을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-272">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="6e637-273">Transact-SQL(T-SQL) 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-273">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="6e637-274">게시 데이터베이스의 게시자에서 [sp_validatemergepublication&#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql)을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-274">At the Publisher on the publication database, execute [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span></span> <span data-ttu-id="6e637-275">\*\* \@ 게시\*\* 를 지정 하 고 \*\* \@ 수준\*\*에 다음 값 중 하나를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-275">Specify **\@publication** and one of the following values for **\@level**:</span></span>    
    -   <span data-ttu-id="6e637-276">**1** - 행 개수의 유효성만 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-276">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="6e637-277">**3** - 행 개수 및 이진 체크섬의 유효성을 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-277">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="6e637-278">이렇게 하면 모든 구독이 유효성 검사 대상으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-278">This marks all subscriptions for validation.</span></span>  
  
2.  <span data-ttu-id="6e637-279">각 구독에 대해 병합 에이전트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-279">Start the merge agent for each subscription.</span></span> <span data-ttu-id="6e637-280">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 및 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-280">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="6e637-281">유효성 검사의 결과에 대한 에이전트 출력을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-281">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="6e637-282">자세한 내용은 [Validate Data at the Subscriber](validate-data-at-the-subscriber.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-282">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  


## <a name="for-a-single-push-subscription-to-a-merge-publication"></a><span data-ttu-id="6e637-283">병합 게시에 대한 단일 밀어넣기 구독의 경우</span><span class="sxs-lookup"><span data-stu-id="6e637-283">For a single push subscription to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="6e637-284">복제 모니터 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-284">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="6e637-285">복제 모니터에서 왼쪽 창의 게시자 그룹을 확장하고 해당 게시자를 확장한 다음 해당 게시를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-285">In Replication Monitor, expand a Publisher group in the left pane, expand a Publisher, and then click a publication.</span></span>    
2.  <span data-ttu-id="6e637-286">**모든 구독** 탭을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-286">Click the **All Subscriptions** tab.</span></span>    
3.  <span data-ttu-id="6e637-287">유효성을 검사할 구독을 마우스 오른쪽 단추로 클릭한 다음 **구독 유효성 검사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-287">Right-click the subscription you want to validate, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="6e637-288">**구독 유효성 검사** 대화 상자에서 **이 구독 유효성 검사**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-288">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="6e637-289">수행할 유효성 검사 유형(행 개수 또는 행 개수 및 체크섬)을 지정하려면 **옵션**을 클릭한 다음 **구독 유효성 검사 옵션** 대화 상자에서 옵션을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-289">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="6e637-290">**모든 구독** 탭을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-290">Click the **All Subscriptions** tab.</span></span>    
8.  <span data-ttu-id="6e637-291">다음과 같이 유효성 검사 결과를 확인하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-291">View validation results:</span></span>    
    1.  <span data-ttu-id="6e637-292">에이전트가 실행되고 있지 않은 경우 해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **동기화 시작**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-292">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="6e637-293">해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **자세히 보기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-293">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="6e637-294">**선택한 세션에 대한 마지막 메시지** 텍스트 영역에 있는 **동기화 기록** 탭의 정보를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-294">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
## <a name="for-all-push-subscriptions-to-a-merge-publication"></a><span data-ttu-id="6e637-295">병합 게시에 대한 모든 밀어넣기 구독의 경우</span><span class="sxs-lookup"><span data-stu-id="6e637-295">For all push subscriptions to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="6e637-296">복제 모니터 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-296">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="6e637-297">복제 모니터에서 왼쪽 창의 게시자 그룹을 확장한 다음 게시자를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-297">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="6e637-298">구독 유효성을 검사할 게시를 마우스 오른쪽 단추로 클릭한 다음 **모든 구독 유효성 검사**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-298">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
3.  <span data-ttu-id="6e637-299">**모든 구독 유효성 검사** 대화 상자에서 수행할 유효성 검사 유형(행 개수 또는 행 개수 및 체크섬)을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-299">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
4.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
5.  <span data-ttu-id="6e637-300">**모든 구독** 탭을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-300">Click the **All Subscriptions** tab.</span></span>    
6.  <span data-ttu-id="6e637-301">유효성 검사 결과를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-301">View validation results.</span></span> <span data-ttu-id="6e637-302">다음과 같이 각 밀어넣기 구독에 대한 작업을 수행하십시오.</span><span class="sxs-lookup"><span data-stu-id="6e637-302">For each push subscription:</span></span>    
    1.  <span data-ttu-id="6e637-303">에이전트가 실행되고 있지 않은 경우 해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **동기화 시작**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-303">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="6e637-304">해당 구독을 마우스 오른쪽 단추로 클릭한 다음 **자세히 보기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-304">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="6e637-305">**선택한 세션에 대한 마지막 메시지** 텍스트 영역에 있는 **동기화 기록** 탭의 정보를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-305">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
  
## <a name="validate-data-using-merge-agent-parameters"></a><span data-ttu-id="6e637-306">병합 에이전트 매개 변수를 사용 하 여 데이터 유효성 검사</span><span class="sxs-lookup"><span data-stu-id="6e637-306">Validate data using Merge Agent Parameters</span></span>
  
1.  <span data-ttu-id="6e637-307">명령 프롬프트에서 다음 방법 중 하나를 사용하여 구독자(끌어오기 구독) 또는 배포자(밀어넣기 구독)에서 병합 에이전트를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-307">Start the Merge Agent at the Subscriber (pull subscription) or at the Distributor (push subscription) from the command prompt in one of the following ways.</span></span>    
    -   <span data-ttu-id="6e637-308">**-Validate** 매개 변수에 **1** (행 개수) 또는 **3** (행 개수 및 이진 체크섬) 값을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-308">Specifying a value of **1** (rowcount) or **3** (rowcount and binary checksum) for the **-Validate** parameter.</span></span>   
    -   <span data-ttu-id="6e637-309">**-ProfileName** 매개 변수에 **행 개수 유효성 검사** 및 **행 개수 및 체크섬 유효성 검사** 를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-309">Specifying **rowcount validation** or **rowcount and checksum validation** for the **-ProfileName** parameter.</span></span>  
  
     <span data-ttu-id="6e637-310">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 또는 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-310">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) or [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
## <a name="using-replication-management-objects-rmo"></a><span data-ttu-id="6e637-311">RMO(복제 관리 개체) 사용</span><span class="sxs-lookup"><span data-stu-id="6e637-311">Using Replication Management Objects (RMO)</span></span>  
 <span data-ttu-id="6e637-312">복제를 사용하면 RMO(복제 관리 개체)를 통해 구독자의 데이터가 게시자의 데이터와 일치하는지를 프로그래밍 방식으로 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-312">Replication enables you to use Replication Management Objects (RMO) to programmatically validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="6e637-313">사용하는 개체는 복제 토폴로지의 유형에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-313">The objects you use depend on the type of replication topology.</span></span> <span data-ttu-id="6e637-314">트랜잭션 복제에는 게시에 대한 모든 구독의 유효성 검사가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-314">Transactional replication requires validation of all subscriptions to a publication.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6e637-315">예를 보려면 이 섹션의 뒷부분에 나오는 [예(RMO)](#RMOExample)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-315">For an example, see [Example (RMO)](#RMOExample), later in this section.</span></span>  
  
#### <a name="to-validate-data-for-all-articles-in-a-transactional-publication"></a><span data-ttu-id="6e637-316">트랜잭션 게시의 모든 아티클에 대해 데이터 유효성을 검사하려면</span><span class="sxs-lookup"><span data-stu-id="6e637-316">To validate data for all articles in a transactional publication</span></span>  
  
1.  <span data-ttu-id="6e637-317"><xref:Microsoft.SqlServer.Management.Common.ServerConnection> 클래스를 사용하여 게시자 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-317">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="6e637-318"><xref:Microsoft.SqlServer.Replication.TransPublication> 클래스의 인스턴스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-318">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransPublication> class.</span></span> <span data-ttu-id="6e637-319">게시에 대해 <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> 및 <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> 속성을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-319">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="6e637-320"><xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> 속성을 1단계에서 만든 연결로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-320">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="6e637-321"><xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> 메서드를 호출하여 개체의 나머지 속성을 얻습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-321">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="6e637-322">이 메서드가 `false`를 반환하는 경우 2단계에서 게시 속성이 올바르게 정의되지 않았거나 게시가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-322">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="6e637-323"><xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-323">Call the <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="6e637-324">다음을 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-324">Pass the following:</span></span>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationOption>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationMethod>    
    -   <span data-ttu-id="6e637-325">유효성 검사가 완료된 후 배포 에이전트를 중지할지 여부를 나타내는 부울입니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-325">A Boolean that indicates whether to stop the Distribution Agent after validation is completed.</span></span>  
  
     <span data-ttu-id="6e637-326">이렇게 하면 해당 아티클이 유효성 검사 대상으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-326">This marks the articles for validation.</span></span>  
  
5.  <span data-ttu-id="6e637-327">배포 에이전트를 아직 실행하지 않은 경우 배포 에이전트를 시작하여 각 구독을 동기화합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-327">If not already running, start the Distribution Agent to synchronize each subscription.</span></span> <span data-ttu-id="6e637-328">자세한 내용은 [Synchronize a Push Subscription](synchronize-a-push-subscription.md) 또는 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-328">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md) or [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span></span> <span data-ttu-id="6e637-329">유효성 검사 작업의 결과는 에이전트 기록에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-329">The result of the validation operation is written to the agent history.</span></span> <span data-ttu-id="6e637-330">자세한 내용은 [Monitoring Replication](monitoring-replication.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-330">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="6e637-331">병합 게시에 대한 모든 구독의 데이터 유효성을 검사하려면</span><span class="sxs-lookup"><span data-stu-id="6e637-331">To validate data in all subscriptions to a merge publication</span></span>  
  
1.  <span data-ttu-id="6e637-332"><xref:Microsoft.SqlServer.Management.Common.ServerConnection> 클래스를 사용하여 게시자 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-332">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>   
2.  <span data-ttu-id="6e637-333"><xref:Microsoft.SqlServer.Replication.MergePublication> 클래스의 인스턴스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-333">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="6e637-334">게시에 대해 <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> 및 <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> 속성을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-334">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="6e637-335"><xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> 속성을 1단계에서 만든 연결로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-335">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="6e637-336"><xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> 메서드를 호출하여 개체의 나머지 속성을 얻습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-336">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="6e637-337">이 메서드가 `false`를 반환하는 경우 2단계에서 게시 속성이 올바르게 정의되지 않았거나 게시가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-337">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="6e637-338"><xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-338">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="6e637-339">원하는 <xref:Microsoft.SqlServer.Replication.ValidationOption>을 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-339">Pass the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="6e637-340">각 구독에 대해 병합 에이전트를 실행하여 유효성 검사를 시작하거나 예약된 다음 에이전트가 실행될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-340">Run the Merge Agent for each subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="6e637-341">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 및 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-341">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="6e637-342">유효성 검사 작업의 결과는 에이전트 기록에 추가되며, 복제 모니터를 사용하여 해당 결과를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-342">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="6e637-343">자세한 내용은 [Monitoring Replication](monitoring-replication.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-343">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="6e637-344">병합 게시에 대한 단일 구독의 데이터 유효성을 검사하려면</span><span class="sxs-lookup"><span data-stu-id="6e637-344">To validate data in a single subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="6e637-345"><xref:Microsoft.SqlServer.Management.Common.ServerConnection> 클래스를 사용하여 게시자 연결을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-345">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="6e637-346"><xref:Microsoft.SqlServer.Replication.MergePublication> 클래스의 인스턴스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-346">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="6e637-347">게시에 대해 <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> 및 <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> 속성을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-347">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="6e637-348"><xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> 속성을 1단계에서 만든 연결로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-348">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>    
3.  <span data-ttu-id="6e637-349"><xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> 메서드를 호출하여 개체의 나머지 속성을 얻습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-349">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="6e637-350">이 메서드가 `false`를 반환하는 경우 2단계에서 게시 속성이 올바르게 정의되지 않았거나 게시가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-350">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="6e637-351"><xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> 메서드를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-351">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> method.</span></span> <span data-ttu-id="6e637-352">구독자 이름, 유효성을 검사할 구독 데이터베이스 및 원하는 <xref:Microsoft.SqlServer.Replication.ValidationOption>을 전달합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-352">Pass the name of the Subscriber and subscription database being validated and the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="6e637-353">유효성 검사를 시작할 구독에 대해 병합 에이전트를 실행하거나 예약된 다음 에이전트가 실행될 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-353">Run the Merge Agent for the subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="6e637-354">자세한 내용은 [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) 및 [Synchronize a Push Subscription](synchronize-a-push-subscription.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-354">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="6e637-355">유효성 검사 작업의 결과는 에이전트 기록에 추가되며, 복제 모니터를 사용하여 해당 결과를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-355">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="6e637-356">자세한 내용은 [Monitoring Replication](monitoring-replication.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6e637-356">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
###  <a name="example-rmo"></a><a name="RMOExample"></a> <span data-ttu-id="6e637-357">예(RMO)</span><span class="sxs-lookup"><span data-stu-id="6e637-357">Example (RMO)</span></span>  
 <span data-ttu-id="6e637-358">이 예제에서는 트랜잭션 게시에 대한 모든 구독을 대상으로 행 개수를 확인하도록 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-358">This example marks all subscriptions to a transactional publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateTranPub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatetranpub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateTranPub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatetranpub)]  
  
 <span data-ttu-id="6e637-359">이 예제에서는 병합 게시에 대한 특정 구독을 대상으로 행 개수를 확인하도록 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="6e637-359">This example marks a specific subscription to a merge publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateMergeSub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatemergesub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateMergeSub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatemergesub)]  
  
  
