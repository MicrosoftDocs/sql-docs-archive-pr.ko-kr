---
title: 위협 요소 및 취약성 완화(복제) | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- attacks [SQL Server replication]
- threats [SQL Server replication security]
- security [SQL Server replication], threats
- security threats [SQL Server replication]
ms.assetid: 314fe497-56d8-4192-98e9-21b87cf8db04
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: c1a9c2c646f26d0cb61ae3d41ccdbd72551094d4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87736139"
---
# <a name="threat-and-vulnerability-mitigation-replication"></a><span data-ttu-id="dfd36-102">위협 요소 및 취약성 완화(복제)</span><span class="sxs-lookup"><span data-stu-id="dfd36-102">Threat and Vulnerability Mitigation (Replication)</span></span>
  <span data-ttu-id="dfd36-103">이 항목에서는 복제 토폴로지에 대한 위협을 줄일 수 있는 기술을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-103">This topic describes techniques to reduce threats to a replication topology.</span></span>  
  
## <a name="encryption"></a><span data-ttu-id="dfd36-104">암호화</span><span class="sxs-lookup"><span data-stu-id="dfd36-104">Encryption</span></span>  
 <span data-ttu-id="dfd36-105">암호화는 데이터를 특수 키 없이는 읽을 수 없는 형식으로 변환해서 의도한 받는 사람만 데이터를 읽을 수 있도록 하는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-105">Encryption is the process of converting data into a form that cannot be read without a special key, so that only the intended recipient can read the data.</span></span> <span data-ttu-id="dfd36-106">복제에서는 테이블에 저장되거나 네트워크 연결을 통해 전달된 데이터를 암호화하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-106">Replication does not encrypt data stored in tables or sent over network connections.</span></span> <span data-ttu-id="dfd36-107">이는 전송 수준에서 VPN(가상 프라이빗 네크워크), SSL(Secure Sockets Layer), IPSEC(IP 보안) 등의 산업 표준 기술을 비롯한 다양한 기술을 통한 암호화가 가능하기 때문에 의도된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-107">This is by design, because encryption is available at the transport level with a number of technologies, including the following industry standard technologies: Virtual Private Networks (VPN), Secure Sockets Layer (SSL), and IP Security (IPSEC).</span></span> <span data-ttu-id="dfd36-108">복제 토폴로지에서 컴퓨터 간 연결에는 이러한 암호화 방법 중 하나를 사용하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-108">We recommend using one of these encryption methods for the connections between computers in a replication topology.</span></span> <span data-ttu-id="dfd36-109">자세한 내용은 [데이터베이스 엔진에 암호화 연결 사용&#40;SQL Server 구성 관리자&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dfd36-109">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span> <span data-ttu-id="dfd36-110">VPN 및 SSL을 사용하여 인터넷에서 데이터를 복제하는 방법은 [Securing Replication Over the Internet](securing-replication-over-the-internet.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="dfd36-110">For information about using VPN and SSL for replicating data over the Internet, see [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span></span>  
  
 <span data-ttu-id="dfd36-111">SSL을 사용하여 복제 토폴로지에서 컴퓨터 간의 연결 보안을 유지하는 경우 각 복제 에이전트의 **-EncryptionLevel** 매개 변수 값을 **1** 또는 **2** 로 지정합니다(값 **2** 가 권장됨).</span><span class="sxs-lookup"><span data-stu-id="dfd36-111">If you use SSL to secure the connections between computers in a replication topology, specify a value of **1** or **2** for the **-EncryptionLevel** parameter of each replication agent (a value of **2** is recommended).</span></span> <span data-ttu-id="dfd36-112">값 **1** 을 지정하면 암호화가 사용되지만 에이전트에서 SSL 서버 인증서가 신뢰할 수 있는 발급자에 의해 서명된 것인지 확인하지는 않습니다. 값 **2** 를 지정하면 인증서가 확인됩니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-112">A value of **1** specifies that encryption is used, but the agent does not verify that the SSL server certificate is signed by a trusted issuer; a value of **2** specifies that the certificate is verified.</span></span> <span data-ttu-id="dfd36-113">에이전트 프로필 및 명령줄에서 에이전트 매개 변수를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-113">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="dfd36-114">자세한 내용은 다음을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dfd36-114">For more information, see:</span></span>  
  
-   [<span data-ttu-id="dfd36-115">복제 에이전트 프로필 작업</span><span class="sxs-lookup"><span data-stu-id="dfd36-115">Work with Replication Agent Profiles</span></span>](../agents/replication-agent-profiles.md)  
  
-   [<span data-ttu-id="dfd36-116">복제 에이전트의 명령 프롬프트 매개 변수 보기 및 수정&#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="dfd36-116">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   [<span data-ttu-id="dfd36-117">Replication Agent Executables Concepts</span><span class="sxs-lookup"><span data-stu-id="dfd36-117">Replication Agent Executables Concepts</span></span>](../concepts/replication-agent-executables-concepts.md)  
  
 <span data-ttu-id="dfd36-118">복제는 데이터를 암호화하는 데 사용되는 데이터베이스 마스터 키와 관련하여 다음과 같이 동작합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-118">Replication has the following behavior with respect to database Master Keys, which are used to encrypt data:</span></span>  
  
-   <span data-ttu-id="dfd36-119">마스터 키가 복제와 관련된 데이터베이스(게시 데이터베이스, 구독 데이터베이스 또는 배포 데이터베이스)에 있는 경우 복제는 [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] 데이터베이스 대칭 키를 사용하여 해당 데이터베이스에 있는 에이전트 암호를 암호화하고 해독합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-119">If a Master Key is present in a database involved in replication (a publication database, subscription database, or distribution database), replication encrypts and decrypts agent passwords in that database using a [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] database symmetric key.</span></span> <span data-ttu-id="dfd36-120">마스터 키를 사용하는 경우에는 복제와 관련된 각 데이터베이스에 마스터 키를 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-120">If Master Keys are used, a Master Key should be created in each database involved in replication.</span></span> <span data-ttu-id="dfd36-121">마스터 키 만들기에 대한 자세한 내용은 [CREATE MASTER KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dfd36-121">For more information about creating Master Keys, see [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="dfd36-122">복제 시 마스터 키는 복제되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-122">Replication does not replicate Master Keys.</span></span> <span data-ttu-id="dfd36-123">구독자에서 마스터 키가 필요한 경우에는 BACKUP MASTER KEY를 사용하여 게시 데이터베이스에서 마스터 키를 내보낸 다음 RESTORE MASTER KEY를 사용하여 구독 데이터베이스로 가져와야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-123">If you require the Master Key at the Subscriber, you must export it from the publication database using BACKUP MASTER KEY and then import it into the subscription database using RESTORE MASTER KEY.</span></span> <span data-ttu-id="dfd36-124">자세한 내용은 [BACKUP MASTER KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) 및 [RESTORE MASTER KEY&#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dfd36-124">For more information, see [BACKUP MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) and [RESTORE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="dfd36-125">연결할 수 있는 구독 데이터베이스에 대해 마스터 키가 정의 되어 있는 경우 **@db_master_key_password** [Sp_attachsubscription &#40;transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql)매개 변수를 사용 하 여 마스터 키 암호를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-125">If a Master Key is defined for an attachable subscription database, specify the Master Key password using the **@db_master_key_password** parameter of [sp_attachsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql).</span></span> <span data-ttu-id="dfd36-126">이렇게 하면 구독자에서 데이터베이스를 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-126">This allows the database to be attached at the Subscriber.</span></span>  
  
 <span data-ttu-id="dfd36-127">암호화 및 마스터 키에 대한 자세한 내용은 [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="dfd36-127">For more information about encryption and Master Keys, see [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md).</span></span>  
  
 <span data-ttu-id="dfd36-128">복제를 사용하여 암호화된 열 데이터를 게시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-128">Replication enables you to publish encrypted column data.</span></span> <span data-ttu-id="dfd36-129">구독자에서 이 데이터를 해독하고 사용하려면 게시자에서 데이터 암호화에 사용된 키가 구독자에도 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-129">To decrypt and use this data at the Subscriber, the key that was used to encrypt the data at the Publisher must also be present on the Subscriber.</span></span> <span data-ttu-id="dfd36-130">복제에서는 암호화 키를 전송하는 보안 메커니즘을 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-130">Replication does not provide a secure mechanism to transport encryption keys.</span></span> <span data-ttu-id="dfd36-131">구독자에서 직접 암호화 키를 다시 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="dfd36-131">You must manually re-create the encryption key at the Subscriber.</span></span> <span data-ttu-id="dfd36-132">자세한 내용은 [암호화된 열의 데이터 복제&#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="dfd36-132">For more information, see [Replicate Data in Encrypted Columns &#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dfd36-133">참고 항목</span><span class="sxs-lookup"><span data-stu-id="dfd36-133">See Also</span></span>  
 <span data-ttu-id="dfd36-134">[Id 및 Access Control &#40;복제&#41;](identity-and-access-control-replication.md) </span><span class="sxs-lookup"><span data-stu-id="dfd36-134">[Identity and Access Control &#40;Replication&#41;](identity-and-access-control-replication.md) </span></span>  
 [<span data-ttu-id="dfd36-135">보안 복제 배포</span><span class="sxs-lookup"><span data-stu-id="dfd36-135">Secure Replication Deployment</span></span>](view-and-modify-replication-security-settings.md)  
  
  
