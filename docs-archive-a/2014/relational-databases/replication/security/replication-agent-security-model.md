---
title: 복제 에이전트 보안 모델 | Microsoft 문서
ms.custom: ''
ms.date: 10/07/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Snapshot Agent, security
- agents [SQL Server replication], security
- Distribution Agent, security
- logins [SQL Server replication], permissions for agents
- security [SQL Server replication], agent security model
- Log Reader Agent, security
- Queue Reader Agent, security
- Merge Agent, security
- replication [SQL Server], agents and profiles
ms.assetid: 6d09fc8d-843a-4a7a-9812-f093d99d8192
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: da597bf97422f5a0960062b385bc0b67338edfe1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87638649"
---
# <a name="replication-agent-security-model"></a><span data-ttu-id="db589-102">복제 에이전트 보안 모델</span><span class="sxs-lookup"><span data-stu-id="db589-102">Replication Agent Security Model</span></span>
  <span data-ttu-id="db589-103">복제 에이전트 보안 모델을 사용하여 복제 에이전트를 실행 및 연결하는 계정을 세부적으로 제어할 수 있습니다. 즉, 각 에이전트에 대해 다른 계정을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-103">The replication agent security model allows for fine-grained control over the accounts under which replication agents run and make connections: A different account can be specified for each agent.</span></span> <span data-ttu-id="db589-104">계정을 지정하는 방법은 [복제의 로그인 및 암호 관리](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="db589-104">For more information about how to specify accounts, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="db589-105">**sysadmin** 고정 서버 역할의 멤버가 복제를 구성할 경우 복제 에이전트가 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에이전트 계정을 가장하도록 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-105">When a member of the **sysadmin** fixed server role configures replication, replication agents can be configured to impersonate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent account.</span></span> <span data-ttu-id="db589-106">이는 복제 에이전트의 로그인과 암호를 지정하여 수행할 수 있지만 이 방법은 사용하지 않는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-106">This is done by not specifying a login and password for a replication agent; however, we do not recommend this approach.</span></span> <span data-ttu-id="db589-107">대신 이 항목의 뒷부분에 나오는 "에이전트에 필요한 사용 권한" 섹션에서 설명하는 최소 사용 권한이 있는 각 에이전트에 대해 계정을 지정(최상의 보안 방법)하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-107">Instead, as a security best practice, we recommend that you specify an account for each agent that has the minimum permissions that are described in the section "Permissions That Are Required by Agents" later in this topic.</span></span>  
  
 <span data-ttu-id="db589-108">복제 에이전트는 모든 실행 파일처럼 Windows 계정의 컨텍스트에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-108">Replication agents, like all executables, run under the context of a Windows account.</span></span> <span data-ttu-id="db589-109">이 에이전트는 이 계정을 사용하여 Windows 통합 보안 연결을 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-109">The agents make Windows Integrated Security connections by using this account.</span></span> <span data-ttu-id="db589-110">에이전트를 실행하는 계정은 에이전트를 시작하는 방법에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="db589-110">The account under which the agent runs depends on how the agent is started:</span></span>  
  
-   <span data-ttu-id="db589-111">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에이전트 작업에서 에이전트 시작(기본값) - [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에이전트 작업을 사용하여 복제 에이전트를 시작하면 복제를 구성할 때 지정한 계정의 컨텍스트에서 에이전트가 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-111">Starting the agent from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job, the default: When a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is used to start a replication agent, the agent runs under the context of an account that you specify when you configure replication.</span></span> <span data-ttu-id="db589-112">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에이전트 및 복제에 대한 자세한 내용은 이 항목의 뒷부분에 나오는 "SQL Server 에이전트의 에이전트 보안" 섹션을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="db589-112">For more information about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent and replication, see the section "Agent Security under SQL Server Agent" later in this topic.</span></span> <span data-ttu-id="db589-113">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에이전트를 실행하는 계정에 필요한 사용 권한에 대한 자세한 내용은 [SQL Server 에이전트 구성](../../../ssms/agent/configure-sql-server-agent.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="db589-113">For information about the permissions that are required for the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent runs, see [Configure SQL Server Agent](../../../ssms/agent/configure-sql-server-agent.md).</span></span>  
  
-   <span data-ttu-id="db589-114">MS-DOS 명령줄에서 직접 또는 스크립트를 통해 에이전트 시작 - 명령줄에서 에이전트를 실행하는 사용자 계정의 컨텍스트에서 에이전트가 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-114">Starting the agent from an MS-DOS command line, either directly or through a script: The agent runs under the context of the account of the user that is running the agent at the command line.</span></span>  
  
-   <span data-ttu-id="db589-115">RMO(복제 관리 개체) 또는 ActiveX 컨트롤을 사용하는 애플리케이션에서 에이전트 시작 - RMO 또는 ActiveX 컨트롤을 호출하는 애플리케이션의 컨텍스트에서 에이전트가 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-115">Starting the agent from an application that uses Replication Management Objects (RMO) or an ActiveX control: The agent runs under the context of the application that is calling RMO or the ActiveX control.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="db589-116">ActiveX 컨트롤은 더 이상 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-116">ActiveX controls are deprecated.</span></span>  
  
 <span data-ttu-id="db589-117">Windows 통합 보안의 컨텍스트에서 연결을 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-117">We recommend that connections be made under the context of Windows Integrated Security.</span></span> <span data-ttu-id="db589-118">이전 버전과의 호환성을 위해 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 보안을 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-118">For backward compatibility, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Security can also be used.</span></span> <span data-ttu-id="db589-119">가장 적절한 방법에 대한 자세한 내용은 [Replication Security Best Practices](replication-security-best-practices.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="db589-119">For more information about best practices, see [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
## <a name="permissions-that-are-required-by-agents"></a><span data-ttu-id="db589-120">에이전트에 필요한 사용 권한</span><span class="sxs-lookup"><span data-stu-id="db589-120">Permissions That Are Required by Agents</span></span>  
 <span data-ttu-id="db589-121">에이전트를 실행 및 연결하는 계정에는 여러 가지 사용 권한이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-121">The accounts under which agents run and make connections require a variety of permissions.</span></span> <span data-ttu-id="db589-122">다음 표에서는 이러한 사용 권한에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-122">These permissions are described in the following table.</span></span> <span data-ttu-id="db589-123">각 에이전트를 다른 Windows 계정으로 실행하는 것이 좋으며 이러한 계정에는 필요한 사용 권한만 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-123">We recommend that each agent run under a different Windows account and the account should be granted only the required permissions.</span></span> <span data-ttu-id="db589-124">여러 에이전트와 관련이 있는 PAL(게시 액세스 목록)에 대한 자세한 내용은 [게시자 보안 설정](secure-the-publisher.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="db589-124">For information about the publication access list (PAL), which is relevant for a number of agents, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="db589-125">일부 Windows 운영 체제의 UAC(사용자 계정 컨트롤)에서 스냅샷 공유에 대한 관리 액세스를 거부할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-125">User Account Control (UAC) in some Windows operating systems can prevent administrative access to the snapshot share.</span></span> <span data-ttu-id="db589-126">따라서 스냅샷 에이전트, 배포 에이전트 및 병합 에이전트에서 사용하는 Windows 계정에 스냅샷 공유 권한을 명시적으로 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-126">You must therefore explicitly grant snapshot share permissions to the Windows accounts that are used by the Snapshot Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="db589-127">Windows 계정이 Administrators 그룹의 멤버인 경우에도 이 작업을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-127">You must do this even if the Windows accounts are members of the Administrators group.</span></span> <span data-ttu-id="db589-128">자세한 내용은 [스냅샷 폴더 보안 설정](secure-the-snapshot-folder.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="db589-128">For more information, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
|<span data-ttu-id="db589-129">에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-129">Agent</span></span>|<span data-ttu-id="db589-130">사용 권한</span><span class="sxs-lookup"><span data-stu-id="db589-130">Permissions</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="db589-131">스냅샷 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-131">Snapshot Agent</span></span>|<span data-ttu-id="db589-132">에이전트를 실행하는 Windows 계정을 사용하여 배포자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-132">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="db589-133">이 계정은 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-133">This account must:</span></span><br /><br /> <span data-ttu-id="db589-134">-적어도 배포 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-134">-At minimum, be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="db589-135">-스냅샷 공유에 대해 쓰기, 읽기 및 수정 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-135">-Have read, write, and modify permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="db589-136">게시자 연결에 사용되는 계정은 적어도 게시 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-136">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span>|  
|<span data-ttu-id="db589-137">로그 판독기 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-137">Log Reader Agent</span></span>|<span data-ttu-id="db589-138">에이전트를 실행하는 Windows 계정을 사용하여 배포자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-138">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="db589-139">이 계정은 적어도 배포 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-139">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="db589-140">게시자 연결에 사용되는 계정은 적어도 게시 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-140">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="db589-141">`sync_type` *Replication support only*, *initialize with backup*또는 *initialize from lsn*옵션을 선택할 때 로그 판독기 에이전트를 실행 한 후에 실행 해야 `sp_addsubscription` 설정 스크립트가 배포 데이터베이스에 기록 됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-141">When selecting the `sync_type` options *replication support only*, *initialize with backup*, or *initialize from lsn*, the log reader agent must run after executing `sp_addsubscription`, so that the set-up scripts are written to the distribution database.</span></span> <span data-ttu-id="db589-142">로그 판독기 에이전트는 **sysadmin** 고정 서버 역할의 멤버인 계정으로 실행되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-142">The log reader agent must be running under an account that is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="db589-143">`sync_type`옵션이 *자동*으로 설정 된 경우 특별 한 로그 판독기 에이전트 동작이 필요 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-143">When the `sync_type` option is set to *Automatic*, no special log reader agent actions are required.</span></span>|  
|<span data-ttu-id="db589-144">밀어넣기 구독에 대한 배포 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-144">Distribution Agent for a push subscription</span></span>|<span data-ttu-id="db589-145">에이전트를 실행하는 Windows 계정을 사용하여 배포자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-145">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="db589-146">이 계정은 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-146">This account must:</span></span><br /><br /> <span data-ttu-id="db589-147">-적어도 배포 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-147">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="db589-148">-PAL의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-148">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="db589-149">-스냅샷 공유에 대해 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-149">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="db589-150">-SQL Server 이외 구독자에 대한 구독인 경우에는 구독자용 OLE DB 공급자의 설치 디렉터리에 대해 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-150">-Have read permissions on the installation directory of the OLE DB provider for the Subscriber if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="db589-151">-LOB 데이터를 복제할 때 배포 에이전트에는 복제 **C:\Program Files\Microsoft SQL Server\XX\COMfolder** 에 대한 쓰기 권한이 있어야 합니다. 여기서 XX는 인스턴스 ID를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="db589-151">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="db589-152">구독자 연결에 사용되는 계정은 적어도 구독 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버이거나 SQL Server 이외 구독자에 대한 구독인 경우에는 동등한 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-152">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database, or have equivalent permissions if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="db589-153">참고: 배포 에이전트에서를 사용 하는 경우 `-subscriptionstreams >= 2` `View Server State` 교착 상태를 검색할 수 있도록 구독자에 대 한 권한도 부여 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-153">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="db589-154">끌어오기 구독에 대한 배포 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-154">Distribution Agent for a pull subscription</span></span>|<span data-ttu-id="db589-155">에이전트를 실행하는 Windows 계정을 사용하여 구독자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-155">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="db589-156">이 계정은 적어도 구독 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-156">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="db589-157">배포자 연결에 사용되는 계정은 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-157">The account that is used to connect to the Distributor must:</span></span><br /><br /> <span data-ttu-id="db589-158">-PAL의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-158">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="db589-159">-스냅샷 공유에 대해 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-159">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="db589-160">-LOB 데이터를 복제할 때 배포 에이전트에는 복제 **C:\Program Files\Microsoft SQL Server\XX\COMfolder** 에 대한 쓰기 권한이 있어야 합니다. 여기서 XX는 인스턴스 ID를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="db589-160">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="db589-161">참고: 배포 에이전트에서를 사용 하는 경우 `-subscriptionstreams >= 2` `View Server State` 교착 상태를 검색할 수 있도록 구독자에 대 한 권한도 부여 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-161">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="db589-162">밀어넣기 구독에 대한 병합 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-162">Merge Agent for a push subscription</span></span>|<span data-ttu-id="db589-163">에이전트를 실행하는 Windows 계정을 사용하여 게시자 및 배포자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-163">The Windows account under which the agent runs is used when it makes connections to the Publisher and Distributor.</span></span> <span data-ttu-id="db589-164">이 계정은 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-164">This account must:</span></span><br /><br /> <span data-ttu-id="db589-165">-적어도 배포 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-165">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="db589-166">-PAL의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-166">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="db589-167">-게시 데이터베이스의 사용자와 연결된 로그인이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-167">-Be a login that is associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="db589-168">-스냅샷 공유에 대해 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-168">-Have read permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="db589-169">구독자 연결에 사용되는 계정은 적어도 구독 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-169">The account used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
|<span data-ttu-id="db589-170">끌어오기 구독에 대한 병합 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-170">Merge Agent for a pull subscription</span></span>|<span data-ttu-id="db589-171">에이전트를 실행하는 Windows 계정을 사용하여 구독자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-171">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="db589-172">이 계정은 적어도 구독 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-172">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="db589-173">게시자 및 배포자 연결에 사용되는 계정은 다음과 같아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-173">The account that is used to connect to the Publisher and Distributor must:</span></span><br /><br /> <span data-ttu-id="db589-174">-PAL의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-174">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="db589-175">-게시 데이터베이스의 사용자와 연결된 로그인이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-175">-Be a login associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="db589-176">-배포 데이터베이스의 사용자와 연결된 로그인이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-176">-Be a login associated with a user in the distribution database.</span></span> <span data-ttu-id="db589-177">이 사용자는 `Guest` 사용자일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-177">The user can be the `Guest` user.</span></span><br /><br /> <span data-ttu-id="db589-178">-스냅샷 공유에 대해 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-178">-Have read permissions on the snapshot share.</span></span>|  
|<span data-ttu-id="db589-179">큐 판독기 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-179">Queue Reader Agent</span></span>|<span data-ttu-id="db589-180">에이전트를 실행하는 Windows 계정을 사용하여 배포자에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-180">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="db589-181">이 계정은 적어도 배포 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-181">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="db589-182">게시자 연결에 사용되는 계정은 적어도 게시 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-182">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="db589-183">구독자 연결에 사용되는 계정은 적어도 구독 데이터베이스에 포함된 **db_owner** 고정 데이터베이스 역할의 멤버여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-183">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
  
## <a name="agent-security-under-sql-server-agent"></a><span data-ttu-id="db589-184">SQL Server 에이전트의 에이전트 보안</span><span class="sxs-lookup"><span data-stu-id="db589-184">Agent Security Under SQL Server Agent</span></span>  
 <span data-ttu-id="db589-185">[!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] 프로시저 또는 RMO를 사용하여 복제를 구성하면 기본적으로 각 에이전트에 대해 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에이전트 작업이 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-185">When you configure replication by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] procedures, or RMO, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is created by default for each agent.</span></span> <span data-ttu-id="db589-186">그런 다음 계속, 일정대로 또는 요청 시 실행되는지 여부에 관계없이 에이전트가 작업 단계의 컨텍스트에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-186">Agents then run under the context of a job step, regardless of whether they run continuously, on a schedule, or on demand.</span></span> <span data-ttu-id="db589-187">**의** 작업 [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]폴더에서 이러한 작업을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="db589-187">You can view these jobs under the **Jobs** folder in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="db589-188">다음 표에서는 작업 이름을 나열합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-188">The following table lists the job names.</span></span>  
  
|<span data-ttu-id="db589-189">에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-189">Agent</span></span>|<span data-ttu-id="db589-190">작업 이름</span><span class="sxs-lookup"><span data-stu-id="db589-190">Job name</span></span>|  
|-----------|--------------|  
|<span data-ttu-id="db589-191">스냅샷 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-191">Snapshot Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<integer>**|  
|<span data-ttu-id="db589-192">병합 게시 파티션에 대한 스냅샷 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-192">Snapshot Agent for a merge publication partition</span></span>|<span data-ttu-id="db589-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span><span class="sxs-lookup"><span data-stu-id="db589-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span></span>|  
|<span data-ttu-id="db589-194">로그 판독기 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-194">Log Reader Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<integer>**|  
|<span data-ttu-id="db589-195">끌어오기 구독에 대한 병합 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-195">Merge Agent for pull subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<integer>**|  
|<span data-ttu-id="db589-196">밀어넣기 구독에 대한 병합 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-196">Merge Agent for push subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="db589-197">밀어넣기 구독에 대한 배포 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-197">Distribution Agent for push subscriptions</span></span>|<span data-ttu-id="db589-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="db589-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span></span>|  
|<span data-ttu-id="db589-199">끌어오기 구독에 대한 배포 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-199">Distribution Agent for pull subscriptions</span></span>|<span data-ttu-id="db589-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="db589-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span></span>|  
|<span data-ttu-id="db589-201">SQL Server 이외 구독자의 밀어넣기 구독에 대한 배포 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-201">Distribution Agent for push subscriptions to non-SQL Server Subscribers</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="db589-202">큐 판독기 에이전트</span><span class="sxs-lookup"><span data-stu-id="db589-202">Queue Reader Agent</span></span>|<span data-ttu-id="db589-203">**[\<Distributor>].\<integer>**</span><span class="sxs-lookup"><span data-stu-id="db589-203">**[\<Distributor>].\<integer>**</span></span>|  
  
 <span data-ttu-id="db589-204"><sup>1</sup> Oracle 게시에 대 한 밀어넣기 구독의 경우 작업 이름은 대신 \* \*입니다 \<Publisher> - \<Publisher**> **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="db589-204"><sup>1</sup> For push subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<Publisher**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="db589-205"><sup>2</sup> Oracle 게시에 대 한 끌어오기 구독의 경우 작업 이름은 대신 \* \*입니다 \<Publisher> - \<DistributionDatabase**> **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="db589-205"><sup>2</sup> For pull subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<DistributionDatabase**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="db589-206">복제를 구성할 때는 에이전트를 실행해야 하는 계정을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-206">When you configure replication, you specify accounts under which agents should run.</span></span> <span data-ttu-id="db589-207">그러나 모든 작업 단계는 *프록시*의 보안 컨텍스트에서 실행되므로 복제는 사용자가 지정하는 에이전트 계정에 대해 다음 매핑을 내부적으로 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-207">However, all job steps run under the security context of a *proxy*; therefore, replication performs the following mappings internally for the agent accounts that you specify:</span></span>  
  
-   <span data-ttu-id="db589-208">[!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) 문을 사용하여 계정이 자격 증명에 먼저 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-208">The account is first mapped to a credential by using the [!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) statement.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="db589-209">에이전트 프록시는 자격 증명을 사용하여 Windows 사용자 계정에 대한 정보를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="db589-209">Agent proxies use credentials to store information about Windows user accounts.</span></span>  
  
-   <span data-ttu-id="db589-210">[sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) 저장 프로시저가 호출되고 자격 증명을 사용하여 프록시가 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-210">The [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) stored procedure is called, and the credential is used to create a proxy..</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="db589-211">이 정보는 적절한 보안 컨텍스트로 에이전트를 실행하는 작업과 관련된 사항을 이해하는 데 도움을 주기 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="db589-211">This information is provided to help you understand what is involved in running agents with the appropriate security context.</span></span> <span data-ttu-id="db589-212">이미 생성된 자격 증명이나 프록시와는 직접 상호 작용하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="db589-212">You should not have to interact directly with the credentials or proxies that have been created.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="db589-213">참고 항목</span><span class="sxs-lookup"><span data-stu-id="db589-213">See Also</span></span>  
 <span data-ttu-id="db589-214">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="db589-214">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 <span data-ttu-id="db589-215">[SQL Server 복제 보안](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="db589-215">[SQL Server Replication Security](view-and-modify-replication-security-settings.md) </span></span>  
 [<span data-ttu-id="db589-216">스냅샷 폴더 보안 설정</span><span class="sxs-lookup"><span data-stu-id="db589-216">Secure the Snapshot Folder</span></span>](secure-the-snapshot-folder.md)  
  
  
