---
title: 유효성 검사 없이 암호화 사용 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- data access [SQL Server Native Client], encryption
- cryptography [SQL Server Native Client]
- SQLNCLI, encryption
- encryption [SQL Server Native Client]
- SQL Server Native Client, encryption
ms.assetid: f4c63206-80bb-4d31-84ae-ccfcd563effa
author: rothja
ms.author: jroth
ms.openlocfilehash: 0a6d2e8b3d696a92e3fa3e1b7de7604551d4f9ce
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87647655"
---
# <a name="using-encryption-without-validation"></a><span data-ttu-id="a60f9-102">유효성 검사 없이 암호화 사용</span><span class="sxs-lookup"><span data-stu-id="a60f9-102">Using Encryption Without Validation</span></span>
  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="a60f9-103">에서는 로그인과 관련한 네트워크 패킷이 항상 암호화됩니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-103">always encrypts network packets associated with logging in.</span></span> <span data-ttu-id="a60f9-104">서버를 시작할 때 제공된 인증서가 없으면 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]가 로그인 패킷을 암호화하는 데 사용할 자체 서명된 인증서를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-104">If no certificate has been provisioned on the server when it starts up, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] generates a self-signed certificate which is used to encrypt login packets.</span></span>  
  
 <span data-ttu-id="a60f9-105">애플리케이션에 따라 연결 문자열 키워드나 연결 속성을 사용하여 모든 네트워크 트래픽을 암호화해야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-105">Applications may also request encryption of all network traffic by using connection string keywords or connection properties.</span></span> <span data-ttu-id="a60f9-106">키워드는 **IDbInitialize:: Initialize**를 사용 하 여 공급자 문자열을 사용 하는 경우, **IDataInitialize**과 함께 초기화 문자열을 사용 하는 경우 ADO 및 OLE DB에서 "데이터 암호화 사용"을 사용 하는 경우에는 OLE DB ODBC의 "Encrypt"입니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-106">The keywords are "Encrypt" for ODBC and OLE DB when using a provider string with **IDbInitialize::Initialize**, or "Use Encryption for Data" for ADO and OLE DB when using an initialization string with **IDataInitialize**.</span></span> <span data-ttu-id="a60f9-107">이는 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager **프로토콜 암호화 강제** 사용 옵션을 사용 하 여 구성할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-107">This may also be configured by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager using the **Force Protocol Encryption** option.</span></span> <span data-ttu-id="a60f9-108">기본적으로 연결의 모든 네트워크 트래픽을 암호화하려면 서버에 인증서를 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-108">By default, encryption of all network traffic for a connection requires that a certificate be provisioned on the server.</span></span>  
  
 <span data-ttu-id="a60f9-109">연결 문자열 키워드에 대 한 자세한 내용은 [SQL Server Native Client 연결 문자열 키워드 사용](../applications/using-connection-string-keywords-with-sql-server-native-client.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="a60f9-109">For information about connection string keywords, see [Using Connection String Keywords with SQL Server Native Client](../applications/using-connection-string-keywords-with-sql-server-native-client.md).</span></span>  
  
 <span data-ttu-id="a60f9-110">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager에서 **프로토콜 암호화 강제 사용** 및 **서버 인증서 신뢰** 옵션을 모두 설정하면 서버에 인증서가 제공되지 않은 경우에도 암호화를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-110">To enable encryption to be used when a certificate has not been provisioned on the server, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager can be used to set both the **Force Protocol Encryption** and the **Trust Server Certificate** options.</span></span> <span data-ttu-id="a60f9-111">이 경우 확인할 수 있는 인증서가 서버에 제공되지 않으면 유효성 검사 없이 자체 서명된 서버 인증서가 암호화에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-111">In this case, encryption will use a self-signed server certificate without validation if no verifiable certificate has been provisioned on the server.</span></span>  
  
 <span data-ttu-id="a60f9-112">애플리케이션에서 &quot;TrustServerCertificate&quot; 키워드 또는 이 키워드의 관련 연결 특성을 사용하여 암호화를 보장할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-112">Applications may also use the "TrustServerCertificate" keyword or its associated connection attribute to guarantee that encryption takes place.</span></span> <span data-ttu-id="a60f9-113">애플리케이션 설정으로 인해 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 클라이언트 구성 관리자에서 설정한 보안 수준이 낮아지지는 않지만 더 강화될 수는 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-113">Application settings never reduce the level of security set by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Client Configuration Manager, but may strengthen it.</span></span> <span data-ttu-id="a60f9-114">예를 들어 클라이언트에 대해 **프로토콜 암호화 강제 사용** 옵션을 설정하지 않았지만 애플리케이션 자체에서 암호화를 요청할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-114">For example, if **Force Protocol Encryption** is not set for the client, an application may request encryption itself.</span></span> <span data-ttu-id="a60f9-115">또한 서버 인증서가 제공되지 않은 경우에도 암호화를 보장할 수 있도록 애플리케이션에서 암호화 및 &quot;TrustServerCertificate&quot;를 요청할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-115">To guarantee encryption even when a server certificate has not been provisioned, an application may request encryption and "TrustServerCertificate".</span></span> <span data-ttu-id="a60f9-116">그러나 클라이언트 구성에 "TrustServerCertificate"가 설정되어 있지 않은 경우에는 제공된 서버 인증서가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-116">However, if "TrustServerCertificate" is not enabled in the client configuration, a provisioned server certificate is still required.</span></span> <span data-ttu-id="a60f9-117">다음 표에서는 이러한 모든 경우에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-117">The following table describes all cases:</span></span>  
  
|<span data-ttu-id="a60f9-118">프로토콜 암호화 강제 사용 클라이언트 설정</span><span class="sxs-lookup"><span data-stu-id="a60f9-118">Force Protocol Encryption client setting</span></span>|<span data-ttu-id="a60f9-119">서버 인증서 신뢰 클라이언트 설정</span><span class="sxs-lookup"><span data-stu-id="a60f9-119">Trust Server Certificate client setting</span></span>|<span data-ttu-id="a60f9-120">연결 문자열/연결 특성 Encrypt/Use Encryption for Data</span><span class="sxs-lookup"><span data-stu-id="a60f9-120">Connection string/connection attribute Encrypt/Use Encryption for Data</span></span>|<span data-ttu-id="a60f9-121">연결 문자열/연결 특성 서버 인증서 신뢰</span><span class="sxs-lookup"><span data-stu-id="a60f9-121">Connection string/connection attribute Trust Server Certificate</span></span>|<span data-ttu-id="a60f9-122">결과</span><span class="sxs-lookup"><span data-stu-id="a60f9-122">Result</span></span>|  
|----------------------------------------------|---------------------------------------------|------------------------------------------------------------------------------|----------------------------------------------------------------------|------------|  
|<span data-ttu-id="a60f9-123">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-123">No</span></span>|<span data-ttu-id="a60f9-124">해당 없음</span><span class="sxs-lookup"><span data-stu-id="a60f9-124">N/A</span></span>|<span data-ttu-id="a60f9-125">아니요(기본값)</span><span class="sxs-lookup"><span data-stu-id="a60f9-125">No (default)</span></span>|<span data-ttu-id="a60f9-126">무시됨</span><span class="sxs-lookup"><span data-stu-id="a60f9-126">Ignored</span></span>|<span data-ttu-id="a60f9-127">암호화가 수행되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-127">No encryption occurs.</span></span>|  
|<span data-ttu-id="a60f9-128">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-128">No</span></span>|<span data-ttu-id="a60f9-129">해당 없음</span><span class="sxs-lookup"><span data-stu-id="a60f9-129">N/A</span></span>|<span data-ttu-id="a60f9-130">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-130">Yes</span></span>|<span data-ttu-id="a60f9-131">아니요(기본값)</span><span class="sxs-lookup"><span data-stu-id="a60f9-131">No (default)</span></span>|<span data-ttu-id="a60f9-132">확인할 수 있는 서버 인증서가 있는 경우에만 암호화가 수행되고 그렇지 않으면 연결 시도가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-132">Encryption occurs only if there is a verifiable server certificate, otherwise the connection attempt fails.</span></span>|  
|<span data-ttu-id="a60f9-133">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-133">No</span></span>|<span data-ttu-id="a60f9-134">해당 없음</span><span class="sxs-lookup"><span data-stu-id="a60f9-134">N/A</span></span>|<span data-ttu-id="a60f9-135">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-135">Yes</span></span>|<span data-ttu-id="a60f9-136">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-136">Yes</span></span>|<span data-ttu-id="a60f9-137">항상 암호화가 수행되지만 자체 서명된 서버 인증서가 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-137">Encryption always occurs, but may use a self-signed server certificate.</span></span>|  
|<span data-ttu-id="a60f9-138">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-138">Yes</span></span>|<span data-ttu-id="a60f9-139">아니요</span><span class="sxs-lookup"><span data-stu-id="a60f9-139">No</span></span>|<span data-ttu-id="a60f9-140">무시됨</span><span class="sxs-lookup"><span data-stu-id="a60f9-140">Ignored</span></span>|<span data-ttu-id="a60f9-141">무시됨</span><span class="sxs-lookup"><span data-stu-id="a60f9-141">Ignored</span></span>|<span data-ttu-id="a60f9-142">확인할 수 있는 서버 인증서가 있는 경우에만 암호화가 수행되고 그렇지 않으면 연결 시도가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-142">Encryption occurs only if there is a verifiable server certificate, otherwise the connection attempt fails.</span></span>|  
|<span data-ttu-id="a60f9-143">yes</span><span class="sxs-lookup"><span data-stu-id="a60f9-143">Yes</span></span>|<span data-ttu-id="a60f9-144">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-144">Yes</span></span>|<span data-ttu-id="a60f9-145">아니요(기본값)</span><span class="sxs-lookup"><span data-stu-id="a60f9-145">No (default)</span></span>|<span data-ttu-id="a60f9-146">무시됨</span><span class="sxs-lookup"><span data-stu-id="a60f9-146">Ignored</span></span>|<span data-ttu-id="a60f9-147">항상 암호화가 수행되지만 자체 서명된 서버 인증서가 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-147">Encryption always occurs, but may use a self-signed server certificate.</span></span>|  
|<span data-ttu-id="a60f9-148">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-148">Yes</span></span>|<span data-ttu-id="a60f9-149">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-149">Yes</span></span>|<span data-ttu-id="a60f9-150">yes</span><span class="sxs-lookup"><span data-stu-id="a60f9-150">Yes</span></span>|<span data-ttu-id="a60f9-151">아니요(기본값)</span><span class="sxs-lookup"><span data-stu-id="a60f9-151">No (default)</span></span>|<span data-ttu-id="a60f9-152">확인할 수 있는 서버 인증서가 있는 경우에만 암호화가 수행되고 그렇지 않으면 연결 시도가 실패합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-152">Encryption occurs only if there is a verifiable server certificate, otherwise the connection attempt fails.</span></span>|  
|<span data-ttu-id="a60f9-153">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-153">Yes</span></span>|<span data-ttu-id="a60f9-154">예</span><span class="sxs-lookup"><span data-stu-id="a60f9-154">Yes</span></span>|<span data-ttu-id="a60f9-155">yes</span><span class="sxs-lookup"><span data-stu-id="a60f9-155">Yes</span></span>|<span data-ttu-id="a60f9-156">yes</span><span class="sxs-lookup"><span data-stu-id="a60f9-156">Yes</span></span>|<span data-ttu-id="a60f9-157">항상 암호화가 수행되지만 자체 서명된 서버 인증서가 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-157">Encryption always occurs, but might use a self-signed server certificate.</span></span>|  
  
## <a name="sql-server-native-client-ole-db-provider"></a><span data-ttu-id="a60f9-158">SQL Server Native Client OLE DB 공급자</span><span class="sxs-lookup"><span data-stu-id="a60f9-158">SQL Server Native Client OLE DB Provider</span></span>  
 <span data-ttu-id="a60f9-159">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]Native Client OLE DB 공급자는 DBPROPSET_SQLSERVERDBINIT 속성 집합에서 구현 된 SSPROP_INIT_TRUST_SERVER_CERTIFICATE 데이터 원본 초기화 속성을 추가 하 여 유효성 검사 없이 암호화를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-159">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client OLE DB provider supports encryption without validation through the addition of the SSPROP_INIT_TRUST_SERVER_CERTIFICATE data source initialization property, which is implemented in the DBPROPSET_SQLSERVERDBINIT property set.</span></span> <span data-ttu-id="a60f9-160">또한 "TrustServerCertificate"라는 새로운 연결 문자열 키워드가 추가되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-160">In addition, a new connection string keyword, "TrustServerCertificate", as been added.</span></span> <span data-ttu-id="a60f9-161">이 문자열 키워드는 예 또는 아니요 값을 받으며, 기본값은 아니요입니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-161">It accepts yes or no values; no is the default.</span></span> <span data-ttu-id="a60f9-162">서비스 구성 요소를 사용하는 경우에는 True 또는 False 값을 받으며, 기본값은 False입니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-162">When using service components, it accepts true or false values; false is the default.</span></span>  
  
 <span data-ttu-id="a60f9-163">DBPROPSET_SQLSERVERDBINIT 속성 집합의 향상된 기능에 대한 자세한 내용은 [초기화 및 권한 부여 속성](../../native-client-ole-db-data-source-objects/initialization-and-authorization-properties.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="a60f9-163">For more information about enhancements made to the DBPROPSET_SQLSERVERDBINIT property set, see [Initialization and Authorization Properties](../../native-client-ole-db-data-source-objects/initialization-and-authorization-properties.md).</span></span>  
  
## <a name="sql-server-native-client-odbc-driver"></a><span data-ttu-id="a60f9-164">SQL Server Native Client ODBC 드라이버</span><span class="sxs-lookup"><span data-stu-id="a60f9-164">SQL Server Native Client ODBC Driver</span></span>  
 <span data-ttu-id="a60f9-165">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]Native CLIENT ODBC 드라이버는 [SQLSetConnectAttr](../../native-client-odbc-api/sqlsetconnectattr.md) 및 [SQLGetConnectAttr](../../native-client-odbc-api/sqlgetconnectattr.md) 함수를 추가 하 여 유효성 검사 없이 암호화를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-165">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client ODBC driver supports encryption without validation through additions to the [SQLSetConnectAttr](../../native-client-odbc-api/sqlsetconnectattr.md) and [SQLGetConnectAttr](../../native-client-odbc-api/sqlgetconnectattr.md) functions.</span></span> <span data-ttu-id="a60f9-166">SQL_TRUST_SERVER_CERTIFICATE_YES 또는 SQL_TRUST_SERVER_CERTIFICATE_NO를 받는 SQL_COPT_SS_TRUST_SERVER_CERTIFICATE가 추가되었습니다. 기본값은 SQL_TRUST_SERVER_CERTIFICATE_NO입니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-166">SQL_COPT_SS_TRUST_SERVER_CERTIFICATE has been added to accept either SQL_TRUST_SERVER_CERTIFICATE_YES or SQL_TRUST_SERVER_CERTIFICATE_NO, with SQL_TRUST_SERVER_CERTIFICATE_NO being the default.</span></span> <span data-ttu-id="a60f9-167">또한 "TrustServerCertificate"라는 새로운 연결 문자열 키워드가 추가되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-167">In addition, a new connection string keyword, "TrustServerCertificate", has been added.</span></span> <span data-ttu-id="a60f9-168">이 문자열 키워드는 예 또는 아니요 값을 받으며, 기본값은 "아니요"입니다.</span><span class="sxs-lookup"><span data-stu-id="a60f9-168">It accepts yes or no values; "no" is the default.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a60f9-169">참고 항목</span><span class="sxs-lookup"><span data-stu-id="a60f9-169">See Also</span></span>  
 [<span data-ttu-id="a60f9-170">SQL Server Native Client 기능</span><span class="sxs-lookup"><span data-stu-id="a60f9-170">SQL Server Native Client Features</span></span>](sql-server-native-client-features.md)  
  
  
