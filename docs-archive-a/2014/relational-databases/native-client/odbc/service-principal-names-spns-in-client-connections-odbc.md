---
title: 클라이언트 연결 (ODBC)의 Spn (서비스 사용자 이름) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
ms.assetid: 1d60cb30-4c46-49b2-89ab-701e77a330a2
author: rothja
ms.author: jroth
ms.openlocfilehash: 752cbdbf017fac6d086b9493c23ea7a490ac6ef7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87734031"
---
# <a name="service-principal-names-spns-in-client-connections-odbc"></a><span data-ttu-id="69b16-102">클라이언트 연결(ODBC)의 SPN(서비스 사용자 이름)</span><span class="sxs-lookup"><span data-stu-id="69b16-102">Service Principal Names (SPNs) in Client Connections (ODBC)</span></span>
  <span data-ttu-id="69b16-103">이 항목에서는 클라이언트 애플리케이션의 SPN(서비스 사용자 이름)을 지원하는 ODBC 특성 및 함수에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-103">This topic describes ODBC attributes and functions that support service principal names (SPNs) in client applications.</span></span> <span data-ttu-id="69b16-104">클라이언트 응용 프로그램의 Spn에 대 한 자세한 내용은 [서비스 사용자 이름 &#40;spn&#41; 클라이언트 연결에서 지원](../features/service-principal-name-spn-support-in-client-connections.md) 및 [상호 Kerberos 인증 가져오기](../../native-client-odbc-how-to/get-mutual-kerberos-authentication.md)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="69b16-104">For more information about SPNs in client applications, see [Service Principal Name &#40;SPN&#41; Support in Client Connections](../features/service-principal-name-spn-support-in-client-connections.md) and [Get Mutual Kerberos Authentication](../../native-client-odbc-how-to/get-mutual-kerberos-authentication.md).</span></span>  
  
## <a name="connection-string-keywords"></a><span data-ttu-id="69b16-105">연결 문자열 키워드</span><span class="sxs-lookup"><span data-stu-id="69b16-105">Connection String Keywords</span></span>  
 <span data-ttu-id="69b16-106">클라이언트 애플리케이션은 다음 연결 문자열 키워드를 사용하여 SPN을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-106">The following connection string keywords enable client applications to specify an SPN.</span></span>  
  
|<span data-ttu-id="69b16-107">키워드</span><span class="sxs-lookup"><span data-stu-id="69b16-107">Keyword</span></span>|<span data-ttu-id="69b16-108">값</span><span class="sxs-lookup"><span data-stu-id="69b16-108">Value</span></span>|  
|-------------|-----------|  
|`ServerSPN`|<span data-ttu-id="69b16-109">서버의 SPN입니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-109">The SPN for the server.</span></span> <span data-ttu-id="69b16-110">기본값은 빈 문자열이며 이 경우 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client는 드라이버에서 생성한 기본 SPN을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-110">The default value is an empty string, which causes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client to use the default, driver-generated SPN.</span></span>|  
|`FailoverPartnerSPN`|<span data-ttu-id="69b16-111">장애 조치(failover) 파트너의 SPN입니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-111">The SPN for the failover partner.</span></span> <span data-ttu-id="69b16-112">기본값은 빈 문자열이며 이 경우 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client는 드라이버에서 생성한 기본 SPN을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-112">The default value is an empty string, which causes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client to use the default, driver-generated SPN.</span></span>|  
  
## <a name="connection-attributes"></a><span data-ttu-id="69b16-113">연결 특성</span><span class="sxs-lookup"><span data-stu-id="69b16-113">Connection Attributes</span></span>  
 <span data-ttu-id="69b16-114">클라이언트 애플리케이션은 다음 연결 특성을 사용하여 SPN을 지정하고 인증 방법을 쿼리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-114">The following connection attributes enable client applications to specify an SPN and query for the authentication method.</span></span>  
  
|<span data-ttu-id="69b16-115">Name</span><span class="sxs-lookup"><span data-stu-id="69b16-115">Name</span></span>|<span data-ttu-id="69b16-116">Type</span><span class="sxs-lookup"><span data-stu-id="69b16-116">Type</span></span>|<span data-ttu-id="69b16-117">사용량</span><span class="sxs-lookup"><span data-stu-id="69b16-117">Usage</span></span>|  
|----------|----------|-----------|  
|<span data-ttu-id="69b16-118">SQL_COPT_SS_SERVER_SPN</span><span class="sxs-lookup"><span data-stu-id="69b16-118">SQL_COPT_SS_SERVER_SPN</span></span><br /><br /> <span data-ttu-id="69b16-119">SQL_COPT_SS_FAILOVER_PARTNER_SPN</span><span class="sxs-lookup"><span data-stu-id="69b16-119">SQL_COPT_SS_FAILOVER_PARTNER_SPN</span></span>|<span data-ttu-id="69b16-120">SQLTCHAR, 읽기/쓰기</span><span class="sxs-lookup"><span data-stu-id="69b16-120">SQLTCHAR, read/write</span></span>|<span data-ttu-id="69b16-121">서버의 SPN을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-121">Specifies the SPN for the server.</span></span> <span data-ttu-id="69b16-122">기본값은 빈 문자열이며 이 경우 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client는 드라이버에서 생성한 기본 SPN을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-122">The default value is an empty string, which causes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client to use the default, driver-generated SPN.</span></span><br /><br /> <span data-ttu-id="69b16-123">이 특성은 프로그래밍 방식으로 설정된 후 또는 연결이 열린 후에만 쿼리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-123">This attribute can be queried only after it has been set programmatically, or after a connection has been opened.</span></span> <span data-ttu-id="69b16-124">열려 있지 않은 연결에서 이 특성을 쿼리하거나 특성이 프로그래밍 방식으로 설정되지 않은 경우 SQL_ERROR가 반환되고 SQLState 08003 및 "연결을 열 수 없습니다"라는 메시지가 표시되며 진단 레코드가 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-124">If an attempt is made to query this attribute on a connection that is not open and the attribute has not been set programmatically, SQL_ERROR is returned, and a diagnostic record is logged with SQLState 08003 and the message "Connection not open".</span></span><br /><br /> <span data-ttu-id="69b16-125">연결이 열려 있을 때 이 특성을 설정하려고 하면 SQL_ERROR가 반환되고 SQLState HY011 및 "현재 작업이 잘못되었습니다"라는 메시지가 표시되며 진단 레코드가 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-125">If an attempt is made to set this attribute when a connection is open, SQL_ERROR is returned, and a diagnostic record is logged with SQLState HY011 and the message "Operation invalid at this time".</span></span>|  
|<span data-ttu-id="69b16-126">SQL_COPT_SS_INTEGRATED_AUTHENTICATION_METHOD</span><span class="sxs-lookup"><span data-stu-id="69b16-126">SQL_COPT_SS_INTEGRATED_AUTHENTICATION_METHOD</span></span>|<span data-ttu-id="69b16-127">SQLTCHAR, 읽기 전용</span><span class="sxs-lookup"><span data-stu-id="69b16-127">SQLTCHAR, read-only</span></span>|<span data-ttu-id="69b16-128">연결에 사용된 인증 방법을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-128">Returns the authentication method used for the connection.</span></span> <span data-ttu-id="69b16-129">애플리케이션으로 반환되는 값은 Windows에서 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client로 반환하는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-129">The value returned to the application is the value that Windows returns to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client.</span></span> <span data-ttu-id="69b16-130">가능한 값은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-130">Possible values are:</span></span><br /><br /> <span data-ttu-id="69b16-131">-"NTLM"-NTLM 인증을 사용 하 여 연결을 열 때 반환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-131">-   "NTLM", which is returned when a connection is opened using NTLM authentication.</span></span><br /><span data-ttu-id="69b16-132">-"Kerberos"-Kerberos 인증을 사용 하 여 연결을 열 때 반환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-132">-   "Kerberos", which is returned when a connection is opened using Kerberos authentication.</span></span><br /><br /> <span data-ttu-id="69b16-133">이 특성은 Windows 인증을 사용하여 열린 연결에 대해서만 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-133">This attribute can only be read for an open connection that used Windows Authentication.</span></span> <span data-ttu-id="69b16-134">연결이 열리기 전에 이 특성을 읽으려고 하면 SQL_ERROR가 반환되고 SQLState 08003 및 "연결을 열 수 없습니다"라는 메시지가 표시되며 오류가 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-134">If an attempt is made to read it before a connection has been opened, SQL_ERROR is returned, and an error is logged with SQLState 08003 and the message "Connection not open".</span></span><br /><br /> <span data-ttu-id="69b16-135">Windows 인증을 사용하지 않은 연결에서 이 특성을 쿼리하면 SQL_ERROR가 반환되고 SQLState HY092 및 "잘못된 특성/옵션 식별자입니다(SQL_COPT_SS_INTEGRATED_AUTHENTICATION_METHOD는 트러스트된 연결에만 사용할 수 있음)"라는 메시지가 표시되며 오류가 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-135">If this attribute is queried on a connection that did not use Windows Authentication, SQL_ERROR is returned, and an error is logged with SQLState HY092 and the message "Invalid attribute/option identifier (SQL_COPT_SS_INTEGRATED_AUTHENTICATION_METHOD is only available for Trusted Connections)".</span></span><br /><br /> <span data-ttu-id="69b16-136">인증 방법을 확인할 수 없는 경우 SQL_ERROR가 반환되고 SQLState HY000 및 "일반 오류"라는 메시지가 표시되며 오류가 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-136">If the authentication method cannot be determined, SQL_ERROR is returned, and an error is logged with SQLState HY000 and the message "General error".</span></span>|  
|<span data-ttu-id="69b16-137">SQL_COPT_SS_MUTUALLY_AUTHENTICATED</span><span class="sxs-lookup"><span data-stu-id="69b16-137">SQL_COPT_SS_MUTUALLY_AUTHENTICATED</span></span>|<span data-ttu-id="69b16-138">SQLSMALLINT, 읽기 전용</span><span class="sxs-lookup"><span data-stu-id="69b16-138">SQLSMALLINT, read-only</span></span>|<span data-ttu-id="69b16-139">연결의 서버가 상호 인증되면 SQL_TRUE를 반환하고, 그렇지 않으면 SQL_FALSE를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-139">Returns SQL_TRUE if the server in the connection was mutually authenticated; otherwise, returns SQL_FALSE.</span></span><br /><br /> <span data-ttu-id="69b16-140">이 특성은 열린 연결에 대해서만 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-140">This attribute can only be read for an open connection.</span></span> <span data-ttu-id="69b16-141">연결이 열리기 전에 이 특성을 읽으려고 하면 SQL_ERROR가 반환되고 SQLState 08003 및 "연결을 열 수 없습니다"라는 메시지가 표시되며 오류가 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-141">If an attempt is made to read it before a connection has been opened, SQL_ERROR is returned, and an error is logged with SQLState 08003 and the message "Connection not open".</span></span><br /><br /> <span data-ttu-id="69b16-142">Windows 인증을 사용하지 않은 연결에 대해 이 특성을 쿼리하면 SQL_FALSE가 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-142">If this attribute is queried for a connection that did not use Windows Authentication, SQL_FALSE is returned.</span></span>|  
  
## <a name="odbc-function-support-for-specifying-spns"></a><span data-ttu-id="69b16-143">SPN 지정에 대한 ODBC 함수 지원</span><span class="sxs-lookup"><span data-stu-id="69b16-143">ODBC Function Support for Specifying SPNs</span></span>  
 <span data-ttu-id="69b16-144">다음 ODBC 함수는 클라이언트 애플리케이션 및 SPN을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="69b16-144">The following ODBC functions support client applications and SPNs:</span></span>  
  
-   [<span data-ttu-id="69b16-145">SQLBrowseConnect</span><span class="sxs-lookup"><span data-stu-id="69b16-145">SQLBrowseConnect</span></span>](../../native-client-odbc-api/sqlbrowseconnect.md)  
  
-   [<span data-ttu-id="69b16-146">SQLConnect</span><span class="sxs-lookup"><span data-stu-id="69b16-146">SQLConnect</span></span>](../../native-client-odbc-api/sqlconnect.md)  
  
-   [<span data-ttu-id="69b16-147">SQLDriverConnect</span><span class="sxs-lookup"><span data-stu-id="69b16-147">SQLDriverConnect</span></span>](../../native-client-odbc-api/sqldriverconnect.md)  
  
-   [<span data-ttu-id="69b16-148">SQLGetConnectAttr</span><span class="sxs-lookup"><span data-stu-id="69b16-148">SQLGetConnectAttr</span></span>](../../native-client-odbc-api/sqlgetconnectattr.md)  
  
-   [<span data-ttu-id="69b16-149">SQLSetConnectAttr</span><span class="sxs-lookup"><span data-stu-id="69b16-149">SQLSetConnectAttr</span></span>](../../native-client-odbc-api/sqlsetconnectattr.md)  
  
## <a name="see-also"></a><span data-ttu-id="69b16-150">참고 항목</span><span class="sxs-lookup"><span data-stu-id="69b16-150">See Also</span></span>  
 [<span data-ttu-id="69b16-151">SQL Server Native Client &#40;ODBC&#41;</span><span class="sxs-lookup"><span data-stu-id="69b16-151">SQL Server Native Client &#40;ODBC&#41;</span></span>](sql-server-native-client-odbc.md)  
  
  
