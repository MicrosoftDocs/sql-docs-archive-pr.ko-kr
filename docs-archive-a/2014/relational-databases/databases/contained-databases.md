---
title: 포함된 데이터베이스 | Microsoft 문서
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- contained database
- database_uncontained_usage event
- partially contained database
- contained database, understanding
ms.assetid: 36af59d7-ce96-4a02-8598-ffdd78cdc948
author: stevestein
ms.author: sstein
ms.openlocfilehash: 3efd231a1aa4d2b348bcfe887bd05825fcd40c90
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87734140"
---
# <a name="contained-databases"></a><span data-ttu-id="b9b80-102">포함된 데이터베이스</span><span class="sxs-lookup"><span data-stu-id="b9b80-102">Contained Databases</span></span>
  <span data-ttu-id="b9b80-103">*포함된 데이터베이스* 는 다른 데이터베이스 및 해당 데이터베이스를 호스팅하는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스에서 격리된 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-103">A*contained database* is a database that is isolated from other databases and from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that hosts the database.</span></span>  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="b9b80-104">를 사용하여 인스턴스에서 데이터베이스를 격리하는 방법은 네 가지가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-104">helps user to isolate their database from the instance in 4 ways.</span></span>  
  
-   <span data-ttu-id="b9b80-105">데이터베이스를 설명하는 메타데이터는 대부분 데이터베이스에 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-105">Much of the metadata that describes a database is maintained in the database.</span></span> <span data-ttu-id="b9b80-106">메타데이터는 master 데이터베이스 대신 해당 데이터베이스에 유지되거나 두 데이터베이스 모두에 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-106">(In addition to, or instead of, maintaining metadata in the master database.)</span></span>  
  
-   <span data-ttu-id="b9b80-107">모든 메타데이터는 동일한 데이터 정렬을 사용하여 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-107">All metadata are defined using the same collation.</span></span>  
  
-   <span data-ttu-id="b9b80-108">데이터베이스를 통해 사용자 인증을 수행하여 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]인스턴스의 로그인에 대한 데이터베이스 종속성을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-108">User authentication can be performed by the database, reducing the databases dependency on the logins of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="b9b80-109">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 환경은 포함 정보를 보고하며 그에 따라 조치를 취할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-109">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] environment (DMV's, XEvents, etc.) reports and can act upon containment information.</span></span>  
  
 <span data-ttu-id="b9b80-110">메타데이터를 데이터베이스에 저장하는 등의 부분적으로 포함된 데이터베이스의 일부 기능은 모든 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 데이터베이스에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-110">Some features of partially contained databases, such as storing metadata in the database, apply to all [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] databases.</span></span> <span data-ttu-id="b9b80-111">데이터베이스 수준 인증 및 카탈로그 데이터 정렬 등의 부분적으로 포함된 데이터베이스의 일부 이점은 먼저 사용하도록 설정해야만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-111">Some benefits of partially contained databases, such as database level authentication and catalog collation, must be enabled before they are available.</span></span> <span data-ttu-id="b9b80-112">`CREATE DATABASE` 및 `ALTER DATABASE` 문을 사용하거나 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]를 사용하여 부분 포함을 사용하도록 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-112">Partial containment is enabled using the `CREATE DATABASE` and `ALTER DATABASE` statements or by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="b9b80-113">부분 데이터베이스 포함을 사용하도록 설정하는 방법은 [Migrate to a Partially Contained Database](migrate-to-a-partially-contained-database.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="b9b80-113">For more information about how to enable partial database containment, see [Migrate to a Partially Contained Database](migrate-to-a-partially-contained-database.md).</span></span>  
  
 <span data-ttu-id="b9b80-114">이 항목에는 다음과 같은 섹션이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-114">This topic contains the following sections.</span></span>  
  
-   [<span data-ttu-id="b9b80-115">부분적으로 포함 된 데이터베이스 개념</span><span class="sxs-lookup"><span data-stu-id="b9b80-115">Partially Contained Database Concepts</span></span>](#Concepts)  
  
-   [<span data-ttu-id="b9b80-116">제한</span><span class="sxs-lookup"><span data-stu-id="b9b80-116">Containment</span></span>](#containment)  
  
-   [<span data-ttu-id="b9b80-117">부분적으로 포함 된 데이터베이스 사용의 이점</span><span class="sxs-lookup"><span data-stu-id="b9b80-117">Benefits of using Partially Contained Databases</span></span>](#benefits)  
  
-   [<span data-ttu-id="b9b80-118">제한 사항</span><span class="sxs-lookup"><span data-stu-id="b9b80-118">Limitations</span></span>](#Limitations)  
  
-   [<span data-ttu-id="b9b80-119">데이터베이스 포함 식별</span><span class="sxs-lookup"><span data-stu-id="b9b80-119">Identifying Database Containment</span></span>](#Identifying)  
  
##  <a name="partially-contained-database-concepts"></a><a name="Concepts"></a> <span data-ttu-id="b9b80-120">부분적으로 포함된 데이터베이스 개념</span><span class="sxs-lookup"><span data-stu-id="b9b80-120">Partially Contained Database Concepts</span></span>  
 <span data-ttu-id="b9b80-121">전체적으로 포함된 데이터베이스는 데이터베이스를 정의하는 데 필요한 모든 설정과 메타데이터를 포함하며 데이터베이스가 설치된 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 인스턴스와 어떠한 구성 종속 관계도 가지고 있지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-121">A fully contained database includes all the settings and metadata required to define the database and has no configuration dependencies on the instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] where the database is installed.</span></span> <span data-ttu-id="b9b80-122">이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]에서 데이터베이스를 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스와 분리하는 작업은 시간이 많이 걸릴 수 있으며 이 작업을 위해서는 데이터베이스와 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]인스턴스 간 관계를 자세히 알고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-122">In previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], separating a database from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] could be time consuming and required detailed knowledge of the relationship between the database and the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b9b80-123">부분적으로 포함된 데이터베이스를 사용하면 데이터베이스를 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스 및 다른 데이터베이스와 쉽게 분리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-123">Partially contained databases make it easier to separate a database from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and other databases.</span></span>  
  
 <span data-ttu-id="b9b80-124">포함된 데이터베이스는 포함과 관련된 기능을 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-124">The contained database considers features with regard to containment.</span></span> <span data-ttu-id="b9b80-125">데이터베이스에 있는 기능에만 의존하는 사용자 정의 엔터티는 완전히 포함된 것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-125">Any user-defined entity that relies only on functions that reside in the database is considered fully contained.</span></span> <span data-ttu-id="b9b80-126">데이터베이스 외부의 기능에 의존하는 사용자 정의 엔터티는 포함되지 않은 것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-126">Any user-defined entity that relies on functions that reside outside the database is considered uncontained.</span></span> <span data-ttu-id="b9b80-127">자세한 내용은 이 항목의 뒷부분에 나오는 [포함](#containment) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b9b80-127">(For more information, see the [Containment](#containment) section later in this topic.)</span></span>  
  
 <span data-ttu-id="b9b80-128">다음 용어는 포함된 데이터베이스 모델에 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-128">The following terms apply to the contained database model.</span></span>  
  
 <span data-ttu-id="b9b80-129">데이터베이스 경계</span><span class="sxs-lookup"><span data-stu-id="b9b80-129">Database boundary</span></span>  
 <span data-ttu-id="b9b80-130">데이터베이스와 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]인스턴스 사이의 경계입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-130">The boundary between a database and the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b9b80-131">데이터베이스와 다른 데이터베이스 사이의 경계입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-131">The boundary between a database and other databases.</span></span>  
  
 <span data-ttu-id="b9b80-132">포함됨</span><span class="sxs-lookup"><span data-stu-id="b9b80-132">Contained</span></span>  
 <span data-ttu-id="b9b80-133">데이터베이스 경계 내에 전체가 포함되는 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-133">An element that exists entirely in the database boundary.</span></span>  
  
 <span data-ttu-id="b9b80-134">포함되지 않음</span><span class="sxs-lookup"><span data-stu-id="b9b80-134">Uncontained</span></span>  
 <span data-ttu-id="b9b80-135">데이터베이스 경계를 넘는 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-135">An element that crosses the database boundary.</span></span>  
  
 <span data-ttu-id="b9b80-136">포함되지 않은 데이터베이스</span><span class="sxs-lookup"><span data-stu-id="b9b80-136">Non-contained database</span></span>  
 <span data-ttu-id="b9b80-137">포함이 **NONE**으로 설정된 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-137">A database that has containment set to **NONE**.</span></span> <span data-ttu-id="b9b80-138">[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 이전 버전의 모든 데이터베이스는 포함되지 않은 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-138">All databases in versions earlier than [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] are non-contained.</span></span> <span data-ttu-id="b9b80-139">기본적으로 모든 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 이상 데이터베이스는 포함이 **NONE**으로 설정되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-139">By default, all [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] and later databases have a containment set to **NONE**.</span></span>  
  
 <span data-ttu-id="b9b80-140">부분적으로 포함된 데이터베이스</span><span class="sxs-lookup"><span data-stu-id="b9b80-140">Partially contained database</span></span>  
 <span data-ttu-id="b9b80-141">부분적으로 포함된 데이터베이스는 데이터베이스 경계를 넘는 일부 기능을 허용할 수 있는 포함된 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-141">A partially contained database is a contained database that can allow some features that cross the database boundary.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b9b80-142">에는 포함 경계가 교차할 때 확인할 수 있는 기능이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-142">includes the ability to determine when the containment boundary is crossed.</span></span>  
  
 <span data-ttu-id="b9b80-143">포함된 사용자</span><span class="sxs-lookup"><span data-stu-id="b9b80-143">Contained user</span></span>  
 <span data-ttu-id="b9b80-144">포함된 데이터베이스에는 두 가지 유형의 사용자가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-144">There are two types of users for contained databases.</span></span>  
  
-   <span data-ttu-id="b9b80-145">**암호가 있는 포함된 데이터베이스 사용자**</span><span class="sxs-lookup"><span data-stu-id="b9b80-145">**Contained database user with password**</span></span>  
  
     <span data-ttu-id="b9b80-146">암호가 있는 포함된 데이터베이스 사용자는 데이터베이스에 의해 인증됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-146">Contained database users with passwords are authenticated by the database.</span></span>  
  
-   <span data-ttu-id="b9b80-147">**Windows 보안 주체**</span><span class="sxs-lookup"><span data-stu-id="b9b80-147">**Windows principals**</span></span>  
  
     <span data-ttu-id="b9b80-148">권한이 있는 Windows 사용자 및 권한이 있는 Windows 그룹의 멤버는 데이터베이스에 직접 연결할 수 있으며 **master** 데이터베이스의 로그인이 필요하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-148">Authorized Windows users and members of authorized Windows groups can connect directly to the database and do not need logins in the **master** database.</span></span> <span data-ttu-id="b9b80-149">데이터베이스는 Windows에 의한 인증을 신뢰합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-149">The database trusts the authentication by Windows.</span></span>  
  
 <span data-ttu-id="b9b80-150">**master** 데이터베이스의 로그인을 기반으로 하는 사용자는 포함된 데이터베이스에 대한 액세스 권한을 부여받을 수 있지만 이렇게 하면 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스에 대한 종속성이 생깁니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-150">Users based on logins in the **master** database can be granted access to a contained database, but that would create a dependency on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="b9b80-151">따라서 로그인을 기반으로 하는 사용자를 만드는 경우 부분적으로 포함된 데이터베이스에 대한 설명을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="b9b80-151">Therefore, creating users based on logins see comment for partially contained databases.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b9b80-152">부분적으로 포함된 데이터베이스를 사용하도록 설정하면 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 인스턴스에 대한 액세스 제어 권한이 데이터베이스 소유자에게 위임됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-152">Enabling partially contained databases delegates control over access to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the owners of the database.</span></span> <span data-ttu-id="b9b80-153">자세한 내용은 [Security Best Practices with Contained Databases](security-best-practices-with-contained-databases.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b9b80-153">For more information, see [Security Best Practices with Contained Databases](security-best-practices-with-contained-databases.md).</span></span>  
  
 <span data-ttu-id="b9b80-154">데이터베이스 경계</span><span class="sxs-lookup"><span data-stu-id="b9b80-154">Database Boundary</span></span>  
 <span data-ttu-id="b9b80-155">부분적으로 포함된 데이터베이스는 인스턴스의 기능에서 데이터베이스 기능을 분리하므로 이 두 요소 사이에 *데이터베이스 경계*라는 명확히 정의된 선이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-155">Because partially contained databases separate the database functionality from those of the instance, there is a clearly defined line between these two elements called the *database boundary*.</span></span>  
  
 <span data-ttu-id="b9b80-156">데이터베이스 경계 내부에는 *데이터베이스 모델*이 있으며 여기에서 데이터베이스가 개발되고 관리됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-156">Inside of the database boundary is the *database model*, where the databases are developed and managed.</span></span> <span data-ttu-id="b9b80-157">데이터베이스 내부에 있는 엔터티에는 **sys.tables**와 같은 시스템 테이블, 암호가 있는 포함된 데이터베이스 사용자, 두 부분으로 구성된 이름으로 참조되는 현재 데이터베이스의 사용자 테이블 등이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-157">Examples of entities located inside of the database include, system tables like **sys.tables**, contained database users with passwords, and user tables in the current database referenced by a two-part name.</span></span>  
  
 <span data-ttu-id="b9b80-158">데이터베이스 경계의 외부에는 *관리 모델*이 있으며 이 모델은 인스턴스 수준 기능 및 관리와 관련되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-158">Outside of the database boundary is the *management model*, which pertains to instance-level functions and management.</span></span> <span data-ttu-id="b9b80-159">데이터베이스 경계 외부에 있는 엔터티에는 **sys.endpoints**와 같은 시스템 테이블, 로그인에 매핑된 사용자, 세 부분으로 구성된 이름으로 참조되는 다른 데이터베이스의 사용자 테이블 등이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-159">Examples of entities located outside of the database boundary include, system tables like **sys.endpoints**, users mapped to logins, and user tables in another database referenced by a three-part-name.</span></span>  
  
##  <a name="containment"></a><a name="containment"></a> <span data-ttu-id="b9b80-160">포함</span><span class="sxs-lookup"><span data-stu-id="b9b80-160">Containment</span></span>  
 <span data-ttu-id="b9b80-161">전적으로 데이터베이스 내부에 있는 사용자 엔터티는 *포함된*것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-161">User entities that reside entirely within the database are considered *contained*.</span></span> <span data-ttu-id="b9b80-162">데이터베이스 외부에 있거나 데이터베이스 외부 기능과의 상호 작용에 의존하는 사용자 엔터티는 *포함되지 않은*것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-162">Any entities that reside outside of the database, or rely on interaction with functions outside of the database, are considered *uncontained*.</span></span>  
  
 <span data-ttu-id="b9b80-163">일반적으로 사용자 엔터티는 다음과 같은 포함 범주로 분류됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-163">In general, user entities fall into the following categories of containment:</span></span>  
  
-   <span data-ttu-id="b9b80-164">sys.indexes와 같이 데이터베이스 경계를 넘지 않는, 완전히 포함된 사용자 엔터티.</span><span class="sxs-lookup"><span data-stu-id="b9b80-164">Fully contained user entities (those that never cross the database boundary), for example sys.indexes.</span></span> <span data-ttu-id="b9b80-165">이러한 기능을 사용하는 모든 코드 또는 이러한 엔터티만 참조하는 모든 개체도 완전히 포함된 것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-165">Any code that uses these features or any object that references only these entities is also fully contained.</span></span>  
  
-   <span data-ttu-id="b9b80-166">sys.server_principals 또는 서버 보안 주체(로그인)와 같이 데이터베이스 경계를 넘는, 포함되지 않은 사용자 엔터티.</span><span class="sxs-lookup"><span data-stu-id="b9b80-166">Uncontained user entities (those that cross the database boundary), for example sys.server_principals or a server principal (login) itself.</span></span> <span data-ttu-id="b9b80-167">이러한 엔터티를 사용하는 모든 코드 또는 이러한 엔터티를 참조하는 모든 기능은 포함되지 않은 것으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-167">Any code that uses these entities or any functions that references these entities are uncontained.</span></span>  
  
###  <a name="partially-contained-database"></a><a name="partial"></a> <span data-ttu-id="b9b80-168">Partially Contained Database</span><span class="sxs-lookup"><span data-stu-id="b9b80-168">Partially Contained Database</span></span>  
 <span data-ttu-id="b9b80-169">포함된 데이터베이스 기능은 현재 부분적으로 포함된 상태에서만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-169">The contained database feature is currently available only in a partially contained state.</span></span> <span data-ttu-id="b9b80-170">부분적으로 포함된 데이터베이스는 포함되지 않은 기능을 사용하도록 허용하는 포함된 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-170">A partially contained database is a contained database that allows the use of uncontained features.</span></span>  
  
 <span data-ttu-id="b9b80-171">포함되지 않은 개체 또는 기능에 대한 정보를 반환하려면 [sys.dm_db_uncontained_entities](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) 및 [sys.sql_modules&#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-modules-transact-sql) 뷰를 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="b9b80-171">Use the [sys.dm_db_uncontained_entities](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) and [sys.sql_modules &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-modules-transact-sql) view to return information about uncontained objects or features.</span></span> <span data-ttu-id="b9b80-172">데이터베이스 요소의 포함 상태를 파악함으로써 포함 상태를 승격시키려면 어떤 개체 또는 기능을 바꾸거나 변경해야 하는지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-172">By determining the containment status of the elements of your database, you can discover what objects or features must be replaced or altered to promote containment.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b9b80-173">일부 개체는 기본 포함 설정이 **NONE**이므로 이 뷰는 거짓 긍정을 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-173">Because certain objects have a default containment setting of **NONE**, this view can return false positives.</span></span>  
  
 <span data-ttu-id="b9b80-174">부분적으로 포함된 데이터베이스의 동작은 포함되지 않은 데이터베이스의 동작과 데이터 정렬의 측면에서 가장 많이 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-174">The behavior of partially contained databases differs most distinctly from that of non-contained databases with regard to collation.</span></span> <span data-ttu-id="b9b80-175">데이터 정렬 문제에 대한 자세한 내용은 [Contained Database Collations](contained-database-collations.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="b9b80-175">For more information about collation issues, see [Contained Database Collations](contained-database-collations.md).</span></span>  
  
##  <a name="benefits-of-using-partially-contained-databases"></a><a name="benefits"></a> <span data-ttu-id="b9b80-176">부분적으로 포함된 데이터베이스 사용의 이점</span><span class="sxs-lookup"><span data-stu-id="b9b80-176">Benefits of using Partially Contained Databases</span></span>  
 <span data-ttu-id="b9b80-177">부분적으로 포함된 데이터베이스를 사용하면 포함되지 않은 데이터베이스와 관련된 일부 문제 및 복잡성을 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-177">There are issues and complications associated with the non-contained databases that can be resolved by using a partially contained database.</span></span>  
  
### <a name="database-movement"></a><span data-ttu-id="b9b80-178">데이터베이스 이동</span><span class="sxs-lookup"><span data-stu-id="b9b80-178">Database Movement</span></span>  
 <span data-ttu-id="b9b80-179">데이터베이스를 이동할 때 발생하는 문제 중 하나는 인스턴스 간에 데이터베이스를 이동하면 일부 중요한 정보를 사용할 수 없게 된다는 점입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-179">One of the problems that occurs when moving databases, is that some important information can be unavailable when a database is moved from one instance to another.</span></span> <span data-ttu-id="b9b80-180">예를 들어 로그인 정보가 데이터베이스 대신 인스턴스 내에 저장되어 있는 경우,</span><span class="sxs-lookup"><span data-stu-id="b9b80-180">For example, login information is stored within the instance instead of in the database.</span></span> <span data-ttu-id="b9b80-181">포함되지 않은 데이터베이스를 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]의 한 인스턴스에서 다른 인스턴스로 이동하면 이러한 정보는 남겨집니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-181">When you move a non-contained database from one instance to another instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], this information is left behind.</span></span> <span data-ttu-id="b9b80-182">그러면 누락된 데이터를 식별하여 데이터베이스와 함께 새 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]인스턴스로 이동해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-182">You must identify the missing information and move it with your database to the new instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b9b80-183">이 프로세스는 시간이 많이 걸리며 어려울 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-183">This process can be difficult and time-consuming.</span></span>  
  
 <span data-ttu-id="b9b80-184">부분적으로 포함된 데이터베이스는 중요 정보를 데이터베이스에 저장할 수 있으므로 데이터베이스를 이동한 후에도 데이터베이스에 정보가 그대로 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-184">The partially contained database can store important information in the database so the database still has the information after it is moved.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b9b80-185">부분적으로 포함된 데이터베이스는 인스턴스에서 분리할 수 없는 데이터베이스에서 사용하는 기능을 설명하는 설명서를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-185">A partially contained database can provide documentation describing those features that are used by a database that cannot be separated from the instance.</span></span> <span data-ttu-id="b9b80-186">여기에는 서로 관련된 다른 데이터베이스 목록, 데이터베이스에 필요하지만 포함할 수 없는 시스템 설정 등이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-186">This includes a list of other interrelated databases, system settings that the database requires but cannot be contained, and so on.</span></span>  
  
### <a name="benefit-of-contained-database-users-with-alwayson"></a><span data-ttu-id="b9b80-187">AlwaysOn을 사용하는 포함된 데이터베이스 사용자의 이점</span><span class="sxs-lookup"><span data-stu-id="b9b80-187">Benefit of Contained Database Users with AlwaysOn</span></span>  
 <span data-ttu-id="b9b80-188">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]인스턴스와의 관련성을 줄이면 [!INCLUDE[ssHADR](../../includes/sshadr-md.md)]을 사용할 때 장애 조치 중에 부분적으로 포함된 데이터베이스가 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-188">By reducing the ties to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], partially contained databases can be useful during failover when you use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span>  
  
 <span data-ttu-id="b9b80-189">포함된 사용자를 만들면 사용자가 포함된 데이터베이스에 직접 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-189">Creating contained users enables the user to connect directly to the contained database.</span></span> <span data-ttu-id="b9b80-190">이 기능은 AlwaysOn 솔루션과 같은 고가용성 및 재해 복구 시나리오에서 매우 중요한 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-190">This is a very significant feature in high availability and disaster recovery scenarios such as in an AlwaysOn solution.</span></span> <span data-ttu-id="b9b80-191">사용자가 포함된 사용자인 경우 장애 조치(failover) 시 보조 복제본을 호스팅하는 인스턴스에 대한 로그인을 만들지 않고도 보조 복제본에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-191">If the users are contained users, in case of failover, people would be able to connect to the secondary without creating logins on the instance hosting the secondary.</span></span> <span data-ttu-id="b9b80-192">이는 즉각적인 이점을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-192">This provides an immediate benefit.</span></span> <span data-ttu-id="b9b80-193">자세한 내용은 [AlwaysOn 가용성 그룹 개요&#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) 및 [AlwaysOn 가용성 그룹에 대한 필수 조건, 제한 사항 및 권장 사항&#40;SQL Server&#41;](../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b9b80-193">For more information, see [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) and [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md).</span></span>  
  
### <a name="initial-database-development"></a><span data-ttu-id="b9b80-194">초기 데이터베이스 개발</span><span class="sxs-lookup"><span data-stu-id="b9b80-194">Initial Database Development</span></span>  
 <span data-ttu-id="b9b80-195">개발자는 새 데이터베이스가 배포될 위치를 알지 못할 수 있으므로 데이터베이스에 대한 배포 환경의 영향을 제한하면 개발자의 작업이 더 쉬워질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-195">Because a developer may not know where a new database will be deployed, limiting the deployed environmental impacts on the database lessens the work and concern for the developer.</span></span> <span data-ttu-id="b9b80-196">포함되지 않은 모델에서 개발자는 새 데이터베이스 및 프로그램에 대해 가능한 환경적 영향을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-196">In the non-contained model, the developer must consider possible environmental impacts on the new database and program accordingly.</span></span> <span data-ttu-id="b9b80-197">하지만 개발자는 부분적으로 포함된 데이터베이스를 사용하여 데이터베이스에 대한 인스턴스 수준의 영향과 인스턴스 수준에서 개발자가 고려해야 할 요소를 검색할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-197">However, by using partially contained databases, developers can detect instance-level impacts on the database and instance-level concerns for the developer.</span></span>  
  
### <a name="database-administration"></a><span data-ttu-id="b9b80-198">데이터베이스 관리</span><span class="sxs-lookup"><span data-stu-id="b9b80-198">Database Administration</span></span>  
 <span data-ttu-id="b9b80-199">데이터베이스 설정을 master 데이터베이스 대신 데이터베이스에 유지하면 데이터베이스 소유자에게 **sysadmin** 권한을 제공할 필요 없이 각 데이터베이스 소유자가 해당 데이터베이스를 더 세밀하게 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-199">Maintaining database settings in the database, instead of in the master database, lets each database owner have more control over their database, without giving the database owner **sysadmin** permission.</span></span>  
  
##  <a name="limitations"></a><a name="Limitations"></a> <span data-ttu-id="b9b80-200">제한 사항</span><span class="sxs-lookup"><span data-stu-id="b9b80-200">Limitations</span></span>  
 <span data-ttu-id="b9b80-201">부분적으로 포함된 데이터베이스는 다음 기능을 허용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-201">Partially contained databases do not allow the following features.</span></span>  
  
-   <span data-ttu-id="b9b80-202">부분적으로 포함된 데이터베이스는 복제, 변경 데이터 캡처 또는 변경 내용 추적 기능을 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-202">Partially contained databases cannot use replication, change data capture, or change tracking.</span></span>  
  
-   <span data-ttu-id="b9b80-203">번호를 매긴 프로시저</span><span class="sxs-lookup"><span data-stu-id="b9b80-203">Numbered procedures</span></span>  
  
-   <span data-ttu-id="b9b80-204">데이터 정렬이 변경된 기본 제공 기능에 종속된 스키마 바운드 개체</span><span class="sxs-lookup"><span data-stu-id="b9b80-204">Schema-bound objects that depend on built-in functions with collation changes</span></span>  
  
-   <span data-ttu-id="b9b80-205">개체, 열, 기호 또는 유형에 대한 참조를 비롯하여 데이터 정렬 변경의 결과로 발생하는 바인딩 변경</span><span class="sxs-lookup"><span data-stu-id="b9b80-205">Binding change resulting from collation changes, including references to objects, columns, symbols, or types.</span></span>  
  
-   <span data-ttu-id="b9b80-206">복제, 변경 데이터 캡처 및 변경 내용 추적</span><span class="sxs-lookup"><span data-stu-id="b9b80-206">Replication, change data capture, and change tracking.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="b9b80-207">임시 저장 프로시저는 현재 허용되지만,</span><span class="sxs-lookup"><span data-stu-id="b9b80-207">Temporary stored procedures are currently permitted.</span></span> <span data-ttu-id="b9b80-208">포함 조건을 위반하므로 이후 버전의 포함된 데이터베이스에서는 지원되지 않을 것입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-208">Because temporary stored procedures breach containment, they are not expected to be supported in future versions of contained database.</span></span>  
  
##  <a name="identifying-database-containment"></a><a name="Identifying"></a> <span data-ttu-id="b9b80-209">데이터베이스 포함 식별</span><span class="sxs-lookup"><span data-stu-id="b9b80-209">Identifying Database Containment</span></span>  
 <span data-ttu-id="b9b80-210">데이터베이스의 포함 상태를 식별할 수 있는 도구가 두 가지 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-210">There are two tools to help identify the containment status of the database.</span></span> <span data-ttu-id="b9b80-211">[sys.dm_db_uncontained_entities&#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql)는 데이터베이스에서 포함되지 않은 엔터티일 가능성이 있는 엔터티를 모두 표시하는 뷰입니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-211">The [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) is a view that shows all the potentially uncontained entities in the database.</span></span> <span data-ttu-id="b9b80-212">런타임 시 실제로 포함되지 않은 엔터티가 식별될 때 database_uncontained_usage 이벤트가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-212">The database_uncontained_usage event occurs when any actual uncontained entity is identified at run time.</span></span>  
  
### <a name="sysdm_db_uncontained_entities"></a><span data-ttu-id="b9b80-213">sys.dm_db_uncontained_entities</span><span class="sxs-lookup"><span data-stu-id="b9b80-213">sys.dm_db_uncontained_entities</span></span>  
 <span data-ttu-id="b9b80-214">이 뷰는 데이터베이스 경계를 넘는 엔터티와 같이 포함되지 않은 엔터티가 될 가능성이 있는 데이터베이스의 엔터티를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-214">This view shows any entities in the database that have the potential to be uncontained, such as those that cross-the database boundary.</span></span> <span data-ttu-id="b9b80-215">여기에는 데이터베이스 모델 외부 개체를 사용할 수 있는 사용자 엔터티가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-215">This includes those user entities that may use objects outside the database model.</span></span> <span data-ttu-id="b9b80-216">그러나 런타임이 될 때까지 일부 엔터티(예: 동적 SQL을 사용하는 엔터티)의 포함을 확인할 수 없기 때문에 이 뷰에서 실제로는 포함되지 않은 엔터티가 아닌 일부 엔터티를 보여 줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-216">However, because the containment of some entities (for example, those using dynamic SQL) cannot be determined until run time, the view may show some entities that are not actually uncontained.</span></span> <span data-ttu-id="b9b80-217">자세한 내용은 [sys.dm_db_uncontained_entities&#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="b9b80-217">For more information, see [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql).</span></span>  
  
### <a name="database_uncontained_usage-event"></a><span data-ttu-id="b9b80-218">database_uncontained_usage 이벤트</span><span class="sxs-lookup"><span data-stu-id="b9b80-218">database_uncontained_usage event</span></span>  
 <span data-ttu-id="b9b80-219">XEvent는 런타임 시 포함되지 않은 엔터티가 식별될 때마다 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-219">This XEvent occurs whenever an uncontained entity is identified at run time.</span></span> <span data-ttu-id="b9b80-220">여기에는 클라이언트 코드에서 시작된 엔터티가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-220">This includes entities originated in client code.</span></span> <span data-ttu-id="b9b80-221">이 XEvent는 실제로 포함되지 않은 엔터티에 대해서만 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-221">This XEvent will occur only for actual uncontained entities.</span></span> <span data-ttu-id="b9b80-222">그러나 이벤트는 런타임에만 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-222">However, the event only occurs at run time.</span></span> <span data-ttu-id="b9b80-223">따라서 실행하지 않은, 포함되지 않은 모든 사용자 엔터티는 이 XEvent에서 식별되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b9b80-223">Therefore, any uncontained user entities you have not run will not be identified by this XEvent</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="b9b80-224">관련 내용</span><span class="sxs-lookup"><span data-stu-id="b9b80-224">Related Content</span></span>  
 [<span data-ttu-id="b9b80-225">수정된 기능&#40;포함된 데이터베이스&#41;</span><span class="sxs-lookup"><span data-stu-id="b9b80-225">Modified Features &#40;Contained Database&#41;</span></span>](modified-features-contained-database.md)  
  
 [<span data-ttu-id="b9b80-226">포함된 데이터베이스 데이터 정렬</span><span class="sxs-lookup"><span data-stu-id="b9b80-226">Contained Database Collations</span></span>](contained-database-collations.md)  
  
 [<span data-ttu-id="b9b80-227">포함된 데이터베이스의 보안 모범 사례</span><span class="sxs-lookup"><span data-stu-id="b9b80-227">Security Best Practices with Contained Databases</span></span>](security-best-practices-with-contained-databases.md)  
  
 [<span data-ttu-id="b9b80-228">부분적으로 포함된 데이터베이스로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="b9b80-228">Migrate to a Partially Contained Database</span></span>](migrate-to-a-partially-contained-database.md)  
  
  
