---
title: 트랜잭션 로그(SQL Server) | Microsoft 문서
ms.custom: ''
ms.date: 01/04/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- transaction logs [SQL Server], about
- databases [SQL Server], transaction logs
- logs [SQL Server], transaction logs
ms.assetid: d7be5ac5-4c8e-4d0a-b114-939eb97dac4d
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 025ef22e6dee1fcfaa1225a4709fa01b6c326b12
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87649529"
---
# <a name="the-transaction-log-sql-server"></a><span data-ttu-id="55804-102">트랜잭션 로그(SQL Server)</span><span class="sxs-lookup"><span data-stu-id="55804-102">The Transaction Log (SQL Server)</span></span>
  <span data-ttu-id="55804-103">각 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 데이터베이스에는 각 트랜잭션에 의해 적용된 모든 트랜잭션 및 데이터베이스 수정 내용을 기록하는 트랜잭션 로그가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-103">Every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database has a transaction log that records all transactions and the database modifications made by each transaction.</span></span> <span data-ttu-id="55804-104">트랜잭션 로그가 채워지지 않도록 트랜잭션 로그를 정기적으로 잘라야 합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-104">The transaction log must be truncated on a regular basis to keep it from filling up.</span></span> <span data-ttu-id="55804-105">그러나 일부 요소로 인해 로그 잘림이 지연될 수 있으므로 로그 크기를 모니터링하는 것이 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-105">However, some factors can delay log truncation, so monitoring log size is important.</span></span> <span data-ttu-id="55804-106">일부 작업을 최소로 기록하여 트랜잭션 로그 크기에 주는 영향을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-106">Some operations can be minimally logged to reduce their impact on transaction log size.</span></span>  
  
 <span data-ttu-id="55804-107">트랜잭션 로그는 데이터베이스의 주요 구성 요소이며 시스템 오류가 발생할 경우 데이터베이스를 다시 일관된 상태로 만들려면 트랜잭션 로그가 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-107">The transaction log is a critical component of the database and, if there is a system failure, the transaction log might be required to bring your database back to a consistent state.</span></span> <span data-ttu-id="55804-108">트랜잭션 로그를 삭제하거나 이동할 경우의 결과를 완전히 이해하고 있는 경우를 제외하고는 트랜잭션 로그를 절대 삭제하거나 이동해서는 안 됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-108">The transaction log should never be deleted or moved unless you fully understand the ramifications of doing this.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="55804-109">데이터베이스 복구 중 트랜잭션 로그 적용을 시작할 알려진 올바른 지점은 검사점에 의해 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="55804-109">Known good points from which to begin applying transaction logs during database recovery are created by checkpoints.</span></span> <span data-ttu-id="55804-110">자세한 내용은 [데이터베이스 검사점&#40;SQL Server&#41;](database-checkpoints-sql-server.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="55804-110">For more information, see [Database Checkpoints &#40;SQL Server&#41;](database-checkpoints-sql-server.md).</span></span>  
  
 <span data-ttu-id="55804-111">**항목 내용:**</span><span class="sxs-lookup"><span data-stu-id="55804-111">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="55804-112">이점: 트랜잭션 로그가 지원하는 작업</span><span class="sxs-lookup"><span data-stu-id="55804-112">Benefits: Operations Supported by the Transaction Log</span></span>](#Benefits)  
  
-   [<span data-ttu-id="55804-113">트랜잭션 로그 잘림</span><span class="sxs-lookup"><span data-stu-id="55804-113">Transaction Log Truncation</span></span>](#Truncation)  
  
-   [<span data-ttu-id="55804-114">로그 잘림을 지연 시킬 수 있는 요소</span><span class="sxs-lookup"><span data-stu-id="55804-114">Factors That Can Delay Log Truncation</span></span>](#FactorsThatDelayTruncation)  
  
-   [<span data-ttu-id="55804-115">최소로 기록 될 수 있는 작업</span><span class="sxs-lookup"><span data-stu-id="55804-115">Operations That Can Be Minimally Logged</span></span>](#MinimallyLogged)  
  
-   [<span data-ttu-id="55804-116">관련 작업</span><span class="sxs-lookup"><span data-stu-id="55804-116">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="benefits-operations-supported-by-the-transaction-log"></a><a name="Benefits"></a><span data-ttu-id="55804-117">이점: 트랜잭션 로그에서 지원 되는 작업</span><span class="sxs-lookup"><span data-stu-id="55804-117">Benefits: Operations Supported by the Transaction Log</span></span>  
 <span data-ttu-id="55804-118">트랜잭션 로그는 다음 작업을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-118">The transaction log supports the following operations:</span></span>  
  
-   <span data-ttu-id="55804-119">개별 트랜잭션 복구</span><span class="sxs-lookup"><span data-stu-id="55804-119">Recovery of individual transactions.</span></span>  
  
-   <span data-ttu-id="55804-120">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 가 시작될 때 불완전한 모든 트랜잭션 복구</span><span class="sxs-lookup"><span data-stu-id="55804-120">Recovery of all incomplete transactions when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is started.</span></span>  
  
-   <span data-ttu-id="55804-121">복원된 데이터베이스, 파일, 파일 그룹 또는 페이지를 오류 지점으로 롤포워드</span><span class="sxs-lookup"><span data-stu-id="55804-121">Rolling a restored database, file, filegroup, or page forward to the point of failure.</span></span>  
  
-   <span data-ttu-id="55804-122">트랜잭션 복제 지원</span><span class="sxs-lookup"><span data-stu-id="55804-122">Supporting transactional replication.</span></span>  
  
-   <span data-ttu-id="55804-123">고가용성 및 재해 복구 솔루션 지원: [!INCLUDE[ssHADR](../../includes/sshadr-md.md)], 데이터베이스 미러링 및 로그 전달</span><span class="sxs-lookup"><span data-stu-id="55804-123">Supporting high availability and disaster recovery solutions: [!INCLUDE[ssHADR](../../includes/sshadr-md.md)], database mirroring, and log shipping.</span></span>  
  
##  <a name="transaction-log-truncation"></a><a name="Truncation"></a> <span data-ttu-id="55804-124">트랜잭션 로그 잘림</span><span class="sxs-lookup"><span data-stu-id="55804-124">Transaction Log Truncation</span></span>  
 <span data-ttu-id="55804-125">로그 잘림은 트랜잭션 로그에서 다시 사용할 수 있도록 로그 파일의 공간을 확보하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="55804-125">Log truncation frees space in the log file for reuse by the transaction log.</span></span> <span data-ttu-id="55804-126">로그가 가득 차지 않도록 하기 위해 로그 잘림은 필수적입니다.</span><span class="sxs-lookup"><span data-stu-id="55804-126">Log truncation is essential to keep the log from filling.</span></span> <span data-ttu-id="55804-127">로그 잘림은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 데이터베이스의 논리 트랜잭션 로그에서 비활성 가상 로그 파일을 삭제하여 물리적 트랜잭션 로그에서 다시 사용할 수 있도록 논리 로그의 공간을 확보합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-127">Log truncation deletes inactive virtual log files from the logical transaction log of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database, freeing space in the logical log for reuse by the Physical transaction log.</span></span> <span data-ttu-id="55804-128">트랜잭션 로그가 잘리지 않으면 물리적 로그 파일에 할당된 디스크 공간이 모두 트랜잭션 로그로 채워지게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-128">If a transaction log were never truncated, it would eventually fill all the disk space that is allocated to its physical log files.</span></span>  
  
 <span data-ttu-id="55804-129">이 문제를 방지하기 위해 어떤 이유로 로그 잘림이 지연되고 있지 않는 한 다음과 같은 경우에 잘림이 자동으로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-129">To avoid this problem, unless log truncation is being delayed for some reason, truncation occurs automatically after the following events:</span></span>  
  
-   <span data-ttu-id="55804-130">단순 복구 모델에서는 검사점 이후 잘림이 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-130">Under the simple recovery model, after a checkpoint.</span></span>  
  
-   <span data-ttu-id="55804-131">전체 복구 모델 또는 대량 로그 복구 모델에서는 이전 백업 이후에 검사점이 발생한 경우 로그 백업 후 잘림이 수행됩니다(복사 전용 로그 백업이 아닌 경우).</span><span class="sxs-lookup"><span data-stu-id="55804-131">Under the full recovery model or bulk-logged recovery model, if a checkpoint has occurred since the previous backup, truncation occurs after a log backup (unless it is a copy-only log backup).</span></span>  
  
 <span data-ttu-id="55804-132">자세한 내용은이 항목의 뒷부분에 나오는 [로그 잘림을 지연 시킬 수 있는 요소](#FactorsThatDelayTruncation)를 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="55804-132">For more information, see [Factors That Can Delay Log Truncation](#FactorsThatDelayTruncation), later in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="55804-133">로그 잘림을 수행해도 물리적 로그 파일의 크기는 줄어들지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-133">Log truncation does not reduce the size of the physical log file.</span></span> <span data-ttu-id="55804-134">물리적 로그 파일의 실제 크기를 줄이려면 로그 파일을 축소해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-134">To reduce the physical size of a physical log file, you need to shrink the log file.</span></span> <span data-ttu-id="55804-135">물리적 로그 파일의 크기를 축소하는 방법은 [트랜잭션 로그 파일의 크기 관리](manage-the-size-of-the-transaction-log-file.md)를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="55804-135">For information about shrinking the size of the physical log file, see [Manage the Size of the Transaction Log File](manage-the-size-of-the-transaction-log-file.md).</span></span>  
  
##  <a name="factors-that-can-delay-log-truncation"></a><a name="FactorsThatDelayTruncation"></a><span data-ttu-id="55804-136">로그 잘림을 지연 시킬 수 있는 요소</span><span class="sxs-lookup"><span data-stu-id="55804-136">Factors That Can Delay Log Truncation</span></span>  
 <span data-ttu-id="55804-137">오랜 시간 동안 로그 레코드가 활성 상태로 유지되는 경우 로그 잘림이 지연되고 트랜잭션 로그가 가득 찰 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-137">When log records remain active for a long time transaction log truncation is delayed, and potentially the transaction log can fill up.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="55804-138">가득 찬 트랜잭션 로그에 응답하는 방법에 대한 자세한 내용은 [Troubleshoot a Full Transaction Log &#40;SQL Server Error 9002&#41;](troubleshoot-a-full-transaction-log-sql-server-error-9002.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="55804-138">For information about how to respond to a full transaction log, see [Troubleshoot a Full Transaction Log &#40;SQL Server Error 9002&#41;](troubleshoot-a-full-transaction-log-sql-server-error-9002.md).</span></span>  
  
 <span data-ttu-id="55804-139">여러 요소로 인해 로그 잘림이 지연될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-139">Log truncation can be delayed by a variety of factors.</span></span> <span data-ttu-id="55804-140">로그 잘림이 발생하지 않는 이유는 **sys.databases** 카탈로그 뷰의 **log_reuse_wait** 및 [log_reuse_wait_desc](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) 열을 쿼리하여 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-140">You can discover what, if anything, is preventing log truncation by querying the **log_reuse_wait** and **log_reuse_wait_desc** columns of the [sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) catalog view.</span></span> <span data-ttu-id="55804-141">다음 표에서는 이러한 열의 값에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-141">The following table describes the values of these columns.</span></span>  
  
|<span data-ttu-id="55804-142">log_reuse_wait 값</span><span class="sxs-lookup"><span data-stu-id="55804-142">log_reuse_wait value</span></span>|<span data-ttu-id="55804-143">log_reuse_wait_desc 값</span><span class="sxs-lookup"><span data-stu-id="55804-143">log_reuse_wait_desc value</span></span>|<span data-ttu-id="55804-144">Description</span><span class="sxs-lookup"><span data-stu-id="55804-144">Description</span></span>|  
|----------------------------|----------------------------------|-----------------|  
|<span data-ttu-id="55804-145">0</span><span class="sxs-lookup"><span data-stu-id="55804-145">0</span></span>|<span data-ttu-id="55804-146">NOTHING</span><span class="sxs-lookup"><span data-stu-id="55804-146">NOTHING</span></span>|<span data-ttu-id="55804-147">현재 다시 사용 가능한 가상 로그 파일이 하나 이상 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-147">Currently there are one or more reusable virtual log files.</span></span>|  
|<span data-ttu-id="55804-148">1</span><span class="sxs-lookup"><span data-stu-id="55804-148">1</span></span>|<span data-ttu-id="55804-149">CHECKPOINT</span><span class="sxs-lookup"><span data-stu-id="55804-149">CHECKPOINT</span></span>|<span data-ttu-id="55804-150">마지막 로그 잘림이나 로그 헤더가 가상 로그 파일을 넘어서 이동되지 않았기 때문에 검사점이 발생하지</span><span class="sxs-lookup"><span data-stu-id="55804-150">No checkpoint has occurred since the last log truncation, or the head of the log has not yet moved beyond a virtual log file.</span></span> <span data-ttu-id="55804-151">있습니다(모든 복구 모델).</span><span class="sxs-lookup"><span data-stu-id="55804-151">(All recovery models)</span></span><br /><br /> <span data-ttu-id="55804-152">로그 잘림 지연을 유발하는 일반적인 이유입니다.</span><span class="sxs-lookup"><span data-stu-id="55804-152">This is a routine reason for delaying log truncation.</span></span> <span data-ttu-id="55804-153">자세한 내용은 [데이터베이스 검사점&#40;SQL Server&#41;](database-checkpoints-sql-server.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="55804-153">For more information, see [Database Checkpoints &#40;SQL Server&#41;](database-checkpoints-sql-server.md).</span></span>|  
|<span data-ttu-id="55804-154">2</span><span class="sxs-lookup"><span data-stu-id="55804-154">2</span></span>|<span data-ttu-id="55804-155">LOG_BACKUP</span><span class="sxs-lookup"><span data-stu-id="55804-155">LOG_BACKUP</span></span>|<span data-ttu-id="55804-156">트랜잭션 로그를 자르려면 먼저 로그 백업이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-156">A log backup is required before the transaction log can be truncated.</span></span> <span data-ttu-id="55804-157">이는 전체 또는 대량 로그 복구 모델의 경우에만 해당됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-157">(Full or bulk-logged recovery models only)</span></span><br /><br /> <span data-ttu-id="55804-158">다음 로그 백업이 완료되면 일부 로그 공간이 다시 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-158">When the next log backup is completed, some log space might become reusable.</span></span>|  
|<span data-ttu-id="55804-159">3</span><span class="sxs-lookup"><span data-stu-id="55804-159">3</span></span>|<span data-ttu-id="55804-160">ACTIVE_BACKUP_OR_RESTORE</span><span class="sxs-lookup"><span data-stu-id="55804-160">ACTIVE_BACKUP_OR_RESTORE</span></span>|<span data-ttu-id="55804-161">데이터 백업이나 복원이 진행되고 있습니다(모든 복구 모델).</span><span class="sxs-lookup"><span data-stu-id="55804-161">A data backup or a restore is in progress (all recovery models).</span></span><br /><br /> <span data-ttu-id="55804-162">데이터 백업으로 인해 로그 잘림이 발생하지 않을 경우 해당 백업 작업을 취소하면 즉시 문제를 해결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-162">If a data backup is preventing log truncation, canceling the backup operation might help the immediate problem.</span></span>|  
|<span data-ttu-id="55804-163">4</span><span class="sxs-lookup"><span data-stu-id="55804-163">4</span></span>|<span data-ttu-id="55804-164">ACTIVE_TRANSACTION</span><span class="sxs-lookup"><span data-stu-id="55804-164">ACTIVE_TRANSACTION</span></span>|<span data-ttu-id="55804-165">트랜잭션이 활성 상태입니다(모든 복구 모델).</span><span class="sxs-lookup"><span data-stu-id="55804-165">A transaction is active (all recovery models).</span></span><br /><br /> <span data-ttu-id="55804-166">로그 백업 시작 시 장기 실행 트랜잭션이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-166">A long-running transaction might exist at the start of the log backup.</span></span> <span data-ttu-id="55804-167">이 경우 공간을 확보하려면 다른 로그 백업이 필요할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-167">In this case, freeing the space might require another log backup.</span></span> <span data-ttu-id="55804-168">장기 실행 트랜잭션은 각 자동 검사점에서 트랜잭션 로그가 일반적으로 잘리는 단순 복구 모델을 비롯 한 모든 복구 모델에서 로그 잘림을 방지 합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-168">Note that a long-running transactions prevent log truncation under all recovery models, including the simple recovery model, under which the transaction log is generally truncated on each automatic checkpoint.</span></span><br /><br /> <span data-ttu-id="55804-169">트랜잭션이 지연되었습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-169">A transaction is deferred.</span></span> <span data-ttu-id="55804-170">*지연된 트랜잭션* 은 사실상 일부 사용할 수 없는 리소스로 인해 롤백이 차단된 활성 트랜잭션입니다.</span><span class="sxs-lookup"><span data-stu-id="55804-170">A *deferred transaction* is effectively an active transaction whose rollback is blocked because of some unavailable resource.</span></span> <span data-ttu-id="55804-171">지연된 트랜잭션의 원인 및 이러한 트랜잭션을 지연된 상태에서 벗어나게 하는 방법에 대한 자세한 내용은 [지연된 트랜잭션&#40;SQL Server&#41;](../backup-restore/deferred-transactions-sql-server.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="55804-171">For information about the causes of deferred transactions and how to move them out of the deferred state, see [Deferred Transactions &#40;SQL Server&#41;](../backup-restore/deferred-transactions-sql-server.md).</span></span> <br /><br /><span data-ttu-id="55804-172">장기 실행 트랜잭션은 tempdb의 트랜잭션 로그를 채울 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-172">Long-running transactions might also fill up tempdb's transaction log.</span></span> <span data-ttu-id="55804-173">Tempdb는 정렬을 위한 작업 테이블, 해싱을 위한 작업 파일, 커서 작업 테이블 및 행 버전 관리 등 내부 개체에 대한 사용자 트랜잭션에 의해 암시적으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-173">Tempdb is used implicitly by user transactions for internal objects such as work tables for sorting, work files for hashing, cursor work tables, and row versioning.</span></span> <span data-ttu-id="55804-174">사용자 트랜잭션에 데이터 읽기 (쿼리 선택)만 포함 하는 경우에도 사용자 트랜잭션에서 내부 개체를 만들고 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-174">Even if the user transaction includes only reading data (SELECT queries), internal objects may be created and used under user transactions.</span></span> <span data-ttu-id="55804-175">그런 다음 tempdb 트랜잭션 로그를 채울 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-175">Then the tempdb transaction log can be filled.</span></span>|  
|<span data-ttu-id="55804-176">5</span><span class="sxs-lookup"><span data-stu-id="55804-176">5</span></span>|<span data-ttu-id="55804-177">DATABASE_MIRRORING</span><span class="sxs-lookup"><span data-stu-id="55804-177">DATABASE_MIRRORING</span></span>|<span data-ttu-id="55804-178">데이터베이스 미러링이 일시 중지되거나 성능 우선 모드에서는 미러 데이터베이스가 주 데이터베이스보다 훨씬</span><span class="sxs-lookup"><span data-stu-id="55804-178">Database mirroring is paused, or under high-performance mode, the mirror database is significantly behind the principal database.</span></span> <span data-ttu-id="55804-179">않습니다(전체 복구 모델에만 해당).</span><span class="sxs-lookup"><span data-stu-id="55804-179">(Full recovery model only)</span></span><br /><br /> <span data-ttu-id="55804-180">자세한 내용은 [데이터베이스 미러링&#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="55804-180">For more information, see [Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>|  
|<span data-ttu-id="55804-181">6</span><span class="sxs-lookup"><span data-stu-id="55804-181">6</span></span>|<span data-ttu-id="55804-182">복제</span><span class="sxs-lookup"><span data-stu-id="55804-182">REPLICATION</span></span>|<span data-ttu-id="55804-183">트랜잭션 복제 중에 게시와 관련된 트랜잭션이 배포 데이터베이스로 배달되지</span><span class="sxs-lookup"><span data-stu-id="55804-183">During transactional replications, transactions relevant to the publications are still undelivered to the distribution database.</span></span> <span data-ttu-id="55804-184">않습니다(전체 복구 모델에만 해당).</span><span class="sxs-lookup"><span data-stu-id="55804-184">(Full recovery model only)</span></span><br /><br /> <span data-ttu-id="55804-185">트랜잭션 복제에 대한 자세한 내용은 [SQL Server Replication](../../relational-databases/replication/sql-server-replication.md)를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="55804-185">For information about transactional replication, see [SQL Server Replication](../../relational-databases/replication/sql-server-replication.md).</span></span>|  
|<span data-ttu-id="55804-186">7</span><span class="sxs-lookup"><span data-stu-id="55804-186">7</span></span>|<span data-ttu-id="55804-187">DATABASE_SNAPSHOT_CREATION</span><span class="sxs-lookup"><span data-stu-id="55804-187">DATABASE_SNAPSHOT_CREATION</span></span>|<span data-ttu-id="55804-188">데이터베이스 스냅샷이 생성되고</span><span class="sxs-lookup"><span data-stu-id="55804-188">A database snapshot is being created.</span></span> <span data-ttu-id="55804-189">있습니다(모든 복구 모델).</span><span class="sxs-lookup"><span data-stu-id="55804-189">(All recovery models)</span></span><br /><br /> <span data-ttu-id="55804-190">로그 잘림 지연을 유발하는 일반적인 이유입니다.</span><span class="sxs-lookup"><span data-stu-id="55804-190">This is a routine, and typically brief, cause of delayed log truncation.</span></span>|  
|<span data-ttu-id="55804-191">8</span><span class="sxs-lookup"><span data-stu-id="55804-191">8</span></span>|<span data-ttu-id="55804-192">LOG_SCAN</span><span class="sxs-lookup"><span data-stu-id="55804-192">LOG_SCAN</span></span>|<span data-ttu-id="55804-193">로그 검색이 수행되고</span><span class="sxs-lookup"><span data-stu-id="55804-193">A log scan is occurring.</span></span> <span data-ttu-id="55804-194">있습니다(모든 복구 모델).</span><span class="sxs-lookup"><span data-stu-id="55804-194">(All recovery models)</span></span><br /><br /> <span data-ttu-id="55804-195">로그 잘림 지연을 유발하는 일반적인 이유입니다.</span><span class="sxs-lookup"><span data-stu-id="55804-195">This is a routine, and typically brief, cause of delayed log truncation.</span></span>|  
|<span data-ttu-id="55804-196">9</span><span class="sxs-lookup"><span data-stu-id="55804-196">9</span></span>|<span data-ttu-id="55804-197">AVAILABILITY_REPLICA</span><span class="sxs-lookup"><span data-stu-id="55804-197">AVAILABILITY_REPLICA</span></span>|<span data-ttu-id="55804-198">가용성 그룹의 보조 복제본에서 해당하는 보조 데이터베이스에 이 데이터베이스의 트랜잭션 로그 레코드를 적용하고</span><span class="sxs-lookup"><span data-stu-id="55804-198">A secondary replica of an availability group is applying transaction log records of this database to a corresponding secondary database.</span></span> <span data-ttu-id="55804-199">있습니다(전체 복구 모델).</span><span class="sxs-lookup"><span data-stu-id="55804-199">(Full recovery model)</span></span><br /><br /> <span data-ttu-id="55804-200">자세한 내용은 [AlwaysOn 가용성 그룹 &#40;SQL Server&#41;개요 ](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="55804-200">For more information, see [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md).</span></span>|  
|<span data-ttu-id="55804-201">10</span><span class="sxs-lookup"><span data-stu-id="55804-201">10</span></span>|-|<span data-ttu-id="55804-202">내부용으로만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-202">For internal use only</span></span>|  
|<span data-ttu-id="55804-203">11</span><span class="sxs-lookup"><span data-stu-id="55804-203">11</span></span>|-|<span data-ttu-id="55804-204">내부용으로만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-204">For internal use only</span></span>|  
|<span data-ttu-id="55804-205">12</span><span class="sxs-lookup"><span data-stu-id="55804-205">12</span></span>|-|<span data-ttu-id="55804-206">내부용으로만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-206">For internal use only</span></span>|  
|<span data-ttu-id="55804-207">13</span><span class="sxs-lookup"><span data-stu-id="55804-207">13</span></span>|<span data-ttu-id="55804-208">OLDEST_PAGE</span><span class="sxs-lookup"><span data-stu-id="55804-208">OLDEST_PAGE</span></span>|<span data-ttu-id="55804-209">데이터베이스가 간접 검사점을 사용하도록 구성된 경우 데이터베이스의 가장 오래된 페이지가 검사점 LSN보다 오래되었을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-209">If a database is configured to use indirect checkpoints, the oldest page on the database might be older than the checkpoint LSN.</span></span> <span data-ttu-id="55804-210">이 경우 가장 오래된 페이지는 로그 잘림이 지연될 수</span><span class="sxs-lookup"><span data-stu-id="55804-210">In this case, the oldest page can delay log truncation.</span></span> <span data-ttu-id="55804-211">있습니다(모든 복구 모델).</span><span class="sxs-lookup"><span data-stu-id="55804-211">(All recovery models)</span></span><br /><br /> <span data-ttu-id="55804-212">간접 검사점에 대한 자세한 내용은 [Database Checkpoints &#40;SQL Server&#41;](database-checkpoints-sql-server.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="55804-212">For information about indirect checkpoints, see [Database Checkpoints &#40;SQL Server&#41;](database-checkpoints-sql-server.md).</span></span>|  
|<span data-ttu-id="55804-213">14</span><span class="sxs-lookup"><span data-stu-id="55804-213">14</span></span>|<span data-ttu-id="55804-214">OTHER_TRANSIENT</span><span class="sxs-lookup"><span data-stu-id="55804-214">OTHER_TRANSIENT</span></span>|<span data-ttu-id="55804-215">이 값은 현재 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-215">This value is currently not used.</span></span>|  
|<span data-ttu-id="55804-216">16</span><span class="sxs-lookup"><span data-stu-id="55804-216">16</span></span>|<span data-ttu-id="55804-217">XTP_CHECKPOINT</span><span class="sxs-lookup"><span data-stu-id="55804-217">XTP_CHECKPOINT</span></span>|<span data-ttu-id="55804-218">데이터베이스에 메모리 최적화 파일 그룹이 있는 경우 트랜잭션 로그는 자동 [!INCLUDE[hek_2](../../includes/hek-2-md.md)] 검사점이 트리거될 때까지(로그가 512MB 증가할 때마다 발생함) 잘릴 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-218">When a database has a memory-optimized filegroup, the transaction log may not truncate until automatic [!INCLUDE[hek_2](../../includes/hek-2-md.md)] checkpoint is triggered (which happens at every 512 MB of log growth).</span></span><br /><br /> <span data-ttu-id="55804-219">참고: 512 MB 크기 전에 트랜잭션 로그를 잘라내려면 해당 데이터베이스에 대해 검사점 명령을 수동으로 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-219">Note: To truncate transaction log before 512 MB size, fire the Checkpoint command manually against the database in question.</span></span>|  
  
##  <a name="operations-that-can-be-minimally-logged"></a><a name="MinimallyLogged"></a><span data-ttu-id="55804-220">최소로 기록 될 수 있는 작업</span><span class="sxs-lookup"><span data-stu-id="55804-220">Operations That Can Be Minimally Logged</span></span>  
 <span data-ttu-id="55804-221">*최소 로깅* 은 지정 시간 복구를 지원하지 않고 트랜잭션을 복구하는 데 필요한 정보만 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-221">*Minimal logging* involves logging only the information that is required to recover the transaction without supporting point-in-time recovery.</span></span> <span data-ttu-id="55804-222">이 항목에서는 대량 로그 복구 모델 및 단순 복구 모델(백업이 실행 중인 경우 제외)에서 최소 로깅되는 작업을 식별합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-222">This topic identifies the operations that are minimally logged under the bulk-logged recovery model (as well as under the simple recovery model, except when a backup is running).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="55804-223">최소 로깅은 메모리 최적화 테이블에 대해 지원되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-223">Minimal logging is not supported for memory-optimized tables.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="55804-224">전체 복구 모델에서는 모든 대량 작업을 완전히 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="55804-224">Under the full recovery model, all bulk operations are fully logged.</span></span> <span data-ttu-id="55804-225">그러나 대량 작업에 대해 일시적으로 데이터베이스를 대량 로그 복구 모델로 전환하여 대량 작업 집합의 로깅을 최소화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-225">However, you can minimize logging for a set of bulk operations by switching the database to the bulk-logged recovery model temporarily for bulk operations.</span></span> <span data-ttu-id="55804-226">최소 로깅은 전체 로깅보다 효율적이며 대규모 대량 작업이 대량 트랜잭션 중에 사용 가능한 트랜잭션 로그 공간을 꽉 채울 가능성을 줄여줍니다.</span><span class="sxs-lookup"><span data-stu-id="55804-226">Minimal logging is more efficient than full logging, and it reduces the possibility of a large-scale bulk operation filling the available transaction log space during a bulk transaction.</span></span> <span data-ttu-id="55804-227">그러나 최소 로깅을 사용할 때 데이터베이스가 손상되거나 손실되면 데이터베이스를 오류 지점으로 복구할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-227">However, if the database is damaged or lost when minimal logging is in effect, you cannot recover the database to the point of failure.</span></span>  
  
 <span data-ttu-id="55804-228">전체 복구 모델에서 전체 로깅되는 다음 작업은 단순 및 대량 로그 복구 모델에서 최소 로깅됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-228">The following operations, which are fully logged under the full recovery model, are minimally logged under the simple and bulk-logged recovery model:</span></span>  
  
-   <span data-ttu-id="55804-229">대량 가져오기 작업([bcp](../../tools/bcp-utility.md), [BULK INSERT](/sql/t-sql/statements/bulk-insert-transact-sql) 및 [INSERT... SELECT](/sql/t-sql/statements/insert-transact-sql))</span><span class="sxs-lookup"><span data-stu-id="55804-229">Bulk import operations ([bcp](../../tools/bcp-utility.md), [BULK INSERT](/sql/t-sql/statements/bulk-insert-transact-sql), and [INSERT... SELECT](/sql/t-sql/statements/insert-transact-sql)).</span></span> <span data-ttu-id="55804-230">테이블로 대량 가져오기 작업이 최소한으로 기록되는 경우에 대한 자세한 내용은 [Prerequisites for Minimal Logging in Bulk Import](../import-export/prerequisites-for-minimal-logging-in-bulk-import.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="55804-230">For more information about when bulk import into a table is minimally logged, see [Prerequisites for Minimal Logging in Bulk Import](../import-export/prerequisites-for-minimal-logging-in-bulk-import.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="55804-231">트랜잭션 복제를 사용하는 경우 대량 로그 복구 모델에서도 BULK INSERT 작업이 모두 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-231">When transactional replication is enabled, BULK INSERT operations are fully logged even under the Bulk Logged recovery model.</span></span>  
  
-   <span data-ttu-id="55804-232">SELECT [INTO](/sql/t-sql/queries/select-into-clause-transact-sql) 작업.</span><span class="sxs-lookup"><span data-stu-id="55804-232">SELECT [INTO](/sql/t-sql/queries/select-into-clause-transact-sql) operations.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="55804-233">트랜잭션 복제를 사용하는 경우 대량 로그 복구 모델에서도 SELECT INTO 작업이 모두 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-233">When transactional replication is enabled, SELECT INTO operations are fully logged even under the Bulk Logged recovery model.</span></span>  
  
-   <span data-ttu-id="55804-234">새 데이터를 삽입 또는 추가할 때 [UPDATE](/sql/t-sql/queries/update-transact-sql) 문의 .WRITE 절을 사용하여 큰 값 데이터 형식을 부분적으로 업데이트하는 작업.</span><span class="sxs-lookup"><span data-stu-id="55804-234">Partial updates to large value data types, using the .WRITE clause in the [UPDATE](/sql/t-sql/queries/update-transact-sql) statement when inserting or appending new data.</span></span> <span data-ttu-id="55804-235">기존 값이 업데이트되는 경우 최소 로깅이 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-235">Note that minimal logging is not used when existing values are updated.</span></span> <span data-ttu-id="55804-236">큰 값 데이터 형식에 대한 자세한 내용은 [데이터 형식&#40;Transact-SQL&#41;](/sql/t-sql/data-types/data-types-transact-sql)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="55804-236">For more information about large value data types, see [Data Types &#40;Transact-SQL&#41;](/sql/t-sql/data-types/data-types-transact-sql).</span></span>  
  
-   <span data-ttu-id="55804-237">[WRITETEXT](/sql/t-sql/queries/writetext-transact-sql) [UPDATETEXT](/sql/t-sql/queries/updatetext-transact-sql) `text` , `ntext` 및 `image` 데이터 형식 열에 새 데이터를 삽입 또는 추가할 때 WRITETEXT 및 UPDATETEXT 문</span><span class="sxs-lookup"><span data-stu-id="55804-237">[WRITETEXT](/sql/t-sql/queries/writetext-transact-sql) and [UPDATETEXT](/sql/t-sql/queries/updatetext-transact-sql) statements when inserting or appending new data into the `text`, `ntext`, and `image` data type columns.</span></span> <span data-ttu-id="55804-238">기존 값이 업데이트되는 경우 최소 로깅이 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-238">Note that minimal logging is not used when existing values are updated.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="55804-239">WRITETEXT 및 UPDATETEXT 문은 더 이상 사용되지 않으므로 새 애플리케이션에서 사용하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="55804-239">The WRITETEXT and UPDATETEXT statements are deprecated, so you should avoid using them in new applications.</span></span>  
  
-   <span data-ttu-id="55804-240">데이터베이스가 단순 또는 대량 로그 복구 모델로 설정되면 작업이 오프라인으로 실행되든 온라인으로 실행되든 관계없이 일부 인덱스 DDL 작업이 최소 로깅됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-240">If the database is set to the simple or bulk-logged recovery model, some index DDL operations are minimally logged whether the operation is executed offline or online.</span></span> <span data-ttu-id="55804-241">최소한으로 로깅되는 인덱스 작업은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="55804-241">The minimally logged index operations are as follows:</span></span>  
  
    -   <span data-ttu-id="55804-242">[CREATE INDEX](/sql/t-sql/statements/create-index-transact-sql) 작업(인덱싱된 뷰 포함)</span><span class="sxs-lookup"><span data-stu-id="55804-242">[CREATE INDEX](/sql/t-sql/statements/create-index-transact-sql) operations (including indexed views).</span></span>  
  
    -   <span data-ttu-id="55804-243">[ALTER INDEX](/sql/t-sql/statements/alter-index-transact-sql) REBUILD 또는 DBCC DBREINDEX 작업</span><span class="sxs-lookup"><span data-stu-id="55804-243">[ALTER INDEX](/sql/t-sql/statements/alter-index-transact-sql) REBUILD or DBCC DBREINDEX operations.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="55804-244">DBCC DBREINDEX 문은 더 이상 사용되지 않으므로 새 애플리케이션에서 사용하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="55804-244">The DBCC DBREINDEX statement is deprecated so you should avoid using it in new applications.</span></span>  
  
    -   <span data-ttu-id="55804-245">DROP INDEX 새 힙 다시 작성(해당 사항이 있을 경우)</span><span class="sxs-lookup"><span data-stu-id="55804-245">DROP INDEX new heap rebuild (if applicable).</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="55804-246">[DROP INDEX](/sql/t-sql/statements/drop-index-transact-sql) 작업 중의 인덱스 페이지 할당 취소는 항상 모두 로깅됩니다.</span><span class="sxs-lookup"><span data-stu-id="55804-246">Index page deallocation during a [DROP INDEX](/sql/t-sql/statements/drop-index-transact-sql) operation is always fully logged.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="55804-247">관련 작업</span><span class="sxs-lookup"><span data-stu-id="55804-247">Related Tasks</span></span>  
 `Managing the transaction log`  
  
-   [<span data-ttu-id="55804-248">트랜잭션 로그 파일의 크기 관리</span><span class="sxs-lookup"><span data-stu-id="55804-248">Manage the Size of the Transaction Log File</span></span>](manage-the-size-of-the-transaction-log-file.md)  
  
-   [<span data-ttu-id="55804-249">꽉 찬 트랜잭션 로그 문제 해결&#40;SQL Server 오류 9002&#41;</span><span class="sxs-lookup"><span data-stu-id="55804-249">Troubleshoot a Full Transaction Log &#40;SQL Server Error 9002&#41;</span></span>](troubleshoot-a-full-transaction-log-sql-server-error-9002.md)  
  
 <span data-ttu-id="55804-250">**트랜잭션 로그 백업(전체 복구 모델)**</span><span class="sxs-lookup"><span data-stu-id="55804-250">**Backing Up the Transaction Log (Full Recovery Model)**</span></span>  
  
-   [<span data-ttu-id="55804-251">트랜잭션 로그 백업&#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="55804-251">Back Up a Transaction Log &#40;SQL Server&#41;</span></span>](../backup-restore/back-up-a-transaction-log-sql-server.md)  
  
 <span data-ttu-id="55804-252">**트랜잭션 로그 복원(전체 복구 모델)**</span><span class="sxs-lookup"><span data-stu-id="55804-252">**Restoring the Transaction Log (Full Recovery Model)**</span></span>  
  
-  [<span data-ttu-id="55804-253">트랜잭션 로그 백업 복원</span><span class="sxs-lookup"><span data-stu-id="55804-253">Restore a Transaction Log Backup</span></span>](../backup-restore/restore-a-transaction-log-backup-sql-server.md)   
  
## <a name="see-also"></a><span data-ttu-id="55804-254">참고 항목</span><span class="sxs-lookup"><span data-stu-id="55804-254">See Also</span></span>  
 <span data-ttu-id="55804-255">[트랜잭션 내구성 제어](control-transaction-durability.md) </span><span class="sxs-lookup"><span data-stu-id="55804-255">[Control Transaction Durability](control-transaction-durability.md) </span></span>  
 <span data-ttu-id="55804-256">[대량 가져오기의 최소 로깅을 위한 선행 조건](../import-export/prerequisites-for-minimal-logging-in-bulk-import.md) </span><span class="sxs-lookup"><span data-stu-id="55804-256">[Prerequisites for Minimal Logging in Bulk Import](../import-export/prerequisites-for-minimal-logging-in-bulk-import.md) </span></span>  
 <span data-ttu-id="55804-257">[SQL Server 데이터베이스 백업 및 복원](../backup-restore/back-up-and-restore-of-sql-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="55804-257">[Back Up and Restore of SQL Server Databases](../backup-restore/back-up-and-restore-of-sql-server-databases.md) </span></span>  
 <span data-ttu-id="55804-258">[데이터베이스 검사점&#40;SQL Server&#41;](database-checkpoints-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="55804-258">[Database Checkpoints &#40;SQL Server&#41;](database-checkpoints-sql-server.md) </span></span>  
 <span data-ttu-id="55804-259">[데이터베이스의 속성 보기 또는 변경](../databases/view-or-change-the-properties-of-a-database.md) </span><span class="sxs-lookup"><span data-stu-id="55804-259">[View or Change the Properties of a Database](../databases/view-or-change-the-properties-of-a-database.md) </span></span>  
 [<span data-ttu-id="55804-260">복구 모델&#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="55804-260">Recovery Models &#40;SQL Server&#41;</span></span>](../backup-restore/recovery-models-sql-server.md)  
  
  
