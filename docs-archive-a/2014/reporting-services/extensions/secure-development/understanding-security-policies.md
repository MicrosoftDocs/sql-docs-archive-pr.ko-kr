---
title: 보안 정책 이해 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- code groups [Reporting Services]
- code access security [Reporting Services], security policies
- Execution permission set
- custom assemblies [Reporting Services], security
- permission sets [Reporting Services]
- expressions [Reporting Services], security
- evidence [Reporting Services]
- FullTrust permission set
- security policies [Reporting Services]
- named permission sets [Reporting Services]
ms.assetid: a9bf043a-139a-4929-9a58-244815323df0
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e03f2ca7aae75f692ba2c888d1fb6bd3f60fb4a4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87660904"
---
# <a name="understanding-security-policies"></a><span data-ttu-id="6feec-102">보안 정책 이해</span><span class="sxs-lookup"><span data-stu-id="6feec-102">Understanding Security Policies</span></span>
  <span data-ttu-id="6feec-103">보고서 서버에 의해 실행되는 모든 코드는 특정 코드 액세스 보안 정책의 일부여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-103">Any code that is executed by a report server must be part of a specific code access security policy.</span></span> <span data-ttu-id="6feec-104">이러한 보안 정책은 증명 정보를 일련의 명명된 권한 집합에 매핑하는 코드 그룹으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-104">These security policies consist of code groups that map evidence to a set of named permission sets.</span></span> <span data-ttu-id="6feec-105">코드 그룹은 해당 그룹의 코드에 대해 허용 가능한 권한을 지정하는 명명된 권한 집합과 연결되어 있는 경우가 많습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-105">Often, code groups are associated with a named permission set that specifies the allowable permissions for code in that group.</span></span> <span data-ttu-id="6feec-106">런타임은 신뢰할 수 있는 호스트 또는 로더가 제공하는 증명 정보를 사용하여 코드가 속하는 코드 그룹을 결정하고 이에 따라 코드에 부여할 권한을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-106">The runtime uses evidence provided by a trusted host or by the loader to determine which code groups the code belongs to and, therefore, which permissions to grant the code.</span></span> [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]<span data-ttu-id="6feec-107">는 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] CLR(공용 언어 런타임)에 의해 정의된 대로 이 보안 정책 아키텍처를 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-107">adheres to this security policy architecture as defined by the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] common language runtime (CLR).</span></span> <span data-ttu-id="6feec-108">다음 섹션에서는 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]의 다양한 코드 유형 및 이와 연결된 정책 규칙에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-108">The following sections describe the various types of code in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] and the policy rules associated with them.</span></span>  
  
## <a name="report-server-assemblies"></a><span data-ttu-id="6feec-109">보고서 서버 어셈블리</span><span class="sxs-lookup"><span data-stu-id="6feec-109">Report Server Assemblies</span></span>  
 <span data-ttu-id="6feec-110">보고서 서버 어셈블리는 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] 제품의 일부인 코드를 포함하는 어셈블리입니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-110">Report server assemblies are those that contain code that is part of the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] product.</span></span> [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]<span data-ttu-id="6feec-111">는 관리 코드 어셈블리를 사용하여 작성됩니다. 이러한 모든 어셈블리에는 강력한 이름이 지정(디지털로 서명)됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-111">is written using managed code assemblies; all of these assemblies are strong-named (that is, digitally signed).</span></span> <span data-ttu-id="6feec-112">이러한 어셈블리에 대한 코드 그룹은 어셈블리의 강력한 이름에 대한 공개 키 정보를 기반으로 증명 정보를 제공하는 **StrongNameMembershipCondition**을 사용하여 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-112">The code groups for these assemblies are defined using the **StrongNameMembershipCondition**, which provides evidence based on public key information for the assembly's strong name.</span></span> <span data-ttu-id="6feec-113">코드 그룹에는 **FullTrust** 권한 집합이 부여됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-113">The code group is granted the **FullTrust** permission set.</span></span>  
  
## <a name="report-server-extensions-rendering-data-delivery-and-security"></a><span data-ttu-id="6feec-114">보고서 서버 확장 프로그램(렌더링, 데이터, 배달 및 보안)</span><span class="sxs-lookup"><span data-stu-id="6feec-114">Report Server Extensions (Rendering, Data, Delivery, and Security)</span></span>  
 <span data-ttu-id="6feec-115">보고서 서버 확장 프로그램은 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]의 기능을 확장하기 위해 만드는 사용자 지정 데이터, 배달, 렌더링 및 보안 확장 프로그램입니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-115">Report server extensions are custom data, delivery, rendering, and security extensions that you or other third-parties create in order to extend the functionality of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="6feec-116">확장하는 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] 구성 요소와 연결된 정책 구성 파일에서 이러한 확장 프로그램 또는 어셈블리 코드에 **FullTrust**를 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-116">You must grant **FullTrust** to these extensions or assembly code in the policy configuration files associated with the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] component you are extending.</span></span> <span data-ttu-id="6feec-117">[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]의 일부로 제공되는 확장 프로그램은 보고서 서버 공개 키로 서명되며 **FullTrust** 권한 집합을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-117">Extensions shipped as a part of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] are signed with the report server public key and receive the **FullTrust** permission set.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="6feec-118">타사 확장 프로그램에 대해 **FullTrust**를 허용하려면 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] 정책 구성 파일을 수정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-118">You must modify the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] policy configuration files to allow **FullTrust** for any third-party extensions.</span></span> <span data-ttu-id="6feec-119">사용자 지정 확장 프로그램에 대해 **FullTrust**가 있는 코드 그룹을 추가하지 않으면 해당 확장 프로그램을 보고서 서버에서 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-119">If you do not add a code group with **FullTrust** for your custom extensions, they cannot be used by the report server.</span></span>  
  
 <span data-ttu-id="6feec-120">[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]의 정책 구성 파일에 대한 자세한 내용은 [Reporting Services 보안 정책 파일 사용](using-reporting-services-security-policy-files.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="6feec-120">For more information about the policy configuration files in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], see [Using Reporting Services Security Policy Files](using-reporting-services-security-policy-files.md).</span></span>  
  
## <a name="expressions-used-in-reports"></a><span data-ttu-id="6feec-121">보고서에 사용되는 식</span><span class="sxs-lookup"><span data-stu-id="6feec-121">Expressions Used in Reports</span></span>  
 <span data-ttu-id="6feec-122">보고서 식은 보고서 정의 언어 파일의 **Code** 요소 내에 포함된 인라인 코드 식 또는 사용자 정의 메서드입니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-122">Report expressions are inline code expressions or user-defined methods contained within the **Code** element of a report definition language file.</span></span> <span data-ttu-id="6feec-123">기본적으로 **Execution** 권한 집합을 이러한 식에 부여하는 코드 그룹이 정책 파일에 이미 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-123">There is a code group that is already configured in the policy files that grants these expressions the **Execution** permission set by default.</span></span> <span data-ttu-id="6feec-124">코드 그룹은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-124">The code group looks like the following:</span></span>  
  
```  
<CodeGroup  
   class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="Execution"  
   Name="Report_Expressions_Default_Permissions"  
   Description="This code group grants default permissions for code in report expressions and Code element. ">  
    <IMembershipCondition  
       class="StrongNameMembershipCondition"  
       version="1"  
       PublicKeyBlob="002400..."  
    />  
</CodeGroup>  
```  
  
 <span data-ttu-id="6feec-125">**Execution** 권한을 사용하면 코드를 실행할 수 있지만 보호된 리소스는 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-125">**Execution** permission allows code to run (execute), but not to use protected resources.</span></span> <span data-ttu-id="6feec-126">보고서 내의 모든 식은 컴파일된 보고서의 일부로 저장되는 어셈블리("식 호스트" 어셈블리)로 컴파일됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-126">All expressions found within a report are compiled into an assembly (called an "expression host" assembly) that is stored as a part of the compiled report.</span></span> <span data-ttu-id="6feec-127">보고서가 실행되면 보고서 서버는 식 호스트 어셈블리를 로드하고 해당 어셈블리를 호출하여 식을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-127">When the report is executed, the report server loads the expression host assembly and makes calls into that assembly to execute expressions.</span></span> <span data-ttu-id="6feec-128">식 호스트 어셈블리는 모든 식 호스트에 대한 코드 그룹을 정의하는 데 사용되는 특정 키로 서명됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-128">Expression host assemblies are signed with a specific key that is used to define the code group for all expression hosts.</span></span>  
  
 <span data-ttu-id="6feec-129">보고서 식은 보고서 개체 모델 컬렉션(필드, 매개 변수 등)을 참조하고 산술 및 문자열 연산과 같은 간단한 태스크를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-129">Report expressions reference report object model collections (fields, parameters, etc.) and perform simple tasks like arithmetic and string operations.</span></span> <span data-ttu-id="6feec-130">이러한 간단한 연산을 수행하는 코드에는 **Execution** 권한만 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-130">Code that performs these simple operations only requires **Execution** permission.</span></span> <span data-ttu-id="6feec-131">기본적으로 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]에서 **Code** 요소의 사용자 정의 메서드 및 모든 사용자 지정 어셈블리에는 **Execution** 권한이 부여됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-131">By default, user-defined methods in the **Code** element and any custom assemblies are granted **Execution** permission in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="6feec-132">따라서 대부분의 식에서는 현재 구성에서 보안 정책 파일을 수정하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-132">Thus, for most expressions, the current configuration does not require that you modify any security policy files.</span></span> <span data-ttu-id="6feec-133">식 호스트 어셈블리에 추가 권한을 부여하려면 관리자가 보고서 서버 및 보고서 디자이너의 정책 구성 파일을 수정하고 보고서 식 코드 그룹을 변경해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-133">To grant additional permissions to expression host assemblies, an administrator needs to modify the policy configuration files of the report server and Report Designer, and change the report expressions code group.</span></span> <span data-ttu-id="6feec-134">이는 전역 설정이므로 식 호스트에 대한 기본 권한을 변경하면 모든 보고서가 영향을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-134">Because it is a global setting, changing default permissions for the expression hosts affects all reports.</span></span> <span data-ttu-id="6feec-135">이러한 이유로 추가 보안이 필요한 모든 코드를 사용자 지정 어셈블리에 저장하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-135">For this reason, it is highly recommended that you place all code that requires additional security into a custom assembly.</span></span> <span data-ttu-id="6feec-136">그러면 이 어셈블리에만 사용자에게 필요한 권한이 부여됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-136">Only this assembly will be granted the permissions you need.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="6feec-137">외부 어셈블리 또는 보호된 리소스를 호출하는 코드는 보고서에서 사용할 수 있도록 사용자 지정 어셈블리에 통합되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-137">Code that calls external assemblies or protected resources should be incorporated into a custom assembly for use in reports.</span></span> <span data-ttu-id="6feec-138">이렇게 하면 코드에 의해 요청 및 어설션되는 권한을 보다 자세히 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-138">Doing so gives you more control over the permissions requested and asserted by your code.</span></span> <span data-ttu-id="6feec-139">**Code** 요소 내에서는 보안 메서드를 호출하지 않아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-139">You should not make calls to secure methods within the **Code** element.</span></span> <span data-ttu-id="6feec-140">이렇게 하려면 보고서 식 호스트에 **FullTrust**를 부여하고 모든 사용자 지정 코드에 CLR에 대한 모든 액세스 권한을 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-140">Doing so requires you to grant **FullTrust** to the report expression host and grants all custom code full access to the CLR.</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="6feec-141">보고서 식 호스트에 대한 코드 그룹에 **FullTrust**를 부여하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="6feec-141">Do not grant **FullTrust** to the code group for a report expression host.</span></span> <span data-ttu-id="6feec-142">이렇게 하면 모든 보고서 식이 보호된 시스템 호출을 수행할 수 있게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-142">If you do, you enable all report expressions to make protected system calls.</span></span>  
  
## <a name="custom-assemblies-referenced-in-reports"></a><span data-ttu-id="6feec-143">보고서에서 참조되는 사용자 지정 어셈블리</span><span class="sxs-lookup"><span data-stu-id="6feec-143">Custom Assemblies Referenced in Reports</span></span>  
 <span data-ttu-id="6feec-144">일부 보고서 식은 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]에서 사용자 지정 어셈블리라고도 하는 타사 코드 어셈블리를 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-144">Some report expressions can call third-party code assemblies, also known in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] as custom assemblies.</span></span> <span data-ttu-id="6feec-145">보고서 서버는 정책 구성 파일에서 이러한 어셈블리에 **Execution** 권한 이상이 있을 것이라고 예상합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-145">The report server expects these assemblies to have at least **Execution** permission in the policy configuration files.</span></span> <span data-ttu-id="6feec-146">기본적으로 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]와 함께 제공되는 정책 파일은 ‘내 컴퓨터’ 영역에서 시작하는 모든 어셈블리에 **Execution** 권한을 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-146">By default, policy files that ship with [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] grant **Execution** permission to all assemblies starting from the 'My Computer' zone.</span></span> <span data-ttu-id="6feec-147">필요에 따라 사용자 지정 어셈블리에 추가 권한을 부여할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-147">You can grant additional permissions to custom assemblies as needed.</span></span>  
  
 <span data-ttu-id="6feec-148">보고서 식에서 특정 코드 권한이 필요한 작업을 수행해야 하는 경우도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-148">In some cases, you may need to perform an operation that requires specific code permissions in a report expression.</span></span> <span data-ttu-id="6feec-149">일반적으로 이는 보고서 식이 보안된 CLR 라이브러리 메서드(예: 파일 또는 시스템 레지스트리에 액세스하는 메서드)를 호출해야 함을 의미합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-149">Typically, this means that a report expression needs to make a call to a secured CLR library method (such as one that accesses files or the system registry).</span></span> <span data-ttu-id="6feec-150">이러한 보안 호출을 실행하는 데 필요한 코드 권한은 [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 설명서에 나와 있습니다. 호출을 실행하려면 호출 코드에 이러한 특정 보안 권한을 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-150">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] documentation describes the code permissions that are required to make this secure call; to execute the call, the calling code must be granted these specific, secure permissions.</span></span> <span data-ttu-id="6feec-151">보고서 식 또는 **Code** 식에서 호출하는 경우에는 식 호스트 어셈블리에 적절한 권한을 부여해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-151">If you make the call from a report expression or the **Code** element, the expression host assembly must be granted the appropriate permissions.</span></span> <span data-ttu-id="6feec-152">그러나 식 호스트에 권한을 부여하면 보고서의 모든 식에서 실행되는 모든 코드에 해당 권한이 부여됩니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-152">However, once you grant the expression host the permissions, all code that runs in any expression in any report is now granted that specific permission.</span></span> <span data-ttu-id="6feec-153">그러므로 사용자 지정 어셈블리에서 호출하여 해당 사용자 지정 어셈블리에 특정 권한을 부여하는 것이 훨씬 더 안전합니다.</span><span class="sxs-lookup"><span data-stu-id="6feec-153">It is much more secure to make the call from a custom assembly and grant that custom assembly the specific permissions.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6feec-154">참고 항목</span><span class="sxs-lookup"><span data-stu-id="6feec-154">See Also</span></span>  
 <span data-ttu-id="6feec-155">[Reporting Services의 코드 액세스 보안](code-access-security-in-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="6feec-155">[Code Access Security in Reporting Services](code-access-security-in-reporting-services.md) </span></span>  
 [<span data-ttu-id="6feec-156">안전한 개발&#40;Reporting Services&#41;</span><span class="sxs-lookup"><span data-stu-id="6feec-156">Secure Development &#40;Reporting Services&#41;</span></span>](secure-development-reporting-services.md)  
  
  
