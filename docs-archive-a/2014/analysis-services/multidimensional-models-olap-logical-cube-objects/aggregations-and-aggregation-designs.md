---
title: 집계 및 집계 디자인 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- aggregations [Analysis Services], about aggregations
- storage [Analysis Services], aggregations
- Storage Design Wizard
- data summary [Analysis Services]
- data storage [Analysis Services]
- storing data [Analysis Services], aggregations
- aggregations [Analysis Services]
ms.assetid: 35bd8589-39fa-4e0b-b28f-5a07d70da0a2
author: minewiskan
ms.author: owend
ms.openlocfilehash: c56e80482ef71e8041f8518ae9901691a1809990
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732152"
---
# <a name="aggregations-and-aggregation-designs"></a><span data-ttu-id="f081a-102">Aggregations and Aggregation Designs</span><span class="sxs-lookup"><span data-stu-id="f081a-102">Aggregations and Aggregation Designs</span></span>
  <span data-ttu-id="f081a-103"><xref:Microsoft.AnalysisServices.AggregationDesign>개체는 여러 파티션에서 공유할 수 있는 집계 정의의 집합을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-103">An <xref:Microsoft.AnalysisServices.AggregationDesign> object defines a set of aggregation definitions that can be shared across multiple partitions.</span></span>  
  
 <span data-ttu-id="f081a-104"><xref:Microsoft.AnalysisServices.Aggregation> 개체는 차원의 특정 세분성으로 측정값 그룹의 요약을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-104">An <xref:Microsoft.AnalysisServices.Aggregation> object represents the summarization of measure group data at certain granularity of the dimensions.</span></span>  
  
 <span data-ttu-id="f081a-105">단순 <xref:Microsoft.AnalysisServices.Aggregation> 개체는 기본 정보와 차원으로 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-105">A simple <xref:Microsoft.AnalysisServices.Aggregation> object is composed of: basic information and dimensions.</span></span> <span data-ttu-id="f081a-106">기본 정보에는 집계의 이름, ID, 주석 및 설명이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-106">Basic information includes the name of the aggregation, the ID, annotations, and a description.</span></span> <span data-ttu-id="f081a-107">차원은 차원 세분성 특성 목록을 포함하는 <xref:Microsoft.AnalysisServices.AggregationDimension> 개체의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-107">The dimensions are a collection of <xref:Microsoft.AnalysisServices.AggregationDimension> objects that contain the list of granularity attributes for the dimension.</span></span>  
  
 <span data-ttu-id="f081a-108">집계는 리프 셀의 데이터로 미리 계산된 요약입니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-108">Aggregations are precalculated summaries of data from leaf cells.</span></span> <span data-ttu-id="f081a-109">집계는 질문이 있기 전에 응답을 준비하여 쿼리 응답 시간을 단축시켜 줍니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-109">Aggregations improve query response time by preparing the answers before the questions are asked.</span></span> <span data-ttu-id="f081a-110">예를 들어 수많은 행을 포함하는 데이터 웨어하우스 팩트 테이블에서 특정 제품 라인에 대한 주간 판매 합계를 요청하는 쿼리의 경우 응답을 컴퓨팅하기 위해 쿼리 시 팩트 테이블의 모든 행을 검색하고 합산해야 한다면 응답 시간이 매우 길어질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-110">For example, when a data warehouse fact table contains hundreds of thousands of rows, a query requesting the weekly sales totals for a particular product line can take a long time to answer if all the rows in the fact table have to be scanned and summed at query time to compute the answer.</span></span> <span data-ttu-id="f081a-111">그러나 이 쿼리에 응답하기 위한 요약 데이터가 미리 계산되어 있다면 응답이 거의 즉시 이루어질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-111">However, the response can be almost immediate if the summarization data to answer this query has been precalculated.</span></span> <span data-ttu-id="f081a-112">이러한 요약 데이터 미리 계산은 신속한 응답 시간을 위한 OLAP 기술의 기본이며 처리 과정에서 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-112">This precalculation of summary data occurs during processing and is the foundation for the rapid response times of OLAP technology.</span></span>  
  
 <span data-ttu-id="f081a-113">큐브는 OLAP 기술에서 요약 데이터를 다차원 구조로 구성하는 방법입니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-113">Cubes are the way that OLAP technology organizes summary data into multidimensional structures.</span></span> <span data-ttu-id="f081a-114">차원과 그 특성의 계층에는 큐브에 질문할 수 있는 쿼리가 반영됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-114">Dimensions and their hierarchies of attributes reflect the queries that can be asked of the cube.</span></span> <span data-ttu-id="f081a-115">집계는 차원으로 지정된 좌표에 있는 셀에 다차원 구조로 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-115">Aggregations are stored in the multidimensional structure in cells at coordinates specified by the dimensions.</span></span> <span data-ttu-id="f081a-116">예를 들어, “1998년 제품 X의 북서부 지역 판매량은?” 질문에는</span><span class="sxs-lookup"><span data-stu-id="f081a-116">For example, the question "What were the sales of product X in 1998 for the Northwest region?"</span></span> <span data-ttu-id="f081a-117">3차원(제품, 시간 및 지역)과 단일 측정값(판매)이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-117">involves three dimensions (Product, Time, and Geography) and one measure (Sales).</span></span> <span data-ttu-id="f081a-118">큐브에서 지정한 좌표(제품 X, 1998, 북서부)에 있는 셀 값은 단일 숫자 값이며 질문에 대한 답이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-118">The value of the cell in the cube at the specified coordinates (product X, 1998, Northwest) is the answer, a single numeric value.</span></span>  
  
 <span data-ttu-id="f081a-119">"1998년의 분기별 및 지역별 하드웨어 제품 판매량은 얼마입니까?"와 같이</span><span class="sxs-lookup"><span data-stu-id="f081a-119">Other questions may return multiple values.</span></span> <span data-ttu-id="f081a-120">여러 값을 반환할 수 있는 질문도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-120">For example, "How much were the sales of hardware products by quarter by region for 1998?"</span></span> <span data-ttu-id="f081a-121">이러한 쿼리는 지정한 조건에 맞는 좌표로부터 셀 집합을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-121">Such queries return sets of cells from the coordinates that satisfy the specified conditions.</span></span> <span data-ttu-id="f081a-122">쿼리에서 반환하는 셀 개수는 제품 차원의 하드웨어 수준에 포함된 항목 수, 1998년의 네 분기 및 지리 차원의 지역 수에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-122">The number of cells returned by the query depends on the number of items in the Hardware level of the Product dimension, the four quarters in 1998, and the number of regions in the Geography dimension.</span></span> <span data-ttu-id="f081a-123">모든 요약 데이터가 집계로 미리 계산된 경우에는 지정한 셀을 추출하는 데 필요한 시간에 따라서만 쿼리의 응답 시간이 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-123">If all summary data has been precalculated into aggregations, the response time of the query will depend only on the time that is required to extract the specified cells.</span></span> <span data-ttu-id="f081a-124">팩트 테이블의 데이터를 계산하거나 읽을 필요는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-124">No calculation or reading of data from the fact table is required.</span></span>  
  
 <span data-ttu-id="f081a-125">큐브에서 가능한 집계를 모두 미리 계산하면 모든 쿼리의 응답 시간을 최대한 단축시킬 수 있지만 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 는 미리 계산된 다른 집계에서 일부 집계 값을 쉽게 계산할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-125">Although precalculation of all possible aggregations in a cube might provide the fastest possible response time for all queries, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] can easily calculate some aggregrated values from other precalculated aggregations.</span></span> <span data-ttu-id="f081a-126">또한 가능한 집계를 모두 계산하려면 처리 시간과 스토리지가 많이 소요됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-126">Additionally, calculating all possible aggregations requires significant processing time and storage.</span></span> <span data-ttu-id="f081a-127">그러므로 스토리지 요구 사항과 미리 계산할 수 있는 집계 비율 간에는 상호 균형이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-127">Therefore, there is a tradeoff between storage requirements and the percentage of possible aggregations that are precalculated.</span></span> <span data-ttu-id="f081a-128">집계를 전혀 미리 계산하지 않으면(0%) 큐브에 필요한 처리 시간과 스토리지 공간이 최소화되지만 먼저 각 쿼리에 응답하는 데 필요한 데이터를 리프 셀에서 검색한 후 쿼리 시에 각 쿼리에 대한 응답을 위해 집계를 수행해야 하므로 쿼리 응답 시간이 연장될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-128">If no aggregations are precalculated (0%), the amount of required processing time and storage space for a cube is minimized, but query response time may be slow because the data required to answer each query must be retrieved from the leaf cells and then aggregated at query time to answer each query.</span></span> <span data-ttu-id="f081a-129">예를 들어 앞의 질문 "1998년 북서부 지역의 제품 X 판매량은 얼마입니까?"에 대한 응답으로 단일 숫자를 반환하기 위해 수많은 데이터 행을 읽어야 하며 각 행에서 판매 측정값을 제공하는 데 사용되는 열 값을 추출하여 합계를 계산해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-129">For example, returning a single number that answers the question asked earlier ("What were the sales of product X in 1998 for the Northwest region") might require reading thousands of rows of data, extracting the value of the column used to provide the Sales measure from each row, and then calculating the sum.</span></span> <span data-ttu-id="f081a-130">또한 데이터를 검색 하는 데 필요한 시간은 데이터에 대해 선택한 저장소 모드 (MOLAP, HOLAP 또는 ROLAP)에 따라 크게 달라 집니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-130">Moreover, the length of time required to retrieve that data will very depending on the storage mode chosen for the data-MOLAP, HOLAP, or ROLAP.</span></span>  
  
## <a name="designing-aggregations"></a><span data-ttu-id="f081a-131">집계 디자인</span><span class="sxs-lookup"><span data-stu-id="f081a-131">Designing Aggregations</span></span>  
 [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="f081a-132">는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 미리 계산 된 값에서 다른 집계를 신속 하 게 계산할 수 있도록 미리 계산할 집계를 선택 하기 위한 정교한 알고리즘을 통합 합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-132">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] incorporates a sophisticated algorithm to select aggregations for precalculation so that other aggregations can be quickly computed from the precalculated values.</span></span> <span data-ttu-id="f081a-133">예를 들어 시간 계층의 월 수준에 대해 집계를 미리 계산하면 사분기 수준에 대한 계산에는 요청 시 신속하게 계산할 수 있는 3가지 숫자의 요약만 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-133">For example, if the aggregations are precalculated for the Month level of a Time hierarchy, the calculation for a Quarter level requires only the summarization of three numbers, which can be quickly computed on demand.</span></span> <span data-ttu-id="f081a-134">이 기술을 통해 쿼리 응답 시간에 주는 영향을 최소화하면서 처리 시간을 절약하고 스토리지 요구 사항을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-134">This technique saves processing time and reduces storage requirements, with minimal effect on query response time.</span></span>  
  
 <span data-ttu-id="f081a-135">집계 디자인 마법사는 쿼리 응답 시간과 스토리지 요구 사항 간의 적절한 균형을 이루기 위한 알고리즘에 대해 스토리지 및 비율 제약 조건을 지정할 수 있는 옵션을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-135">The Aggregation Design Wizard provides options for you to specify storage and percentage constraints on the algorithm to achieve a satisfactory tradeoff between query response time and storage requirements.</span></span> <span data-ttu-id="f081a-136">그러나 집계 디자인 마법사의 알고리즘은 가능한 쿼리가 모두 균일하다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-136">However, the Aggregation Design Wizard's algorithm assumes that all possible queries are equally likely.</span></span> <span data-ttu-id="f081a-137">사용 빈도 기반 최적화 마법사를 사용하면 클라이언트 애플리케이션에서 제출한 쿼리를 분석하여 측정값 그룹에 대한 집계 디자인을 조정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-137">The Usage-Based Optimization Wizard lets you adjust the aggregation design for a measure group by analyzing the queries that have been submitted by client applications.</span></span> <span data-ttu-id="f081a-138">또한 이 마법사를 통해 큐브의 집계를 튜닝하여 큐브에 필요한 스토리지에 큰 영향을 주지 않으면서 빈번히 발생하는 쿼리에 대해서는 응답 능력을 향상시키고 빈번히 발생하지 않는 쿼리에 대해서는 응답 능력을 감소시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-138">By using the wizard to tune a cube's aggregation you can increase responsiveness to frequent queries and decrease responsiveness to infrequent queries without significantly affecting the storage needed for the cube.</span></span>  
  
 <span data-ttu-id="f081a-139">집계는 마법사를 사용하여 디자인되지만 집계가 디자인되는 파티션을 처리한 다음에만 실제로 계산됩니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-139">Aggregations are designed by using the wizards but are not actually calculated until the partition for which the aggregations are designed is processed.</span></span> <span data-ttu-id="f081a-140">집계가 생성된 다음 큐브 구조가 변경되는 경우 또는 큐브의 원본 테이블에서 데이터가 추가되거나 변경되는 경우에는 일반적으로 큐브의 집계를 검토하고 큐브를 다시 처리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="f081a-140">After the aggregation has been created, if the structure of a cube ever changes, or if data is added to or changed in a cube's source tables, it is usually necessary to review the cube's aggregations and process the cube again.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f081a-141">참고 항목</span><span class="sxs-lookup"><span data-stu-id="f081a-141">See Also</span></span>  
 [<span data-ttu-id="f081a-142">파티션 스토리지 모드 및 처리</span><span class="sxs-lookup"><span data-stu-id="f081a-142">Partition Storage Modes and Processing</span></span>](partitions-partition-storage-modes-and-processing.md)  
  
  
