---
title: 비정형 계층 구조 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- ragged hierarchies [Analysis Services]
ms.assetid: e40a5788-7ede-4b0f-93ab-46ca33d0cace
author: minewiskan
ms.author: owend
ms.openlocfilehash: 02cbb24b7ae80facf0ddbb1495fccc8f848df377
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87740528"
---
# <a name="ragged-hierarchies"></a><span data-ttu-id="e0636-102">비정형 계층 구조</span><span class="sxs-lookup"><span data-stu-id="e0636-102">Ragged Hierarchies</span></span>
  <span data-ttu-id="e0636-103">비정형 계층은 균일하지 않은 수준 수가 있는 사용자 정의 계층입니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-103">A ragged hierarchy is a user-defined hierarchy that has an uneven number of levels.</span></span> <span data-ttu-id="e0636-104">일반적인 예로 계정 차트, 고위 관리자가 부서 관리자와 비관리자를 부하 직원으로 둔 조직 차트, Washington D.C., Vatican City 또는 New Delhi와 같이 부모 State 또는 Province가 없이 Country-Region-City로 구성된 지역 계층 등이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-104">Common examples include an organizational chart where a high-level manager has both departmental managers and non-managers as direct reports, or geographic hierarchies composed of Country-Region-City, where some cities lack a parent State or Province, such as Washington D.C., Vatican City, or New Delhi.</span></span>  
  
 <span data-ttu-id="e0636-105">차원의 대부분의 계층에서는 각 수준 위에 동일한 수준의 다른 멤버와 같은 수의 멤버가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-105">For most hierarchies in a dimension, each level has the same number of members above it as any other member at the same level.</span></span> <span data-ttu-id="e0636-106">비정형 계층에서는 최소한 한 멤버의 논리적 부모 멤버가 해당 멤버 바로 위 수준에 있지 않다는 점이 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-106">A ragged hierarchy is different in that the logical parent of at least one member is not in the level immediately above the member.</span></span> <span data-ttu-id="e0636-107">이러한 경우 계층이 여러 드릴다운 경로에 대한 서로 다른 수준으로 이어집니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-107">When this occurs, the hierarchy descends to different levels for different drilldown paths.</span></span> <span data-ttu-id="e0636-108">클라이언트 애플리케이션에서 이로 인해 드릴다운 경로가 불필요하게 복잡해질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-108">In a client application, this can make drilldown paths unnecessarily complicated.</span></span>  
  
 <span data-ttu-id="e0636-109">클라이언트 애플리케이션에 따라 비정형 계층을 얼마나 효과적으로 처리하는지가 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-109">Client applications vary in how well they handle a ragged hierarchy.</span></span> <span data-ttu-id="e0636-110">비정형 계층이 모델에 있는 경우 예상하는 렌더링 동작을 얻으려면 약간의 추가 작업을 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-110">If ragged hierarchies exist in your model, be prepared to do a little extra work to get the rendering behavior you expect.</span></span>  
  
 <span data-ttu-id="e0636-111">첫 번째 단계로 클라이언트 애플리케이션을 확인하여 드릴다운 경로를 처리하는 방법을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-111">As a first step, check the client application to see how it handles the drilldown path.</span></span> <span data-ttu-id="e0636-112">예를 들어 Excel의 경우 누락된 값에 대한 자리 표시자로 부모 이름이 반복됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-112">For example, Excel repeats the parent names as placeholders for missing values.</span></span> <span data-ttu-id="e0636-113">이 동작을 직접 보려면 Adventure Works 다차원 모델에서 Sales Territory 차원을 사용하여 피벗 테이블을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-113">To see this behavior yourself, build a PivotTable using the Sales Territory dimension in the Adventure Works multidimensional model.</span></span> <span data-ttu-id="e0636-114">Group, Country 및 Region이라는 Sales Territory 특성이 있는 피벗 테이블에서 지역 값이 없는 국가가 자리 표시자를 얻게 되며, 이 경우에는 자리 표시자 위에 부모(국가 이름)가 반복됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-114">In a PivotTable having the Sales Territory attributes Group, Country, and Region, you will see that countries missing a region value will get a placeholder, in this case a repeat of the parent above it (Country name).</span></span> <span data-ttu-id="e0636-115">이 동작은 Excel에서 수정된 MDX Compatibility=1 연결 문자열 속성에서 파생된 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-115">This behavior derives from the MDX Compatibility=1 connection string property that is fixed within Excel.</span></span> <span data-ttu-id="e0636-116">클라이언트가 찾고 있는 드릴다운 동작을 자연히 제공하지 않는 경우 이러한 동작 중 최소한 일부를 변경하도록 모델의 속성을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-116">If the client does not naturally provide the drill-down behaviors you are looking for, you can set properties in the model to change at least some of those behaviors.</span></span>  
  
 <span data-ttu-id="e0636-117">이 항목에는 다음과 같은 섹션이 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-117">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="e0636-118">비정형 계층에서 드릴 다운 탐색을 수정 하기 위한 방법</span><span class="sxs-lookup"><span data-stu-id="e0636-118">Approaches for modifying drilldown navigation in a ragged hierarchy</span></span>](#bkmk_approach)  
  
-   [<span data-ttu-id="e0636-119">HideMemberIf를 설정 하 여 일반 계층의 멤버를 숨깁니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-119">Set HideMemberIf to hide members in a regular hierarchy</span></span>](#bkmk_Hide)  
  
-   [<span data-ttu-id="e0636-120">MDX Compatibility를 설정하여 자리 표시자가 클라이언트 애플리케이션에서 표현되는 방법 결정</span><span class="sxs-lookup"><span data-stu-id="e0636-120">Set MDX Compatibility to determine how placeholders are represented in client applications</span></span>](#bkmk_Mdx)  
  
##  <a name="approaches-for-modifying-drilldown-navigation-in-a-ragged-hierarchy"></a><a name="bkmk_approach"></a> <span data-ttu-id="e0636-121">비정형 계층에서 드릴다운 탐색을 수정하기 위한 방법</span><span class="sxs-lookup"><span data-stu-id="e0636-121">Approaches for modifying drilldown navigation in a ragged hierarchy</span></span>  
 <span data-ttu-id="e0636-122">비정형 계층의 존재는 드릴다운 탐색이 예상되는 값을 반환하지 않거나 사용하기에 비효율적인 것으로 인식될 때 문제가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-122">The presence of a ragged hierarchy becomes a problem when drilldown navigation does not return expected values or is perceived as awkward to use.</span></span> <span data-ttu-id="e0636-123">비정형 계층으로 인해 발생하는 탐색 문제를 해결하려면 다음 옵션을 사용해 보십시오.</span><span class="sxs-lookup"><span data-stu-id="e0636-123">To fix navigation problems that result from ragged hierarchies, consider these options:</span></span>  
  
-   <span data-ttu-id="e0636-124">일반 계층을 사용하지만 각 수준에 대해 `HideMemberIf` 속성을 설정하여 누락된 수준을 사용자에게 시각화할지 여부를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-124">Use a regular hierarchy but set the `HideMemberIf` property on each level to specify whether a missing level is visualized to the user.</span></span> <span data-ttu-id="e0636-125">`HideMemberIf`를 설정하는 경우 연결 문자열에 대한 `MDXCompatibility`도 설정하여 기본 탐색 동작을 재정의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-125">When setting `HideMemberIf`, you should also set `MDXCompatibility` on the connection string to override default navigation behaviors.</span></span> <span data-ttu-id="e0636-126">이러한 속성을 설정하는 지침이 이 항목에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-126">Instructions for setting these properties are in this topic.</span></span>  
  
-   <span data-ttu-id="e0636-127">수준 멤버를 명시적으로 관리하는 부모-자식 계층을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-127">Create a parent-child hierarchy that explicitly manages the level members.</span></span> <span data-ttu-id="e0636-128">이 기술의 일러스트레이션을 보려면 [SSAS의 비정형 계층(블로그 포스트)](http://dwbi1.wordpress.com/2011/03/30/ragged-hierarchy-in-ssas/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="e0636-128">For an illustration of the technique, see [Ragged Hierarchy in SSAS (blog post)](http://dwbi1.wordpress.com/2011/03/30/ragged-hierarchy-in-ssas/).</span></span> <span data-ttu-id="e0636-129">온라인 설명서에 대 한 자세한 내용은 [부모-자식 계층](parent-child-dimension.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e0636-129">For more information in Books Online, see [Parent-Child Hierarchy](parent-child-dimension.md).</span></span> <span data-ttu-id="e0636-130">부모-자식 계층을 만드는 경우의 단점은 차원당 부모-자식 계층이 하나만 있을 수 있으며 중간 멤버에 대한 집계를 계산할 때 일반적으로 성능 저하가 발생하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-130">Downsides to creating a parent-child hierarchy are that you can only have one per dimension, and you typically incur a performance penalty when calculating aggregations for intermediate members.</span></span>  
  
 <span data-ttu-id="e0636-131">차원에 둘 이상의 비정형 계층이 포함된 경우 첫 번째 방법인 `HideMemberIf`를 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-131">If your dimension contains more than one ragged hierarchy, you should use the first approach, setting `HideMemberIf`.</span></span> <span data-ttu-id="e0636-132">비정형 계층 작업 실무 경험이 있는 BI 개발자는 물리적 데이터 테이블에서 추가 변경 내용을 지원하고 각 수준에 대한 별도의 테이블을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-132">BI Developers with practical experience in working with ragged hierarchies go further in advocating for additional changes in the physical data tables, creating separate tables for each level.</span></span> <span data-ttu-id="e0636-133">이 기술에 대 한 자세한 내용은 [Martin Mason 'S SSAS 금융 큐브-파트 1a-비정형 계층 (블로그)](http://martinmason.wordpress.com/2012/03/03/the-ssas-financial-cubepart-1aragged-hierarchies-cont/) 을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e0636-133">See [Martin Mason's the SSAS Financial Cube-Part 1a-Ragged Hierarchies (blog)](http://martinmason.wordpress.com/2012/03/03/the-ssas-financial-cubepart-1aragged-hierarchies-cont/) for details about this technique.</span></span>  
  
##  <a name="set-hidememberif-to-hide-members-in-a-regular-hierarchy"></a><a name="bkmk_Hide"></a> <span data-ttu-id="e0636-134">일반 계층에서 멤버를 숨기도록 HideMemberIf 설정</span><span class="sxs-lookup"><span data-stu-id="e0636-134">Set HideMemberIf to hide members in a regular hierarchy</span></span>  
 <span data-ttu-id="e0636-135">비정형 차원 테이블의 경우 논리적으로 누락된 멤버를 여러 방법으로 표시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-135">In a ragged dimension's table, the logically missing members can be represented in different ways.</span></span> <span data-ttu-id="e0636-136">테이블 셀에는 Null 또는 빈 문자열을 포함할 수 있습니다. 또는 자리 표시자 역할을 하기 위해 부모와 같은 값을 포함할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-136">The table cells can contain nulls or empty strings, or they can contain the same value as their parent to serve as a placeholder.</span></span> <span data-ttu-id="e0636-137">자리 표시자의 표현은 클라이언트 애플리케이션에 대한 `HideMemberIf` 연결 문자열 속성 및 `MDX Compatibility` 속성에 의해 결정되는 자식 멤버의 자리 표시자 상태에 의해 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-137">The representation of placeholders is determined by the placeholder status of child members, as determined by the `HideMemberIf` property, and the `MDX Compatibility` connection string property for the client application.</span></span>  
  
 <span data-ttu-id="e0636-138">비정형 계층의 표시를 지원하는 클라이언트 애플리케이션의 경우 논리적으로 누락된 멤버를 숨기도록 이러한 속성을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-138">For client applications that support the display of ragged hierarchies, you can use these properties to hide logically missing members.</span></span>  
  
1.  <span data-ttu-id="e0636-139">SSDT에서 차원을 두 번 클릭하여 차원 디자이너에서 차원을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-139">In SSDT, double-click a dimension to open it in Dimension Designer.</span></span> <span data-ttu-id="e0636-140">계층 창에서 첫 번째 탭, 차원, 구조가 특성 계층을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-140">The first tab, Dimension Structure, shows attribute hierarchies in the Hierarchies pane.</span></span>  
  
2.  <span data-ttu-id="e0636-141">계층 내의 멤버를 마우스 오른쪽 단추로 클릭하고 **속성**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-141">Right-click a member within the hierarchy and select **Properties**.</span></span> <span data-ttu-id="e0636-142">`HideMemberIf`를 아래 설명된 값 중 하나로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-142">Set `HideMemberIf` to one of the values described below.</span></span>  
  
    |<span data-ttu-id="e0636-143">HideMemberIf 설정</span><span class="sxs-lookup"><span data-stu-id="e0636-143">HideMemberIf Setting</span></span>|<span data-ttu-id="e0636-144">Description</span><span class="sxs-lookup"><span data-stu-id="e0636-144">Description</span></span>|  
    |--------------------------|-----------------|  
    |`Never`|<span data-ttu-id="e0636-145">수준 멤버를 숨기지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-145">Level members are never hidden.</span></span> <span data-ttu-id="e0636-146">기본값입니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-146">This is the default value.</span></span>|  
    |<span data-ttu-id="e0636-147">**OnlyChildWithNoName**</span><span class="sxs-lookup"><span data-stu-id="e0636-147">**OnlyChildWithNoName**</span></span>|<span data-ttu-id="e0636-148">부모의 유일한 자식이고 이름이 Null 또는 빈 문자열인 수준 멤버를 숨깁니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-148">A level member is hidden when it is the only child of its parent and its name is null or an empty string.</span></span>|  
    |<span data-ttu-id="e0636-149">**OnlyChildWithParentName**</span><span class="sxs-lookup"><span data-stu-id="e0636-149">**OnlyChildWithParentName**</span></span>|<span data-ttu-id="e0636-150">부모의 유일한 자식이고 이름이 부모와 동일한 수준 멤버를 숨깁니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-150">A level member is hidden when it is the only child of its parent and its name is the same as the name of its parent.</span></span>|  
    |<span data-ttu-id="e0636-151">**NoName**</span><span class="sxs-lookup"><span data-stu-id="e0636-151">**NoName**</span></span>|<span data-ttu-id="e0636-152">이름이 비어 있는 수준 멤버를 숨깁니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-152">A level member is hidden when its name is empty.</span></span>|  
    |<span data-ttu-id="e0636-153">**ParentName**</span><span class="sxs-lookup"><span data-stu-id="e0636-153">**ParentName**</span></span>|<span data-ttu-id="e0636-154">이름이 부모와 동일한 수준 멤버를 숨깁니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-154">A level member is hidden when its name is identical to that of its parent.</span></span>|  
  
##  <a name="set-mdx-compatibility-to-determine-how-placeholders-are-represented-in-client-applications"></a><a name="bkmk_Mdx"></a><span data-ttu-id="e0636-155">클라이언트 응용 프로그램에서 자리 표시 자가 표시 되는 방식을 결정 하기 위해 MDX 호환성 설정</span><span class="sxs-lookup"><span data-stu-id="e0636-155">Set MDX Compatibility to determine how placeholders are represented in client applications</span></span>  
 <span data-ttu-id="e0636-156">계층 수준에서 `HideMemberIf`를 설정한 후 클라이언트 애플리케이션에서 전송된 연결 문자열에 `MDX Compatibility` 속성도 설정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-156">After setting `HideMemberIf` on a hierarchy level, you should also set the `MDX Compatibility` property in the connection string sent from the client application.</span></span> <span data-ttu-id="e0636-157">`MDX Compatibility` 설정은 `HideMemberIf` 가 사용되는지 여부를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-157">The `MDX Compatibility` setting determines whether the `HideMemberIf` is used.</span></span>  
  
|<span data-ttu-id="e0636-158">MDX 호환성 설정</span><span class="sxs-lookup"><span data-stu-id="e0636-158">MDX Compatibility Setting</span></span>|<span data-ttu-id="e0636-159">Description</span><span class="sxs-lookup"><span data-stu-id="e0636-159">Description</span></span>|<span data-ttu-id="e0636-160">사용</span><span class="sxs-lookup"><span data-stu-id="e0636-160">Usage</span></span>|  
|-------------------------------|-----------------|-----------|  
|<span data-ttu-id="e0636-161">**1**</span><span class="sxs-lookup"><span data-stu-id="e0636-161">**1**</span></span>|<span data-ttu-id="e0636-162">자리 표시자 값을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-162">Show a placeholder value.</span></span>|<span data-ttu-id="e0636-163">이 값은 Excel, SSDT 및 SSMS에서 사용되는 기본값입니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-163">This is the default used by Excel, SSDT, and SSMS.</span></span> <span data-ttu-id="e0636-164">비정형 계층에서 빈 수준을 드릴다운할 때 서버에서 자리 표시자 값을 반환하도록 지시합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-164">It instructs the server to return placeholder values when drilling down empty levels in a ragged hierarchy.</span></span> <span data-ttu-id="e0636-165">자리 표시자 값을 클릭하면 자식(리프) 노드로 계속 드릴다운할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-165">If you click the placeholder value, you can continue down to get to the child (leaf) nodes.</span></span><br /><br /> <span data-ttu-id="e0636-166">Excel은 Analysis Services에 연결하는 데 사용되는 연결 문자열을 소유하고 각 새 연결에 대해 `MDX Compatibility`을 항상 1로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-166">Excel owns the connection string used to connect to Analysis Services, and it always sets `MDX Compatibility` to 1 on each new connection.</span></span> <span data-ttu-id="e0636-167">이 동작은 이전 버전과의 호환성을 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-167">This behavior preserves backward compatibility.</span></span>|  
|<span data-ttu-id="e0636-168">**2**</span><span class="sxs-lookup"><span data-stu-id="e0636-168">**2**</span></span>|<span data-ttu-id="e0636-169">자리 표시자 값(부모 수준의 null 값 또는 중복)을 숨기지만 관련 값을 가진 다른 수준 및 노드는 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-169">Hide a placeholder value (either a null value or a duplicate of the parent level), but show other levels and nodes having relevant values.</span></span>|<span data-ttu-id="e0636-170">`MDX Compatibility`=2는 일반적으로 비정형 계층의 개념으로 기본 설정으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-170">`MDX Compatibility`=2 is typically viewed as the preferred setting in terms of ragged hierarchies.</span></span> <span data-ttu-id="e0636-171">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 보고서 및 일부 타사 클라이언트 애플리케이션에서는 이 설정을 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e0636-171">A [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] report and some third-party client applications can persist this setting.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e0636-172">참고 항목</span><span class="sxs-lookup"><span data-stu-id="e0636-172">See Also</span></span>  
 <span data-ttu-id="e0636-173">[사용자 정의 계층 만들기](user-defined-hierarchies-create.md) </span><span class="sxs-lookup"><span data-stu-id="e0636-173">[Create User-Defined Hierarchies](user-defined-hierarchies-create.md) </span></span>  
 <span data-ttu-id="e0636-174">[사용자 계층](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md) </span><span class="sxs-lookup"><span data-stu-id="e0636-174">[User Hierarchies](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md) </span></span>  
 <span data-ttu-id="e0636-175">[부모-자식 계층](parent-child-dimension.md) </span><span class="sxs-lookup"><span data-stu-id="e0636-175">[Parent-Child Hierarchy](parent-child-dimension.md) </span></span>  
 [<span data-ttu-id="e0636-176">연결 문자열 속성&#40;Analysis Services&#41;</span><span class="sxs-lookup"><span data-stu-id="e0636-176">Connection String Properties &#40;Analysis Services&#41;</span></span>](https://docs.microsoft.com/analysis-services/instances/connection-string-properties-analysis-services)  
  
  
