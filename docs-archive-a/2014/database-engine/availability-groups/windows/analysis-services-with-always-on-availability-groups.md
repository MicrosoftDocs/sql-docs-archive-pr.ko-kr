---
title: Always On 가용성 그룹이 포함된 Analysis Services | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
ms.assetid: 14d16bfd-228c-4870-b463-a283facda965
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 9ea0c7f30fd8f431f70284122df7e2a036658f4e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87646673"
---
# <a name="analysis-services-with-always-on-availability-groups"></a><span data-ttu-id="5eb5c-102">Always On 가용성 그룹이 포함된 Analysis Services</span><span class="sxs-lookup"><span data-stu-id="5eb5c-102">Analysis Services with Always On Availability Groups</span></span>
  <span data-ttu-id="5eb5c-103">AlwaysOn 가용성 그룹은 미리 정의된 SQL Server 관계형 데이터베이스 컬렉션으로, 조건이 한 데이터베이스에서 장애 조치(failover)를 트리거하면 전체 데이터베이스에서 함께 장애 조치가 수행되고, 동일한 가용성 그룹에 있는 다른 인스턴스의 미러된 데이터베이스로 요청을 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-103">An AlwaysOn availability group is a predefined collection of SQL Server relational databases that failover together when conditions trigger a failover in any one database, redirecting requests to a mirrored database on another instance in the same availability group.</span></span> <span data-ttu-id="5eb5c-104">가용성 그룹을 고가용성 솔루션으로 사용하는 경우 해당 그룹의 데이터베이스를 Analysis Services 테이블 형식 또는 다차원 솔루션의 데이터 원본으로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-104">If you are using availability groups as your high availability solution, you can use a database in that group as a data source in an Analysis Services tabular or multidimensional solution.</span></span> <span data-ttu-id="5eb5c-105">가용성 데이터베이스를 사용할 경우 데이터 처리 또는 가져오기, 관계형 데이터 직접 쿼리(ROLAP 스토리지 또는 DirectQuery 모드 사용), 쓰기 저장과 같은 모든 Analysis Services 작업이 예상대로 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-105">All of the following Analysis Services operations work as expected when using an availability database: processing or importing data, querying relational data directly (using ROLAP storage or DirectQuery mode), and writeback.</span></span>  
  
 <span data-ttu-id="5eb5c-106">처리 및 쿼리는 읽기 전용 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-106">Processing and querying are read-only workloads.</span></span> <span data-ttu-id="5eb5c-107">이러한 작업을 읽기 가능한 보조 복제본으로 오프로드하면 성능을 향상시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-107">You can improve performance by offloading these workloads to a readable secondary replica.</span></span> <span data-ttu-id="5eb5c-108">이 시나리오를 위해 추가적인 구성이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-108">Additional configuration is required for this scenario.</span></span> <span data-ttu-id="5eb5c-109">이 항목의 검사 목록을 따라 모든 단계를 수행하십시오.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-109">Use the checklist in this topic to ensure you follow all the steps.</span></span>  
  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="5eb5c-110">필수 조건</span><span class="sxs-lookup"><span data-stu-id="5eb5c-110">Prerequisites</span></span>  
 <span data-ttu-id="5eb5c-111">모든 복제본에 대한 SQL Server 로그인이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-111">You must have a SQL Server login on all replicas.</span></span> <span data-ttu-id="5eb5c-112">가용성 그룹, 수신기 및 데이터베이스를 구성하려면 **sysadmin** 이어야 하지만, 사용자인 경우 **db_datareader** 권한만 있으면 Analysis Services 클라이언트에서 데이터베이스에 액세스할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-112">You must be a **sysadmin** to configure availability groups, listeners, and databases, but users only need **db_datareader** permissions to access the database from an Analysis Services client.</span></span>  
  
 <span data-ttu-id="5eb5c-113">TDS(Tabular Data Stream) 프로토콜 버전 7.4 이상을 지원하는 데이터 공급자(예: SQL Server Native Client 11.0 또는 .NET Framework 4.02의 SQL Server용 공급자)를 사용하십시오.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-113">Use a data provider that supports the tabular data stream (TDS) protocol version 7.4 or newer, such as the SQL Server Native Client 11.0 or the Data Provider for SQL Server in .NET Framework 4.02.</span></span>  
  
 <span data-ttu-id="5eb5c-114">**(읽기 전용 작업의 경우)**.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-114">**(For read-only workloads)**.</span></span> <span data-ttu-id="5eb5c-115">읽기 전용 연결에는 보조 복제본 역할을 구성해야 하고, 가용성 그룹은 라우팅 목록이 있어야 하며, Analysis Services 데이터 원본의 연결에는 가용성 그룹 수신기를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-115">The secondary replica role must be configured for read-only connections, the availability group must have a routing list, and the connection in the Analysis Services data source must specify the availability group listener.</span></span> <span data-ttu-id="5eb5c-116">지침은 이 항목에 설명되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-116">Instructions are provided in this topic.</span></span>  
  
##  <a name="checklist-use-a-secondary-replica-for-read-only-operations"></a><a name="bkmk_UseSecondary"></a><span data-ttu-id="5eb5c-117">검사 목록: 읽기 전용 작업에 보조 복제본 사용</span><span class="sxs-lookup"><span data-stu-id="5eb5c-117">Checklist: Use a secondary replica for read-only operations</span></span>  
 <span data-ttu-id="5eb5c-118">Analysis Services 솔루션에 쓰기 저장이 포함되지 않으면 데이터 원본 연결에 읽기 가능한 보조 복제본을 사용하도록 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-118">Unless your Analysis Services solution includes writeback, you can configure a data source connection to use a readable secondary replica.</span></span> <span data-ttu-id="5eb5c-119">빠른 네트워크 연결인 경우 보조 복제본의 데이터 대기 시간이 매우 적어 주 복제본과 거의 동일한 데이터를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-119">If you have a fast network connection, the secondary replica has very low data latency, providing nearly identical data as the primary replica.</span></span> <span data-ttu-id="5eb5c-120">Analysis Services 작업에 보조 복제본을 사용하면 주 복제본에 대한 읽기-쓰기 경합을 줄이고 가용성 그룹에 있는 보조 복제본의 활용도를 높일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-120">By using the secondary replica for Analysis Services operations, you can reduce read-write contention on the primary replica and get better utilization of secondary replicas in your availability group.</span></span>  
  
 <span data-ttu-id="5eb5c-121">기본적으로 주 복제본에 대한 읽기/쓰기 및 읽기 전용 액세스가 모두 허용되며 보조 복제본에 대한 연결은 허용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-121">By default, both read-write and read-intent access are allowed to the primary replica and no connections are allowed to secondary replicas.</span></span> <span data-ttu-id="5eb5c-122">보조 복제본에 대한 읽기 전용 클라이언트 연결을 설정하려면 추가적인 구성이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-122">Additional configuration is required to set up a read-only client connection to a secondary replica.</span></span> <span data-ttu-id="5eb5c-123">구성에는 보조 복제본에 대한 설정이 필요하고 읽기 전용 라우팅 목록을 정의하는 T-SQL 스크립트를 실행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-123">Configuration requires setting properties on the secondary replica and running a T-SQL script that defines a read-only routing list.</span></span> <span data-ttu-id="5eb5c-124">다음 절차를 통해 이 두 단계를 수행했는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-124">Use the following procedures to ensure you have performed both steps.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5eb5c-125">다음 단계는 기존 AlwaysOn 가용성 그룹 및 데이터베이스를 전제로 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-125">The following steps assume an existing AlwaysOn availability group and databases.</span></span> <span data-ttu-id="5eb5c-126">새 그룹을 구성하려면 새 가용성 그룹 마법사를 사용하여 그룹을 만들고 데이터베이스를 조인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-126">If you are configuring a new group, use the New Availability Group Wizard to create the group and join the databases.</span></span> <span data-ttu-id="5eb5c-127">마법사는 사전 요구 사항을 점검하고 각 단계에 대한 지침을 제공하고 초기 동기화를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-127">The wizard checks for prerequisites, provides guidance for each step, and performs the initial synchronization.</span></span> <span data-ttu-id="5eb5c-128">자세한 내용은 [가용성 그룹 마법사 사용&#40;SQL Server Management Studio&#41;](use-the-availability-group-wizard-sql-server-management-studio.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-128">For more information, see [Use the Availability Group Wizard &#40;SQL Server Management Studio&#41;](use-the-availability-group-wizard-sql-server-management-studio.md).</span></span>  
  
#### <a name="step-1-configure-access-on-an-availability-replica"></a><span data-ttu-id="5eb5c-129">1단계: 가용성 복제본에 대한 액세스 구성</span><span class="sxs-lookup"><span data-stu-id="5eb5c-129">Step 1: Configure access on an availability replica</span></span>  
  
1.  <span data-ttu-id="5eb5c-130">개체 탐색기에서 주 복제본을 호스팅하는 서버 인스턴스에 연결하고 서버 트리를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-130">In Object Explorer, connect to the server instance that hosts the primary replica, and expand the server tree.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="5eb5c-131">이러한 단계는 [가용성 복제본에 대한 읽기 전용 액세스 구성&#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md)에서 가져왔으며, 이 링크는 이 작업 수행에 대한 추가 정보 및 다른 지침도 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-131">These steps are taken from [Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md), which provides additional information and alternative instructions for performing this task.</span></span>  
  
2.  <span data-ttu-id="5eb5c-132">**AlwaysOn 고가용성** 및 **가용성 그룹** 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-132">Expand the **AlwaysOn High Availability** node and the **Availability Groups** node.</span></span>  
  
3.  <span data-ttu-id="5eb5c-133">복제본을 변경할 가용성 그룹을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-133">Click the availability group whose replica you want to change.</span></span> <span data-ttu-id="5eb5c-134">**가용성 복제본**을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-134">Expand **Availability Replicas**.</span></span>  
  
4.  <span data-ttu-id="5eb5c-135">보조 복제본을 마우스 오른쪽 단추로 클릭하고 **속성**을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-135">Right-click the secondary replica, and click **Properties**.</span></span>  
  
5.  <span data-ttu-id="5eb5c-136">**가용성 복제본 속성** 대화 상자에서 다음과 같이 보조 역할에 대한 연결 액세스를 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-136">In the **Availability Replica Properties** dialog box, change the connection access for the secondary role, as follows:</span></span>  
  
    -   <span data-ttu-id="5eb5c-137">**읽을 수 있는 보조** 드롭 목록에서 **읽기 전용만**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-137">In the **Readable secondary** drop list, select **Read-intent only**.</span></span>  
  
    -   <span data-ttu-id="5eb5c-138">**주 역할의 연결** 드롭 목록에서 **모든 연결 허용**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-138">In the **Connections in primary role** drop list, select **Allow all connections**.</span></span> <span data-ttu-id="5eb5c-139">기본값입니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-139">This is the default.</span></span>  
  
    -   <span data-ttu-id="5eb5c-140">필요에 따라 **가용성 모드** 드롭 목록에서 **동기 커밋**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-140">Optionally, in **Availability mode** drop list, select **Synchronous commit**.</span></span> <span data-ttu-id="5eb5c-141">이 단계는 필수는 아니지만 이 설정을 하면 주 복제본과 보조 복제본 사이에 데이터 패리티를 보장해 줍니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-141">This step is not required, but setting it ensures that there is data parity between the primary and secondary replica.</span></span>  
  
         <span data-ttu-id="5eb5c-142">또한 이 속성은 계획된 장애 조치에는 필수입니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-142">This property is also a requirement for planned failover.</span></span> <span data-ttu-id="5eb5c-143">테스트 목적으로 계획된 수동 장애 조치를 수행하려면 주 복제본과 보조 복제본 둘 다에 대해 **가용성 모드** 를 **동기 커밋** 으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-143">If you want to perform a planned manual failover for testing purposes, set **Availability mode** to **Synchronous commit** for both the primary and secondary replica.</span></span>  
  
#### <a name="step-2-configure-read-only-routing"></a><span data-ttu-id="5eb5c-144">2단계: 읽기 전용 라우팅 구성</span><span class="sxs-lookup"><span data-stu-id="5eb5c-144">Step 2: Configure read-only routing</span></span>  
  
1.  <span data-ttu-id="5eb5c-145">주 복제본에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-145">Connect to the primary replica.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="5eb5c-146">이러한 단계는 [가용성 그룹에 대한 읽기 전용 라우팅 구성&#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md)에서 가져왔으며, 이 링크는 이 작업 수행에 대한 추가 정보 및 다른 지침도 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-146">These steps are taken from [Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md), which provides additional information and alternative instructions for performing this task.</span></span>  
  
2.  <span data-ttu-id="5eb5c-147">쿼리 창을 열고 다음 스크립트를 붙여 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-147">Open a query window and paste in the following script.</span></span> <span data-ttu-id="5eb5c-148">이 스크립트는 보조 복제본에 대한 읽기용 연결(기본적으로 해제됨)을 설정하고, 읽기 전용 라우팅 URL을 설정하고, 연결 요청 전달 우선 순위를 지정하는 라우팅 목록을 만드는 세 가지 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-148">This script does three things: enables readable connections to a secondary replica (which is off by default), sets the read-only routing URL, and creates the routing list that prioritizes how connection requests are directed.</span></span>  <span data-ttu-id="5eb5c-149">읽기용 연결을 허용하는 첫 번째 문은 [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)]에서 이미 해당 속성을 설정한 경우 중복되지만 완전성을 위해 포함되었습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-149">The first statement, allowing readable connections, is redundant if you already set the properties in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)], but are included for completeness.</span></span>  
  
    ```  
    ALTER AVAILABILITY GROUP [AG1]  
     MODIFY REPLICA ON  
    N'COMPUTER01' WITH   
    (SECONDARY_ROLE (ALLOW_CONNECTIONS = READ_ONLY));  
  
    ALTER AVAILABILITY GROUP [AG1]  
     MODIFY REPLICA ON  
    N'COMPUTER01' WITH   
    (SECONDARY_ROLE (READ_ONLY_ROUTING_URL = N'TCP://COMPUTER01.contoso.com:1433'));  
  
    ALTER AVAILABILITY GROUP [AG1]  
     MODIFY REPLICA ON  
    N'COMPUTER02' WITH   
    (SECONDARY_ROLE (ALLOW_CONNECTIONS = READ_ONLY));  
  
    ALTER AVAILABILITY GROUP [AG1]  
     MODIFY REPLICA ON  
    N'COMPUTER02' WITH   
    (SECONDARY_ROLE (READ_ONLY_ROUTING_URL = N'TCP://COMPUTER02.contoso.com:1433'));  
  
    ALTER AVAILABILITY GROUP [AG1]   
    MODIFY REPLICA ON  
    N'COMPUTER01' WITH   
    (PRIMARY_ROLE (READ_ONLY_ROUTING_LIST=('COMPUTER02','COMPUTER01')));  
  
    ALTER AVAILABILITY GROUP [AG1]   
    MODIFY REPLICA ON  
    N'COMPUTER02' WITH   
    (PRIMARY_ROLE (READ_ONLY_ROUTING_LIST=('COMPUTER01','COMPUTER02')));  
    GO  
    ```  
  
3.  <span data-ttu-id="5eb5c-150">자리 표시자를 사용자 배포에 맞는 값으로 바꿔 스크립트를 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-150">Modify the script, replacing placeholders with values that are valid for your deployment:</span></span>  
  
    -   <span data-ttu-id="5eb5c-151">'Computer01'은 주 복제본을 호스팅하는 서버 인스턴스의 이름으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-151">Replace 'Computer01' with the name of the server instance that hosts the primary replica.</span></span>  
  
    -   <span data-ttu-id="5eb5c-152">'Computer02'는 보조 복제본을 호스팅하는 서버 인스턴스의 이름으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-152">Replace 'Computer02' with the name of the server instance that hosts the secondary replica.</span></span>  
  
    -   <span data-ttu-id="5eb5c-153">'contoso.com'은 도메인 이름으로 바꾸거나, 모든 컴퓨터가 동일한 도메인인 경우 생략합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-153">Replace 'contoso.com' with the name of your domain, or omit it from the script if all computers are in the same domain.</span></span> <span data-ttu-id="5eb5c-154">수신기가 기본 포트를 사용하는 경우 포트 번호는 그대로 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-154">Keep the port number if the listener is using the default port.</span></span> <span data-ttu-id="5eb5c-155">실제로 수신기에서 사용하는 포트의 목록은 [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)]의 속성 페이지에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-155">The port that is actually used by the listener is listed in the properties page in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)].</span></span>  
  
4.  <span data-ttu-id="5eb5c-156">스크립트를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-156">Execute the script.</span></span>  
  
     <span data-ttu-id="5eb5c-157">이제, 방금 구성한 그룹의 데이터베이스를 사용하는 Analysis Services 모델의 데이터 원본을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-157">Next, create a data source in an Analysis Services model that uses a database from the group you just configured.</span></span>  
  
##  <a name="create-an-analysis-services-data-source-using-an-alwayson-availability-database"></a><a name="bkmk_ssasAODB"></a><span data-ttu-id="5eb5c-158">AlwaysOn 가용성 데이터베이스를 사용 하 여 Analysis Services 데이터 원본 만들기</span><span class="sxs-lookup"><span data-stu-id="5eb5c-158">Create an Analysis Services data source using an AlwaysOn availability database</span></span>  
 <span data-ttu-id="5eb5c-159">이 섹션에서는 가용성 그룹의 데이터베이스에 연결하는 Analysis Services 데이터 원본을 만드는 방법을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-159">This section explains how to create an Analysis Services data source that connects to a database in an availability group.</span></span> <span data-ttu-id="5eb5c-160">이 지침을 따르면 이전 섹션의 단계에 따라 구성한 주 복제본(기본값) 또는 읽기 가능한 보조 복제본에 대한 연결을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-160">You can use these instructions to configure a connection to either a primary replica (default) or a readable secondary replica that you configured based on steps in a previous section.</span></span> <span data-ttu-id="5eb5c-161">AlwaysOn 구성 설정 및 클라이언트의 연결 속성 설정이 주 복제복 또는 보조 복제본 사용 여부를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-161">AlwaysOn configuration settings, plus the connection properties set in the client, will determine whether a primary or secondary replica is used.</span></span>  
  
1.  <span data-ttu-id="5eb5c-162">[!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)]의 Analysis Services 다차원 및 데이터 마이닝 모델 프로젝트에서 **데이터 원본** 을 마우스 오른쪽 단추로 클릭하고 **새 데이터 원본**을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-162">In [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)], in an Analysis Services Multidimensional and Data Mining Model project, right-click **Data Sources** and select **New Data Source**.</span></span> <span data-ttu-id="5eb5c-163">**새로 만들기** 를 클릭하여 새 데이터 원본을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-163">Click **New** to create a new data source.</span></span>  
  
     <span data-ttu-id="5eb5c-164">또는 테이블 형식 모델 프로젝트에서 모델 메뉴를 클릭한 다음 **데이터 원본에서 가져오기**를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-164">Alternatively, for a tabular model project, click the Model menu, and then click **Import from Data Source**.</span></span>  
  
2.  <span data-ttu-id="5eb5c-165">연결 관리자의 공급자에서 TDS(Tabular Data Stream) 프로토콜을 지원하는 공급자를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-165">In Connection Manager, in Provider, choose a provider that supports the Tabular Data Stream (TDS) protocol.</span></span> <span data-ttu-id="5eb5c-166">SQL Server Native Client 11.0이 이 프로토콜을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-166">The SQL Server Native Client 11.0 supports this protocol.</span></span>  
  
3.  <span data-ttu-id="5eb5c-167">연결 관리자의 서버 이름에 *가용성 그룹 수신기*의 이름을 입력하고 그룹에서 사용할 수 있는 데이터베이스를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-167">In Connection Manager, in Server Name, enter the name of the *availability group listener*, and then choose a database that is available in the group.</span></span>  
  
     <span data-ttu-id="5eb5c-168">가용성 그룹 수신기는 읽기/쓰기 요청의 경우 클라이언트 연결을 주 복제본으로 리디렉션하고, 연결 문자열에 읽기 전용을 지정한 경우 보조 복제본으로 리디렉션합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-168">The availability group listener redirects a client connection to a primary replica for read-write requests or to a secondary replica if you specify read-intent in the connection string.</span></span> <span data-ttu-id="5eb5c-169">장애 조치 동안 복제본 역할이 변경되므로(주 복제본은 보조 복제본이 되고 보조 복제본은 주 복제본이 됨) 항상 이에 따라 클라이언트 연결이 리디렉션되도록 수신기를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-169">Because replica roles will change during a failover (where the primary becomes the secondary and a secondary becomes a primary), you should always specify the listener so that the client connection is redirected accordingly.</span></span>  
  
     <span data-ttu-id="5eb5c-170">가용성 그룹 수신기의 이름을 확인하려면 데이터베이스 관리자에게 문의하거나 가용성 그룹의 인스턴스 중 하나에 연결하여 해당 AlwaysOn 가용성 구성을 확인하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-170">To determine the name of the availability group listener, you can either ask a database administrator or connect to an instance in the availability group and view its AlwaysOn availability configuration.</span></span> <span data-ttu-id="5eb5c-171">아래 스크린샷에서 가용성 그룹 수신기는 **AdventureWorks2**입니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-171">In the screenshot below, the availability group listener is **AdventureWorks2**.</span></span>  
  
     <span data-ttu-id="5eb5c-172">![Management Studio의 AlwaysOn 가용성 폴더](../../media/ssas-alwaysoninfoinssms.png "Management Studio의 AlwaysOn 가용성 폴더")</span><span class="sxs-lookup"><span data-stu-id="5eb5c-172">![AlwaysOn Availability folder in Management Studio](../../media/ssas-alwaysoninfoinssms.png "AlwaysOn Availability folder in Management Studio")</span></span>  
  
4.  <span data-ttu-id="5eb5c-173">계속해서 연결 관리자의 왼쪽 탐색 창에서 **모두** 를 클릭하여 데이터 공급자의 속성 표를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-173">Still in Connection Manager, click **All** in the left navigation pane to view the property grid of data provider.</span></span>  
  
     <span data-ttu-id="5eb5c-174">보조 복제본에 대한 읽기 전용 연결을 구성하는 경우 **애플리케이션 의도** 를 **READONLY** 로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-174">Set **Application Intent** to **READONLY** if you are configuring a read-only client connection to a secondary replica.</span></span> <span data-ttu-id="5eb5c-175">그렇지 않으면 연결을 주 복제본으로 리디렉션하는 **READWRITE** 기본값을 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-175">Otherwise, keep the **READWRITE** default to redirect the connection to the primary replica.</span></span>  
  
5.  <span data-ttu-id="5eb5c-176">가장 정보에서 **특정 Windows 사용자 이름 및 암호 사용**을 선택한 다음 데이터베이스에 대해 최소 **db_datareader** 이상의 권한이 있는 Windows 도메인 사용자 계정을 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-176">In Impersonation Information, select **Use a specific Windows user name and password**, and then enter a Windows domain user account that has a minimum of **db_datareader** permissions on the database.</span></span>  
  
     <span data-ttu-id="5eb5c-177">**현재 사용자의 자격 증명 사용** 이나 **상속**을 선택하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-177">Do not choose **Use the credentials of the current user** or **Inherit**.</span></span> <span data-ttu-id="5eb5c-178">**서비스 계정 사용**은 선택할 수 있지만, 해당 계정이 데이터베이스에 대한 읽기 권한이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-178">You can choose **Use the service account**, but only if that account has read permissions on the database.</span></span>  
  
     <span data-ttu-id="5eb5c-179">데이터 원본을 완료하고 데이터 원본 마법사를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-179">Finish the data source and close the Data Source Wizard.</span></span>  
  
6.  <span data-ttu-id="5eb5c-180">활성 서버에 대한 빠른 검색과 연결을 제공하려면 연결 문자열에 **MultiSubnetFailover=Yes** 를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-180">Add **MultiSubnetFailover=Yes** to the connection string to provide faster detection and connection to the active server.</span></span> <span data-ttu-id="5eb5c-181">이 속성에 대한 자세한 내용은 [고가용성 재해 복구를 위한 SQL Server Native Client 지원](../../../relational-databases/native-client/features/sql-server-native-client-support-for-high-availability-disaster-recovery.md)을 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-181">For more information about this property, see [SQL Server Native Client Support for High Availability, Disaster Recovery](../../../relational-databases/native-client/features/sql-server-native-client-support-for-high-availability-disaster-recovery.md).</span></span>  
  
     <span data-ttu-id="5eb5c-182">이 속성은 속성 표에 표시되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-182">This property is not visible in the property grid.</span></span> <span data-ttu-id="5eb5c-183">속성을 추가하려면 데이터 원본을 마우스 오른쪽 단추로 클릭하고 **코드 보기**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-183">To add the property, right-click the data source and choose **View Code**.</span></span> <span data-ttu-id="5eb5c-184">연결 문자열에 `MultiSubnetFailover=Yes` 를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-184">Add `MultiSubnetFailover=Yes` to the connection string.</span></span>  
  
 <span data-ttu-id="5eb5c-185">이제 데이터 원본이 정의되었습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-185">The data source is now defined.</span></span> <span data-ttu-id="5eb5c-186">이제 모델 작성을 진행할 수 있습니다. 데이터 원본 뷰부터 시작하거나, 테이블 형식 모델인 경우 관계 만들기를 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-186">You can now proceed to build a model, starting with the data source view, or in the case of tabular models, creating relationships.</span></span> <span data-ttu-id="5eb5c-187">지금 가용성 데이터베이스에서 데이터를 검색해야 하는 경우(예를 들어 솔루션을 처리 또는 배포할 준비가 된 경우) 구성을 테스트하여 보조 복제본 데이터에 액세스할 수 있는지를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-187">When you are at a point where data must be retrieved from the availability database (for example when you are ready to process or deploy the solution), you can test the configuration to verify data is accessed from the secondary replica.</span></span>  
  
##  <a name="test-the-configuration"></a><a name="bkmk_test"></a><span data-ttu-id="5eb5c-188">구성 테스트</span><span class="sxs-lookup"><span data-stu-id="5eb5c-188">Test the configuration</span></span>  
 <span data-ttu-id="5eb5c-189">보조 복제본을 구성하고 Analysis Services에서 데이터 원본 연결을 만든 후에는 처리 및 쿼리 명령이 보조 복제본으로 리디렉션되는지 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-189">After you configure the secondary replica and create a data source connection in Analysis Services, you can confirm that processing and query commands are redirected to the secondary replica.</span></span> <span data-ttu-id="5eb5c-190">또한 계획된 수동 장애 조치를 수행하여 이 시나리오에 대한 복구 계획을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-190">You can also perform a planned manual failover to verify your recovery plan for this scenario.</span></span>  
  
#### <a name="step-1-confirm-the-data-source-connection-is-redirected-to-the-secondary-replica"></a><span data-ttu-id="5eb5c-191">1단계: 데이터 원본 연결이 보조 복제본으로 리디렉션되는지 확인</span><span class="sxs-lookup"><span data-stu-id="5eb5c-191">Step 1: Confirm the data source connection is redirected to the secondary replica</span></span>  
  
1.  <span data-ttu-id="5eb5c-192">SQL Server Profiler를 시작하고 보조 복제본을 호스팅하는 SQL Server 인스턴스에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-192">Start SQL Server Profiler and connect to the SQL Server instance hosting the secondary replica.</span></span>  
  
     <span data-ttu-id="5eb5c-193">추적이 실행되면 `SQL:BatchStarting` 및 `SQL:BatchCompleting` 이벤트가 데이터베이스 엔진 인스턴스에서 실행 중인 Analysis Services에서 실행한 쿼리를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-193">As the trace runs, the `SQL:BatchStarting` and `SQL:BatchCompleting` events will show the queries issued from Analysis Services that are executing on the database engine instance.</span></span> <span data-ttu-id="5eb5c-194">이러한 이벤트는 기본적으로 선택되므로 사용자는 추적을 시작하기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-194">These events are selected by default so all you need to do is start the trace.</span></span>  
  
2.  <span data-ttu-id="5eb5c-195">[!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)]에서 테스트할 데이터 원본 연결이 포함된 Analysis Services 프로젝트 또는 솔루션을 엽니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-195">In [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)], open the Analysis Services project or solution containing a data source connection you want to test.</span></span> <span data-ttu-id="5eb5c-196">데이터 원본은 그룹의 인스턴스가 아닌 가용성 그룹 수신기를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-196">Be sure that the data source specifies the availability group listener and not an instance in the group.</span></span>  
  
     <span data-ttu-id="5eb5c-197">이 단계는 중요합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-197">This step is important.</span></span> <span data-ttu-id="5eb5c-198">서버 인스턴스 이름을 지정할 경우 보조 복제본으로의 라우팅이 발생하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-198">Routing to the secondary replica will not occur if you specify a server instance name.</span></span>  
  
3.  <span data-ttu-id="5eb5c-199">SQL Server Profiler와 [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] 를 나란히 볼 수 있도록 애플리케이션 창을 배열합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-199">Arrange the application windows so that you can view SQL Server Profiler and [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] side by side.</span></span>  
  
4.  <span data-ttu-id="5eb5c-200">솔루션을 배포하고 배포가 완료되면 추적을 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-200">Deploy the solution, and when it completes, stop the trace.</span></span>  
  
     <span data-ttu-id="5eb5c-201">추적 창에 **Microsoft SQL Server Analysis Services**애플리케이션의 이벤트가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-201">In the trace window, you should see events from the application **Microsoft SQL Server Analysis Services**.</span></span> <span data-ttu-id="5eb5c-202">보조 복제본을 호스팅하는 서버 인스턴스의 데이터베이스에서 데이터를 검색하는 `SELECT` 문이 표시되면 수신기를 통해 보조 복제본에 연결되었음을 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-202">You should see `SELECT` statements that retrieve data from a database on the server instance that hosts the secondary replica, proving that the connection was made via the listener to the secondary replica.</span></span>  
  
#### <a name="step-2-perform-a-planned-failover-to-test-the-configuration"></a><span data-ttu-id="5eb5c-203">2단계: 계획된 장애 조치(failover)를 수행하여 구성 테스트</span><span class="sxs-lookup"><span data-stu-id="5eb5c-203">Step 2: Perform a planned failover to test the configuration</span></span>  
  
1.  <span data-ttu-id="5eb5c-204">[!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] 에서 주 복제본 및 보조 복제본 둘 다 동기 커밋 모드로 구성되었고 현재 동기화되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-204">In [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] check the primary and secondary replicas to ensure that both are configured for synchronous-commit mode and are currently synchronized.</span></span>  
  
     <span data-ttu-id="5eb5c-205">다음 단계는 보조 복제본이 동기 커밋으로 구성되어 있다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-205">The following steps assume a secondary replica is configured for synchronous commit.</span></span>  
  
     <span data-ttu-id="5eb5c-206">동기화를 확인하려면 주 복제본과 보조 복제본을 호스팅하는 각 인스턴스에 대한 연결을 열고, 데이터베이스 폴더를 확장하고, 각 복제본에서 데이터베이스의 이름 뒤에 **(동기화됨)** 및 **(동기화 중)** 이 추가되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-206">To verify synchronization, open a connection to each instance that hosts the primary and secondary replicas, expand the Databases folder, and ensure that the database has **(Synchronized)** and **(Synchronizing)** appended to its name in each replica.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="5eb5c-207">이러한 단계는 [가용성 그룹의 계획된 수동 장애 조치(Failover) 수행&#40;SQL Server&#41;](perform-a-planned-manual-failover-of-an-availability-group-sql-server.md)에서 가져왔으며, 이 링크는 이 작업 수행에 대한 추가 정보 및 다른 지침도 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-207">These steps are taken from [Perform a Planned Manual Failover of an Availability Group &#40;SQL Server&#41;](perform-a-planned-manual-failover-of-an-availability-group-sql-server.md), which provides additional information and alternative instructions for performing this task.</span></span>  
  
2.  <span data-ttu-id="5eb5c-208">SQL Server Profiler에서 각 복제본에 대한 추적을 시작하고 추적을 나란히 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-208">In SQL Server Profiler, start traces for each replica and view the traces side-by-side.</span></span> <span data-ttu-id="5eb5c-209">다음 단계에서는 추적을 비교하여 Analysis Services의 처리 또는 쿼리에 사용되는 SQL 쿼리가 한 복제본에서 다른 복제본으로 전환되는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-209">In the following steps, you will compare traces, confirming that the SQL queries used for processing or querying from Analysis Services switch from one replica to the other.</span></span>  
  
3.  <span data-ttu-id="5eb5c-210">Analysis Services 내에서 처리 또는 쿼리 명령을 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-210">Execute a processing or query command from within Analysis Services.</span></span> <span data-ttu-id="5eb5c-211">데이터 원본을 읽기 전용 연결로 구성했으므로 명령이 보조 복제본에서 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-211">Because you configured the data source for a read-only connection, you should see the command execute on the secondary replica.</span></span>  
  
4.  <span data-ttu-id="5eb5c-212">[!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)]에서 보조 복제본에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-212">In [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)], connect to the secondary replica.</span></span>  
  
5.  <span data-ttu-id="5eb5c-213">**AlwaysOn 고가용성** 및 **가용성 그룹** 노드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-213">Expand the **AlwaysOn High Availability** node and the **Availability Groups** node.</span></span>  
  
6.  <span data-ttu-id="5eb5c-214">장애 조치할 가용성 그룹을 마우스 오른쪽 단추로 클릭하고 **장애 조치(Failover)** 명령을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-214">Right-click the availability group to be failed over, and select the **Failover** command.</span></span> <span data-ttu-id="5eb5c-215">그러면 가용성 그룹 장애 조치(failover) 마법사가 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-215">This starts the Fail Over Availability Group Wizard.</span></span> <span data-ttu-id="5eb5c-216">마법사에서 새로운 주 복제본으로 설정할 복제본을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-216">Use the wizard to choose which replica to make the new primary replica.</span></span>  
  
7.  <span data-ttu-id="5eb5c-217">장애 조치가 성공했음을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-217">Confirm that failover succeeded:</span></span>  
  
    -   <span data-ttu-id="5eb5c-218">[!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)]에서 가용성 그룹을 확장하고 (주) 및 (보조) 지정을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-218">In [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)], expand the availability groups to view the (primary) and (secondary) designations.</span></span> <span data-ttu-id="5eb5c-219">이전에 주 복제본이었던 인스턴스가 이제 보조 복제본이 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-219">The instance that was previously a primary replica should now be a secondary replica.</span></span>  
  
    -   <span data-ttu-id="5eb5c-220">대시보드에서 상태 문제가 검색되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-220">View the dashboard to determine if any health issues were detected.</span></span> <span data-ttu-id="5eb5c-221">가용성 그룹을 마우스 오른쪽 단추로 클릭하고 **대시보드 표시**를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-221">Right-click the availability group and select **Show Dashboard**.</span></span>  
  
8.  <span data-ttu-id="5eb5c-222">백 엔드에서 장애 조치가 완료될 때까지 1, 2분 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-222">Wait one or two minutes for the failover to complete on the backend.</span></span>  
  
9. <span data-ttu-id="5eb5c-223">Analysis Services 솔루션에서 처리 또는 쿼리 명령을 반복한 다음 SQL Server Profiler에서 추적을 나란히 표시하여 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-223">Repeat the processing or query command in the Analysis Services solution, and then watch the traces side by side in SQL Server Profiler.</span></span> <span data-ttu-id="5eb5c-224">새 보조 복제본이 된 다른 인스턴스에서 처리가 진행됨을 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-224">You should see evidence of processing on the other instance, which is now the new secondary replica.</span></span>  
  
##  <a name="what-happens-after-a-failover-occurs"></a><a name="bkmk_whathappens"></a><span data-ttu-id="5eb5c-225">장애 조치 (failover)가 발생 한 후 수행 되는 작업</span><span class="sxs-lookup"><span data-stu-id="5eb5c-225">What happens after a failover occurs</span></span>  
 <span data-ttu-id="5eb5c-226">장애 조치(failover) 중에 보조 복제본은 주 역할로 전환되고 이전의 주 복제본은 보조 역할로 전환됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-226">During a failover, a secondary replica transitions to the primary role and the former primary replica transitions to the secondary role.</span></span> <span data-ttu-id="5eb5c-227">모든 클라이언트 연결이 종료되고 가용성 그룹 수신기의 소유권은 주 복제본 역할과 함께 새 SQL Server 인스턴스로 옮겨지며 수신기 엔드포인트는 새 인스턴스의 가상 IP 주소 및 TCP 포트에 바인딩됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-227">All client connections are terminated, ownership of the availability group listener moves with the primary replica role to a new SQL Server instance, and the listener endpoint is bound to the new instance's virtual IP addresses and TCP ports.</span></span> <span data-ttu-id="5eb5c-228">자세한 내용은 이 항목 뒷부분에 있는 [가용성 복제본에 대한 클라이언트 연결 액세스 정보&#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md)와 같은 시스템 데이터베이스, 사용자 데이터베이스를 비롯하여 보조 복제본을 호스트하는 서버 인스턴스의 읽기/쓰기 데이터베이스에는 데이터를 쓸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-228">For more information, see [About Client Connection Access to Availability Replicas &#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md).</span></span>  
  
 <span data-ttu-id="5eb5c-229">처리 중 장애 조치(failover)가 발생하면 Analysis Services의 로그 파일 또는 출력 창에 다음과 같은 오류가 나타납니다. "OLE DB 또는 ODBC 오류: 통신 연결 오류입니다. 08S01; TPC 공급자: 현재 연결은 원격 호스트에 의해 강제로 끊겼습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-229">If failover occurs during processing, the following error occurs in Analysis Services in the log file or output window: "OLE DB error: OLE DB or ODBC error: Communication link failure; 08S01; TPC Provider: An existing connection was forcibly closed by the remote host.</span></span> <span data-ttu-id="5eb5c-230">; 08S01."</span><span class="sxs-lookup"><span data-stu-id="5eb5c-230">; 08S01."</span></span>  
  
 <span data-ttu-id="5eb5c-231">이 오류는 잠시 기다렸다가 다시 시도하면 해결됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-231">This error should resolve if you wait a minute and try again.</span></span> <span data-ttu-id="5eb5c-232">가용성 그룹이 읽기 가능한 보조 복제본에 대해 올바로 구성된 경우 처리를 재시도하면 새 보조 복제본에서 처리가 재개됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-232">If the availability group is configured correctly for readable secondary replica, processing will resume on the new secondary replica when you retry processing.</span></span>  
  
 <span data-ttu-id="5eb5c-233">오류가 지속되면 구성 문제일 가능성이 큽니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-233">Persistent errors are most likely due to a configuration problem.</span></span> <span data-ttu-id="5eb5c-234">보조 복제본에 대한 라우팅 목록, 읽기 전용 URL, 읽기 전용 문제를 해결하기 위해 T-SQL 스크립트를 다시 실행해 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-234">You can try re-running the T-SQL script to resolve problems with the routing list, read-only routing URLs, and read-intent on the secondary replica.</span></span> <span data-ttu-id="5eb5c-235">또한 주 복제본에서 모든 연결을 허용하는지 확인해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-235">You should also verify that the primary replica allows all connections.</span></span>  
  
##  <a name="writeback-when-using-an-alwayson-availability-database"></a><a name="bkmk_writeback"></a><span data-ttu-id="5eb5c-236">AlwaysOn 가용성 데이터베이스를 사용할 때의 쓰기 저장</span><span class="sxs-lookup"><span data-stu-id="5eb5c-236">Writeback when using an AlwaysOn availability database</span></span>  
 <span data-ttu-id="5eb5c-237">쓰기 저장은 Excel의 가상 분석을 지원하는 Analysis Services 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-237">Writeback is an Analysis Services feature that supports What If analysis in Excel.</span></span> <span data-ttu-id="5eb5c-238">또한 이 기능은 사용자 지정 애플리케이션에서 예산 작성 및 예측 태스크에 일반적으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-238">It is also commonly used for budgeting and forecasting tasks in custom applications.</span></span>  
  
 <span data-ttu-id="5eb5c-239">쓰기 저장을 지원하려면 READWRITE 클라이언트 연결이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-239">Support for writeback requires a READWRITE client connection.</span></span> <span data-ttu-id="5eb5c-240">Excel에서 읽기 전용 연결에 대한 쓰기 저장을 시도하면 "외부 데이터 원본에서 데이터를 검색할 수 없습니다."</span><span class="sxs-lookup"><span data-stu-id="5eb5c-240">In Excel, if you attempt to write back on a read-only connection, the following error will occur: "Data could not be retrieved from the external data source."</span></span> <span data-ttu-id="5eb5c-241">오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-241">"Data could not be retrieved from the external data source."</span></span>  
  
 <span data-ttu-id="5eb5c-242">항상 읽기 가능한 보조 복제본에 액세스하도록 연결을 구성했다면 이제 주 복제본에 대한 READWRITE 연결을 사용하는 새 연결을 구성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-242">If you configured a connection to always access a readable secondary replica, you must now configure a new connection that uses a READWRITE connection to the primary replica.</span></span>  
  
 <span data-ttu-id="5eb5c-243">이렇게 하려면 Analysis Services 모델에 읽기/쓰기 연결을 지원하는 데이터 원본을 추가로 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-243">To do this, create an additional data source in an Analysis Services model to support the read-write connection.</span></span> <span data-ttu-id="5eb5c-244">추가 데이터 원본을 만들 때는 읽기 전용 연결에 지정한 동일한 수신기 이름 및 데이터베이스를 사용합니다. 단, **애플리케이션 의도**는 수정하지 않고 READWRITE 연결을 지원하는 기본값을 그대로 둡니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-244">When creating the additional data source, use the same listener name and database that you specified in the read-only connection, but instead of modifying **Application Intent**, keep the default that supports READWRITE connections.</span></span> <span data-ttu-id="5eb5c-245">이제 읽기/쓰기 데이터 원본을 기반으로 하는 새 팩트 또는 차원 테이블을 데이터 원본 뷰에 추가하고, 새 테이블에 쓰기 저장을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="5eb5c-245">You can now add new fact or dimension tables to your data source view that are based on the read-write data source, and then enable writeback on the new tables.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5eb5c-246">참고 항목</span><span class="sxs-lookup"><span data-stu-id="5eb5c-246">See Also</span></span>  
 <span data-ttu-id="5eb5c-247">[가용성 그룹 수신기, 클라이언트 연결 및 애플리케이션 장애 조치(failover)&#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="5eb5c-247">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 <span data-ttu-id="5eb5c-248">[활성 보조: 읽기 가능한 보조 복제본 &#40;AlwaysOn 가용성 그룹&#41;](active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="5eb5c-248">[Active Secondaries: Readable Secondary Replicas &#40;AlwaysOn Availability Groups&#41;](active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) </span></span>  
 <span data-ttu-id="5eb5c-249">[AlwaysOn 가용성 그룹 &#40;SQL Server의 운영 문제에 대 한 AlwaysOn 정책&#41;](always-on-policies-for-operational-issues-always-on-availability.md) </span><span class="sxs-lookup"><span data-stu-id="5eb5c-249">[AlwaysOn Policies for Operational Issues with AlwaysOn Availability Groups &#40;SQL Server&#41;](always-on-policies-for-operational-issues-always-on-availability.md) </span></span>  
 <span data-ttu-id="5eb5c-250">[SSAS 다차원&#41;&#40;데이터 원본 만들기](https://docs.microsoft.com/analysis-services/multidimensional-models/create-a-data-source-ssas-multidimensional) </span><span class="sxs-lookup"><span data-stu-id="5eb5c-250">[Create a Data Source &#40;SSAS Multidimensional&#41;](https://docs.microsoft.com/analysis-services/multidimensional-models/create-a-data-source-ssas-multidimensional) </span></span>  
 [<span data-ttu-id="5eb5c-251">차원 쓰기 저장(writeback) 설정</span><span class="sxs-lookup"><span data-stu-id="5eb5c-251">Enable Dimension Writeback</span></span>](https://docs.microsoft.com/analysis-services/multidimensional-models/bi-wizard-enable-dimension-writeback)  
  
  
