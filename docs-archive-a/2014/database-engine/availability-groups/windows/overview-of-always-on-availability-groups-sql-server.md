---
title: AlwaysOn 가용성 그룹 개요 (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 10/27/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- secondary databases [SQL Server], in availability group
- primary databases [SQL Server], in availability group
- Availability Groups [SQL Server], about
- Availability Groups [SQL Server], data movement
- Availability Groups [SQL Server]
ms.assetid: 04fd9d95-4624-420f-a3be-1794309b3a47
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: bc49a841daaeb0f7bda6f793890433f26c6b5c1f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87647843"
---
# <a name="overview-of-alwayson-availability-groups-sql-server"></a><span data-ttu-id="2c28c-102">AlwaysOn 가용성 그룹 개요(SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2c28c-102">Overview of AlwaysOn Availability Groups (SQL Server)</span></span>
  <span data-ttu-id="2c28c-103">이 항목에서는 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] 에서 하나 이상의 가용성 그룹을 구성하고 관리하는 데 중심이 되는 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]개념을 소개합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-103">This topic introduces the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] concepts that are central for configuring and managing one or more availability groups in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="2c28c-104">가용성 그룹에서 제공하는 이점의 요약과 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] 용어의 개요는 [AlwaysOn 가용성 그룹&#40;SQL Server&#41;](always-on-availability-groups-sql-server.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-104">For a summary of the benefits offered by availability groups and an overview of [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] terminology, see [AlwaysOn Availability Groups &#40;SQL Server&#41;](always-on-availability-groups-sql-server.md).</span></span>

 <span data-ttu-id="2c28c-105">*가용성 그룹* 은 함께 장애 조치 (failover) 되는 사용자 데이터베이스의 불연속 집합 ( *가용성 데이터베이스*라고 함)에 대 한 장애 조치 (failover) 환경을 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-105">An *availability group* supports a failover environment for a discrete set of user databases, known as *availability databases*, that fail over together.</span></span> <span data-ttu-id="2c28c-106">가용성 그룹은 주 데이터베이스 집합과 1~8개의 해당 보조 데이터베이스 집합을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-106">An availability group supports a set of primary databases and one to eight sets of corresponding secondary databases.</span></span> <span data-ttu-id="2c28c-107">보조 데이터베이스는 백업이 *아닙니다* .</span><span class="sxs-lookup"><span data-stu-id="2c28c-107">Secondary databases are *not* backups.</span></span> <span data-ttu-id="2c28c-108">계속하여 정기적으로 데이터베이스 및 해당 트랜잭션 로그를 백업하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-108">Continue to back up your databases and their transaction logs on a regular basis.</span></span>

> [!TIP]
>  <span data-ttu-id="2c28c-109">모든 유형의 주 데이터베이스 백업을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-109">You can create any type of backup of a primary database.</span></span> <span data-ttu-id="2c28c-110">또는 로그 백업과 보조 데이터베이스의 복사 전용 전체 백업을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-110">Alternatively, you can create log backups and copy-only full backups of secondary databases.</span></span> <span data-ttu-id="2c28c-111">자세한 내용은 [활성 보조: 보조 복제본에 백업&#40;AlwaysOn 가용성 그룹&#41;](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-111">For more information, see [Active Secondaries: Backup on Secondary Replicas &#40;AlwaysOn Availability Groups&#41;](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md).</span></span>

 <span data-ttu-id="2c28c-112">각 가용성 데이터베이스 집합은 *가용성 복제본*에 의해 호스팅됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-112">Each set of availability database is hosted by an *availability replica*.</span></span> <span data-ttu-id="2c28c-113">가용성 복제본에는 *주 복제본*과</span><span class="sxs-lookup"><span data-stu-id="2c28c-113">Two types of availability replicas exist: a single *primary replica*.</span></span> <span data-ttu-id="2c28c-114">*보조 복제본*의 두 가지 유형이 있습니다. 주 복제본은 하나이고 주 데이터베이스를 호스팅하며, 보조 복제본은 1~8개로 각각 보조 데이터베이스 집합을 호스팅하고 가용성 그룹에 대한 잠재적인 장애 조치(Failover) 대상 역할을 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-114">which hosts the primary databases, and one to eight *secondary replicas*, each of which hosts a set of secondary databases and serves as a potential failover targets for the availability group.</span></span> <span data-ttu-id="2c28c-115">가용성 그룹은 가용성 복제본의 수준에서 장애 조치(Failover)됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-115">An availability group fails over at the level of an availability replica.</span></span> <span data-ttu-id="2c28c-116">가용성 복제본은 가용성 그룹에 속한 데이터베이스 세트에 대해 데이터베이스 수준에서만 중복을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-116">An availability replica provides redundancy only at the database level-for the set of databases in one availability group.</span></span> <span data-ttu-id="2c28c-117">따라서 데이터 파일 손실, 트랜잭션 로그 손상 등으로 인해 주의 대상 데이터베이스가 발생할 경우 이러한 데이터베이스 문제로는 장애 조치(Failover)가 수행되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-117">Failovers are not caused by database issues such as a database becoming suspect due to a loss of a data file or corruption of a transaction log.</span></span>

 <span data-ttu-id="2c28c-118">주 복제본은 주 데이터베이스를 클라이언트에서 읽기/쓰기 연결에 사용할 수 있게 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-118">The primary replica makes the primary databases available for read-write connections from clients.</span></span> <span data-ttu-id="2c28c-119">또한 데이터베이스 수준에서 발생하는 *데이터 동기화*라고 하는 프로세스에서</span><span class="sxs-lookup"><span data-stu-id="2c28c-119">Also, in a process known as *data synchronization*, which occurs at the database level.</span></span> <span data-ttu-id="2c28c-120">주 복제본은 각 주 데이터베이스의 트랜잭션 로그 레코드를 모든 보조 복제본에 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-120">The primary replica sends transaction log records of each primary database to every secondary database.</span></span> <span data-ttu-id="2c28c-121">모든 보조 복제본은 트랜잭션 로그 레코드를 캐시, 즉 로그를*확정* 한 다음 해당하는 보조 데이터베이스에 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-121">Every secondary replica caches the transaction log records (*hardens* the log) and then applies them to its corresponding secondary database.</span></span> <span data-ttu-id="2c28c-122">데이터 동기화는 주 데이터베이스 및 연결된 각 보조 데이터베이스 간에 다른 데이터베이스와 독립적으로 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-122">Data synchronization occurs between the primary database and each connected secondary database, independently of the other databases.</span></span> <span data-ttu-id="2c28c-123">따라서 보조 데이터베이스가 중지되거나 실패할 때 다른 보조 데이터베이스에 영향을 주지 않을 수 있으며, 주 데이터베이스는 중지되거나 실패할 때 다른 주 데이터베이스에 영향을 주지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-123">Therefore, a secondary database can be suspended or fail without affecting other secondary databases, and a primary database can be suspended or fail without affecting other primary databases.</span></span>

 <span data-ttu-id="2c28c-124">필요한 경우 보조 데이터베이스에 대한 읽기 전용 액세스를 지원하기 위해 하나 이상의 보조 복제본을 구성할 수 있으며, 보조 데이터베이스에서 백업을 허용하도록 보조 복제본을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-124">Optionally, you can configure one or more secondary replicas to support read-only access to secondary databases, and you can configure any secondary replica to permit backups on secondary databases.</span></span>

 <span data-ttu-id="2c28c-125">[!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] 을 배포하려면 WSFC(Windows Server 장애 조치(Failover) 클러스터링) 클러스터가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-125">Deploying [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] requires a Windows Server Failover Clustering (WSFC) cluster.</span></span> <span data-ttu-id="2c28c-126">지정된 가용성 그룹의 각 가용성 복제본은 동일한 WSFC 클러스터의 서로 다른 노드에 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-126">Each availability replica of a given availability group must reside on a different node of the same WSFC cluster.</span></span> <span data-ttu-id="2c28c-127">유일한 예외는 다른 WSFC 클러스터로 마이그레이션되는 동안 가용성 그룹이 일시적으로 두 클러스터에 걸쳐 있는 경우입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-127">The only exception is that while being migrated to another WSFC cluster, an availability group can temporarily straddle two clusters.</span></span>

 <span data-ttu-id="2c28c-128">WSFC 리소스 그룹은 생성하는 모든 가용성 그룹에 대해 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-128">A WSFC resource group is created for every availability group that you create.</span></span> <span data-ttu-id="2c28c-129">WSFC 클러스터는 이 리소스 그룹을 모니터링하여 주 복제본의 상태를 평가합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-129">The WSFC cluster monitors this resource group to evaluate the health of the primary replica.</span></span> <span data-ttu-id="2c28c-130">[!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] 에 대한 쿼럼은 지정된 클러스터 노드가 가용성 복제본을 호스팅하는지 여부에 관계없이 WSFC 클러스터의 모든 노드를 기반합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-130">The quorum for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] is based on all nodes in the WSFC cluster regardless of whether a given cluster node hosts any availability replicas.</span></span> <span data-ttu-id="2c28c-131">데이터베이스 미러링과 달리 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]에는 모니터 역할이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-131">In contrast to database mirroring, there is no witness role in [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span>

> [!NOTE]
>  <span data-ttu-id="2c28c-132">WSFC 클러스터와 SQL Server AlwaysOn 구성 요소의 관계에 대한 자세한 내용은 [SQL Server의 WSFC&#40;Windows Server 장애 조치(Failover) 클러스터링&#41;](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-132">For information about the relationship of SQL Server AlwaysOn components to the WSFC cluster, see [Windows Server Failover Clustering &#40;WSFC&#41; with SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md).</span></span>

 <span data-ttu-id="2c28c-133">다음 그림에서는 하나의 주 복제본과 네 개의 보조 복제본이 포함된 가용성 그룹을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-133">The following illustration shows an availability group that contains one primary replica and four secondary replicas.</span></span> <span data-ttu-id="2c28c-134">하나의 주 복제본과 두 개의 동기 커밋 보조 복제본을 포함하여 최대 8개의 보조 복제본이 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-134">Up to eight secondary replicas are supported, including one primary replica and two synchronous-commit secondary replicas.</span></span>

 <span data-ttu-id="2c28c-135">![5개의 복제본이 있는 가용성 그룹](../../media/aoag-agintrofigure.gif "5개의 복제본이 있는 가용성 그룹")</span><span class="sxs-lookup"><span data-stu-id="2c28c-135">![Availability group with five replicas](../../media/aoag-agintrofigure.gif "Availability group with five replicas")</span></span>


##  <a name="availability-databases"></a><a name="AvDbs"></a><span data-ttu-id="2c28c-136">가용성 데이터베이스</span><span class="sxs-lookup"><span data-stu-id="2c28c-136">Availability Databases</span></span>
 <span data-ttu-id="2c28c-137">데이터베이스를 가용성 그룹에 추가하려면 데이터베이스는 주 복제본을 호스팅하는 서버 인스턴스에 있는 온라인 읽기-쓰기 데이터베이스여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-137">To add a database to an availability group, the database must be an online, read-write database that exists on the server instance that hosts the primary replica.</span></span> <span data-ttu-id="2c28c-138">데이터베이스를 추가하면 이 데이터베이스는 가용성 그룹을 주 데이터베이스로 조인하며 클라이언트에서 사용할 수 있는 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-138">When you add a database, it joins the availability group as a primary database, while remaining available to clients.</span></span> <span data-ttu-id="2c28c-139">새로운 주 데이터베이스의 백업이 보조 복제본을 호스팅하는 서버 인스턴스로 복원될 때까지 해당 보조 데이터베이스는 존재하지 않습니다(RESTORE WITH NORECOVERY 사용).</span><span class="sxs-lookup"><span data-stu-id="2c28c-139">No corresponding secondary database exists until backups of the new primary database are restored to the server instance that hosts the secondary replica (using RESTORE WITH NORECOVERY).</span></span> <span data-ttu-id="2c28c-140">새 보조 데이터베이스는 가용성 그룹에 조인될 때까지 RESTORING 상태에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-140">The new secondary database is in the RESTORING state until it is joined to the availability group.</span></span> <span data-ttu-id="2c28c-141">자세한 내용은 [AlwaysOn 보조 데이터베이스에서 데이터 이동 시작&#40;SQL Server&#41;](start-data-movement-on-an-always-on-secondary-database-sql-server.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-141">For more information, see [Start Data Movement on an AlwaysOn Secondary Database &#40;SQL Server&#41;](start-data-movement-on-an-always-on-secondary-database-sql-server.md).</span></span>

 <span data-ttu-id="2c28c-142">조인하면 보조 데이터베이스가 ONLINE 상태로 전환되고 해당 주 데이터베이스와의 데이터 동기화가 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-142">Joining places the secondary database into the ONLINE state and initiates data synchronization with the corresponding primary database.</span></span> <span data-ttu-id="2c28c-143">*데이터 동기화* 는 주 데이터베이스에 대한 변경 사항이 보조 데이터베이스에서 재현되는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-143">*Data synchronization* is the process by which changes to a primary database are reproduced on a secondary database.</span></span> <span data-ttu-id="2c28c-144">데이터 동기화를 수행하면 주 데이터베이스가 트랜잭션 로그 레코드를 보조 데이터베이스에 전송합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-144">Data synchronization involves the primary database sending transaction log records to the secondary database.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="2c28c-145">가용성 데이터베이스는 *에서* 데이터베이스 복제본 [!INCLUDE[tsql](../../../includes/tsql-md.md)], PowerShell 및 SMO(SQL Server 관리 개체) 이름이라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-145">An availability database is sometimes called a *database replica* in [!INCLUDE[tsql](../../../includes/tsql-md.md)], PowerShell, and SQL Server Management Objects (SMO) names.</span></span> <span data-ttu-id="2c28c-146">예를 들어 "데이터베이스 복제본"이라는 용어는 가용성 데이터베이스  **sys.dm_hadr_database_replica_states** 및 **sys.dm_hadr_database_replica_cluster_states**에 대한 정보를 반환하는 AlwaysOn 동적 관리 뷰의 이름에서 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-146">For example, the term "database replica" is used in the names of the AlwaysOn dynamic management views that return information about availability databases:  **sys.dm_hadr_database_replica_states** and **sys.dm_hadr_database_replica_cluster_states**.</span></span> <span data-ttu-id="2c28c-147">그러나 SQL Server 온라인 설명서에서 "복제본"이라는 용어는 일반적으로 가용성 복제본입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-147">However, in SQL Server Books Online, the term "replica" typically refers to availability replicas.</span></span> <span data-ttu-id="2c28c-148">예를 들어 "주 복제본"과 "보조 복제본"은 항상 가용성 복제본을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-148">For example, "primary replica" and "secondary replica" always refer to availability replicas.</span></span>

##  <a name="availability-replicas"></a><a name="AGsARsADBs"></a><span data-ttu-id="2c28c-149">가용성 복제본</span><span class="sxs-lookup"><span data-stu-id="2c28c-149">Availability Replicas</span></span>
 <span data-ttu-id="2c28c-150">각 가용성 그룹은 가용성 복제본이라는 두 개 이상의 장애 조치(Failover) 파트너 집합을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-150">Each availability group defines a set of two or more failover partners known as availability replicas.</span></span> <span data-ttu-id="2c28c-151">*가용성 복제본* 은 가용성 그룹의 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-151">*Availability replicas* are components of the availability group.</span></span> <span data-ttu-id="2c28c-152">각 가용성 복제본은 가용성 그룹에 있는 가용성 데이터베이스의 복사본을 호스팅합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-152">Each availability replica hosts a copy of the availability databases in the availability group.</span></span> <span data-ttu-id="2c28c-153">가용성 그룹의 각 가용성 복제본은 WSFC 클러스터의 서로 다른 노드에 있는 별도의 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 인스턴스에서 호스팅해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-153">For a given availability group, the availability replicas must be hosted by separate instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] residing on different nodes of a WSFC cluster.</span></span> <span data-ttu-id="2c28c-154">각 서버 인스턴스는 AlwaysOn을 사용하도록 설정되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-154">Each of these server instances must be enabled for AlwaysOn.</span></span>

 <span data-ttu-id="2c28c-155">한 인스턴스는 가용성 그룹별로 하나의 가용성 복제본만 호스팅할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-155">A given instance can host only one availability replica per availability group.</span></span> <span data-ttu-id="2c28c-156">하지만 각 인스턴스는 여러 가용성 그룹에 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-156">However, each instance can be used for many availability groups.</span></span> <span data-ttu-id="2c28c-157">각 인스턴스는 독립 실행형 인스턴스이거나 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] FCI(장애 조치(Failover) 클러스터 인스턴스)일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-157">A given instance can be either a stand-alone instance or a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance (FCI).</span></span> <span data-ttu-id="2c28c-158">서버 수준 중복이 필요한 경우에는 장애 조치(Failover) 클러스터 인스턴스를 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-158">If you require server-level redundancy, use Failover Cluster Instances.</span></span>

 <span data-ttu-id="2c28c-159">모든 가용성 복제본에는 초기 역할이 할당됩니다. 초기 역할은 해당 복제본의 가용성 데이터베이스에서 상속하는 *주 역할* 또는 *보조 역할*입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-159">Every availability replica is assigned an initial role-either the *primary role* or the *secondary role*, which is inherited by the availability databases of that replica.</span></span> <span data-ttu-id="2c28c-160">지정된 복제본의 역할에 따라 읽기-쓰기 데이터베이스가 호스팅되는지 아니면 읽기 전용 데이터베이스가 호스팅되는지가 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-160">The role of a given replica determines whether it hosts read-write databases or read-only databases.</span></span> <span data-ttu-id="2c28c-161">*주 복제본*이라는 하나의 복제본에는 주 역할이 할당되며 이 복제본은 *주 데이터베이스*라는 읽기-쓰기 데이터베이스를 호스트합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-161">One replica, known as the *primary replica*, is assigned the primary role and hosts read-write databases, which are known as *primary databases*.</span></span> <span data-ttu-id="2c28c-162">*보조 복제본*이라는 하나 이상의 다른 복제본에는 보조 역할이 할당됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-162">At least one other replica, known as a *secondary replica*, is assigned the secondary role.</span></span> <span data-ttu-id="2c28c-163">보조 복제본은 보조 데이터베이스라는 읽기 전용 데이터베이스를 호스팅합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-163">A secondary replica hosts read-only databases, known as secondary databases.</span></span>

> [!NOTE]
>  <span data-ttu-id="2c28c-164">장애 조치(Failover) 도중과 같이 가용성 복제본의 역할이 불확실할 때 데이터베이스는 일시적으로 NOT SYNCHRONIZING 상태에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-164">When the role of an availability replica is indeterminate, such as during a failover, its databases are temporarily in a NOT SYNCHRONIZING state.</span></span> <span data-ttu-id="2c28c-165">가용성 복제본의 역할이 확인될 때까지 데이터베이스의 역할은 RESOLVING으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-165">Their role is set to RESOLVING until the role of the availability replica has resolved.</span></span> <span data-ttu-id="2c28c-166">가용성 복제본이 주 역할로 확인되면 해당 데이터베이스는 주 데이터베이스가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-166">If an availability replica resolves to the primary role, its databases become the primary databases.</span></span> <span data-ttu-id="2c28c-167">가용성 복제본이 보조 역할로 확인되면 해당 데이터베이스는 보조 데이터베이스가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-167">If an availability replica resolves to the secondary role, its databases become secondary databases.</span></span>

##  <a name="availability-modes"></a><a name="AvailabilityModes"></a><span data-ttu-id="2c28c-168">가용성 모드</span><span class="sxs-lookup"><span data-stu-id="2c28c-168">Availability Modes</span></span>
 <span data-ttu-id="2c28c-169">가용성 모드는 각 가용성 복제본의 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-169">The availability mode is a property of each availability replica.</span></span> <span data-ttu-id="2c28c-170">가용성 모드는 지정된 보조 복제본이 트랜잭션 로그 레코드를 디스크에 쓸 때까지(로그 확정) 주 복제본이 데이터베이스에서 트랜잭션을 커밋하기 위해 기다리는지 여부를 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-170">The availability mode determines whether the primary replica waits to commit transactions on a database until a given secondary replica has written the transaction log records to disk (hardened the log).</span></span> [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]<span data-ttu-id="2c28c-171">는 *비동기-커밋 모드* 및 *동기-커밋 모드*라는 두 가지 가용성 모드를 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-171">supports two availability modes-*asynchronous-commit mode* and *synchronous-commit mode*.</span></span>

-   <span data-ttu-id="2c28c-172">**Asynchronous-commit mode**</span><span class="sxs-lookup"><span data-stu-id="2c28c-172">**Asynchronous-commit mode**</span></span>

     <span data-ttu-id="2c28c-173">이 가용성 모드를 사용하는 가용성 복제본을*비동기-커밋 복제본*이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-173">An availability replica that uses this availability mode is known as an*asynchronous-commit replica*.</span></span> <span data-ttu-id="2c28c-174">비동기-커밋 모드에서는 주 복제본이 비동기-커밋 보조 복제본이 로그를 확정할 때까지 기다리지 않고 트랜잭션을 커밋합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-174">Under asynchronous-commit mode, the primary replica commits transactions without waiting for acknowledgement that an asynchronous-commit secondary replica has hardened the log.</span></span> <span data-ttu-id="2c28c-175">비동기-커밋 모드에서는 보조 데이터베이스의 트랜잭션 대기 시간이 최소화되지만 보조 데이터베이스가 주 데이터베이스보다 뒤쳐질 수 있어 일부 데이터가 손실될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-175">Asynchronous-commit mode minimizes transaction latency on the secondary databases but allows them to lag behind the primary databases, making some data loss possible.</span></span>

-   <span data-ttu-id="2c28c-176">**Synchronous-commit mode**</span><span class="sxs-lookup"><span data-stu-id="2c28c-176">**Synchronous-commit mode**</span></span>

     <span data-ttu-id="2c28c-177">이 가용성 모드를 사용하는 가용성 복제본을 *동기-커밋 복제본*이라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-177">An availability replica that uses this availability mode is known as a *synchronous-commit replica*.</span></span> <span data-ttu-id="2c28c-178">동기-커밋 모드에서는 동기-커밋 주 복제본이 트랜잭션을 커밋하기 전에 동기-커밋 보조 복제본이 로그 확정을 완료했음을 확인할 때까지 기다립니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-178">Under synchronous-commit mode, before committing transactions, a synchronous-commit primary replica waits for a synchronous-commit secondary replica to acknowledge that it has finished hardening the log.</span></span> <span data-ttu-id="2c28c-179">동기-커밋 모드에서는 지정된 보조 데이터베이스가 주 데이터베이스와 동기화되고 나면 커밋된 트랜잭션이 완전히 보호됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-179">Synchronous-commit mode ensures that once a given secondary database is synchronized with the primary database, committed transactions are fully protected.</span></span> <span data-ttu-id="2c28c-180">이렇게 보호되는 대신에 트랜잭션 대기 시간이 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-180">This protection comes at the cost of increased transaction latency.</span></span>

 <span data-ttu-id="2c28c-181">자세한 내용은 [가용성 모드&#40;AlwaysOn 가용성 그룹&#41;](availability-modes-always-on-availability-groups.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-181">For more information, see [Availability Modes &#40;AlwaysOn Availability Groups&#41;](availability-modes-always-on-availability-groups.md).</span></span>

##  <a name="types-of-failover"></a><a name="FormsOfFailover"></a><span data-ttu-id="2c28c-182">장애 조치 (Failover) 유형</span><span class="sxs-lookup"><span data-stu-id="2c28c-182">Types of Failover</span></span>
 <span data-ttu-id="2c28c-183">주 복제본과 보조 복제본 간의 섹션 컨텍스트 내에서 주 역할과 보조 역할은 *장애 조치(Failover)* 라는 프로세스에서 서로 교환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-183">Within the context of a session between the primary replica and a secondary replica, the primary and secondary roles are potentially interchangeable in a process known as *failover*.</span></span> <span data-ttu-id="2c28c-184">장애 조치(Failover) 중에 대상 보조 복제본은 주 역할로 전환되어 새로운 주 복제본이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-184">During a failover the target secondary replica transitions to the primary role, becoming the new primary replica.</span></span> <span data-ttu-id="2c28c-185">새로운 주 복제본은 해당 데이터베이스를 주 데이터베이스로 온라인으로 전환하며 클라이언트 애플리케이션은 이 데이터베이스에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-185">The new primary replica brings its databases online as the primary databases, and client applications can connect to them.</span></span> <span data-ttu-id="2c28c-186">이전의 주 복제본이 사용 가능한 경우 이 복제본은 보조 역할로 전환되어 보조 복제본이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-186">When the former primary replica is available, it transitions to the secondary role, becoming a secondary replica.</span></span> <span data-ttu-id="2c28c-187">이전의 주 복제본은 보조 데이터베이스가 되고 데이터 동기화가 다시 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-187">The former primary databases become secondary databases and data synchronization resumes.</span></span>

 <span data-ttu-id="2c28c-188">자동, 수동 및 강제(데이터가 손실될 수 있음)라는 세 가지 형태의 장애 조치(Failover)가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-188">Three forms of failover exist-automatic, manual, and forced (with possible data loss).</span></span> <span data-ttu-id="2c28c-189">지정된 보조 복제본에서 지원되는 장애 조치(Failover)의 형태는 가용성 모드에 따라 다르며 동기-커밋 모드의 경우 다음과 같이 주 복제본 및 대상 보조 복제본의 장애 조치(Failover) 모드에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-189">The form or forms of failover supported by a given secondary replica depends on its availability mode, and, for synchronous-commit mode, on the failover mode on the primary replica and target secondary replica, as follows.</span></span>

-   <span data-ttu-id="2c28c-190">동기-커밋 모드는 대상 보조 복제본이 현재 avt1와 동기화 되어 있는 경우 장애 조치 (failover)*계획 수동 장애* 조치 및 *자동 장애*조치 (failover)의 두 가지 형태를 지원 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-190">Synchronous-commit mode supports two forms of failover-*planned manual failover* and *automatic failover*, if the target secondary replica is currently synchronized with the avt1.</span></span> <span data-ttu-id="2c28c-191">이러한 형태의 장애 조치(Failover)에 대한 지원은 장애 조치(Failover) 파트너에서 *장애 조치(Failover) 모드 속성* 의 설정에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-191">The support for these forms of failover depends on the setting of the *failover mode property* on the failover partners.</span></span> <span data-ttu-id="2c28c-192">주 복제본 또는 보조 복제본에서 장애 조치(Failover) 모드가 "수동"으로 설정된 경우 해당 보조 복제본에 대해 수동 장애 조치(Failover)만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-192">If failover mode is set to "manual" on either the primary or secondary replica, only manual failover is supported for that secondary replica.</span></span> <span data-ttu-id="2c28c-193">주 복제본과 보조 복제본에서 모두 장애 조치(Failover) 모드가 "자동"으로 설정된 경우 해당 보조 복제본에서는 자동 및 수동 장애 조치(Failover)가 모두 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-193">If failover mode is set to "automatic" on both the primary and secondary replicas, both automatic and manual failover are supported on that secondary replica.</span></span>

    -   <span data-ttu-id="2c28c-194">**계획된 수동 장애 조치(Failover)** (데이터가 손실되지 않음)</span><span class="sxs-lookup"><span data-stu-id="2c28c-194">**Planned manual failover** (without data loss)</span></span>

         <span data-ttu-id="2c28c-195">수동 장애 조치(Failover)는 데이터베이스 관리자가 장애 조치(Failover) 명령을 실행한 후에 수행되며 결과적으로 동기화된 보조 복제본이 주 역할(데이터 보호 보장)로 전환되고 주 복제본이 보조 역할로 전환됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-195">A manual failover occurs after a database administrator issues a failover command and causes a synchronized secondary replica to transition to the primary role (with guaranteed data protection) and the primary replica to transition to the secondary role.</span></span> <span data-ttu-id="2c28c-196">수동 장애 조치(Failover)를 수행하려면 주 복제본과 대상 보조 복제본이 모두 동기-커밋 모드에서 실행 중이어야 하며 보조 복제본은 항상 동기화되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-196">A manual failover requires that both the primary replica and the target secondary replica are running under synchronous-commit mode, and the secondary replica must already be synchronized.</span></span>

    -   <span data-ttu-id="2c28c-197">**자동 장애 조치(Failover)** (데이터가 손실되지 않음)</span><span class="sxs-lookup"><span data-stu-id="2c28c-197">**Automatic failover** (without data loss)</span></span>

         <span data-ttu-id="2c28c-198">자동 장애 조치(Failover)는 동기화된 보조 복제본이 주 역할(데이터 보호 보장)로 전환되는 오류에 대응하여 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-198">An automatic failover occurs in response to a failure that causes a synchronized secondary replica to transition to the primary role (with guaranteed data protection).</span></span> <span data-ttu-id="2c28c-199">이전의 주 복제본을 사용할 수 있게 되면 이 복제본은 보조 역할로 전환됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-199">When the former primary replica becomes available, it transitions to the secondary role.</span></span> <span data-ttu-id="2c28c-200">자동 장애 조치(Failover)를 수행하려면 장애 조치(Failover) 모드가 "자동"으로 설정된 상태로 주 복제본과 대상 보조 복제본이 모두 동기-커밋 모드에서 실행 중이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-200">Automatic failover requires that both the primary replica and the target secondary replica are running under synchronous-commit mode with the failover mode set to "Automatic".</span></span> <span data-ttu-id="2c28c-201">또한 보조 복제본이 이미 동기화되고, WSFC 쿼럼이 있으며, 가용성 그룹의 [유연한 장애 조치(Failover) 정책](flexible-automatic-failover-policy-availability-group.md)에서 지정된 조건과 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-201">In addition, the secondary replica must already be synchronized, have WSFC quorum, and meet the conditions specified by the [flexible failover policy](flexible-automatic-failover-policy-availability-group.md)of the availability group.</span></span>

        > [!IMPORTANT]
        >  <span data-ttu-id="2c28c-202">SQL Server FCI(장애 조치(Failover) 클러스터 인스턴스)는 가용성 그룹에 따라 AlwaysOn 자동 장애 조치(Failover)를 지원하지 않으므로 FCI에서 호스팅하는 모든 가용성 복제본은 수동 장애 조치(Failover)에 대해서만 구성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-202">SQL Server Failover Cluster Instances (FCIs) do not support automatic failover by availability groups, so any availability replica that is hosted by an FCI can only be configured for manual failover.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="2c28c-203">동기화된 보조 복제본에 강제 장애 조치(failover) 명령을 실행하면 보조 복제본은 계획된 수동 장애 조치(failover)의 경우와 동일하게 작동하는 것을 참고하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-203">Note that if you issue a forced failover command on a synchronized secondary replica, the secondary replica behaves the same as for a planned manual failover.</span></span>

-   <span data-ttu-id="2c28c-204">비동기-커밋 모드에서 유일한 형태의 장애 조치(failover)는 일반적으로 *강제 장애 조치(failover)* 라고 하는 강제 수동 장애 조치(failover)(데이터가 손실될 수 있음)입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-204">Under asynchronous-commit mode, the only form of failover is forced manual failover (with possible data loss), typically called *forced failover*.</span></span> <span data-ttu-id="2c28c-205">강제 장애 조치(failover)는 수동으로만 시작될 수 있기 때문에 수동 장애 조치(failover)의 한 형태로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-205">Forced failover is considered a form of manual failover because it can only be initiated manually.</span></span> <span data-ttu-id="2c28c-206">강제 장애 조치(failover)는 재해 복구 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-206">Forced failover is a disaster recovery option.</span></span> <span data-ttu-id="2c28c-207">이것은 대상 보조 복제본이 주 복제본과 동기화되지 않은 경우 가능한 유일한 형태의 장애 조치(failover)입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-207">It is the only form of failover that is possible when the target secondary replica is not synchronized with the primary replica.</span></span>

 <span data-ttu-id="2c28c-208">자세한 내용은 [장애 조치(Failover) 및 장애 조치(Failover) 모드&#40;AlwaysOn 가용성 그룹&#41;](failover-and-failover-modes-always-on-availability-groups.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-208">For more information, see [Failover and Failover Modes &#40;AlwaysOn Availability Groups&#41;](failover-and-failover-modes-always-on-availability-groups.md).</span></span>

##  <a name="client-connections"></a><a name="ClientConnections"></a> <span data-ttu-id="2c28c-209">클라이언트 연결</span><span class="sxs-lookup"><span data-stu-id="2c28c-209">Client Connections</span></span>
 <span data-ttu-id="2c28c-210">가용성 그룹 수신기를 만들어 지정된 가용성 그룹의 주 복제본에 대한 클라이언트 연결을 제공할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-210">You can provide client connectivity to the primary replica of a given availability group by creating an availability group listener.</span></span> <span data-ttu-id="2c28c-211">*가용성 그룹 수신기* 는 지정된 가용성 그룹에 연결된 리소스 집합을 해당 가용성 복제본에 대한 직접 클라이언트 연결에 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-211">An *availability group listener* provides a set of resources that is attached to a given availability group to direct client connections to the appropriate availability replica.</span></span>

 <span data-ttu-id="2c28c-212">가용성 그룹 수신기는 VNN(가상 네트워크 이름) 역할을 하는 고유의 DNS 이름, 하나 이상의 VIP(가상 IP 주소) 및 TCP 포트 번호와 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-212">An availability group listener is associated with a unique DNS name that serves as a virtual network name (VNN), one or more virtual IP addresses (VIPs), and a TCP port number.</span></span> <span data-ttu-id="2c28c-213">자세한 내용은 [가용성 그룹 수신기, 클라이언트 연결 및 애플리케이션 장애 조치(failover)&#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-213">For more information, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>

> [!TIP]
>  <span data-ttu-id="2c28c-214">가용성 그룹에 두 개의 가용성 복제본만 있고 보조 복제본에 대한 읽기 액세스를 허용하도록 구성되지 않은 경우, 클라이언트는 [데이터베이스 미러링 연결 문자열](../../database-mirroring/connect-clients-to-a-database-mirroring-session-sql-server.md)을 사용하여 주 복제본에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-214">If an availability group possesses only two availability replicas and is not configured to allow read-access to the secondary replica, clients can connect to the primary replica by using a [database mirroring connection string](../../database-mirroring/connect-clients-to-a-database-mirroring-session-sql-server.md).</span></span> <span data-ttu-id="2c28c-215">이 방법은 데이터베이스 미러링에서 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]로 데이터베이스를 마이그레이션한 후 일시적으로 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-215">This approach can be useful temporarily after you migrate a database from database mirroring to [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span> <span data-ttu-id="2c28c-216">보조 복제본을 더 추가하기 전에 가용성 그룹의 가용성 그룹 수신기를 만들고 수신기의 네트워크 이름을 사용하도록 애플리케이션을 업데이트해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-216">Before you add additional secondary replicas, you will need to create an availability group listener the availability group and update your applications to use the network name of the listener.</span></span>

##  <a name="active-secondary-replicas"></a><a name="ActiveSecondaries"></a><span data-ttu-id="2c28c-217">활성 보조 복제본</span><span class="sxs-lookup"><span data-stu-id="2c28c-217">Active Secondary Replicas</span></span>
 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="2c28c-218">은 활성 보조 복제본을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-218">supports active secondary replicas.</span></span> <span data-ttu-id="2c28c-219">활성 보조 기능에는 다음에 대한 지원이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-219">Active secondary capabilities include support for:</span></span>

-   <span data-ttu-id="2c28c-220">**보조 복제본에 대한 백업 작업 수행**</span><span class="sxs-lookup"><span data-stu-id="2c28c-220">**Performing backup operations on secondary replicas**</span></span>

     <span data-ttu-id="2c28c-221">보조 복제본은 전체 데이터베이스, 파일 또는 파일 그룹의 [복사 전용](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md) 백업 및 로그 백업 수행을 지원합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-221">The secondary replicas support performing log backups and [copy-only](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md) backups of a full database, file, or filegroup.</span></span> <span data-ttu-id="2c28c-222">가용성 그룹을 구성하여 백업을 수행해야 하는 위치에 대한 기본 설정을 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-222">You can configure the availability group to specify a preference for where backups should be performed.</span></span> <span data-ttu-id="2c28c-223">기본 설정은 SQL Server에서 적용하는 것이 아니므로 임시 백업에 영향을 미치지 않는다는 것을 이해해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-223">It is important to understand that the preference is not enforced by SQL Server, so it has no impact on ad-hoc backups.</span></span> <span data-ttu-id="2c28c-224">이 기본 설정의 해석은 지정된 가용성 그룹의 각 데이터베이스에 대한 백업 작업으로 스크립팅하는 논리(있는 경우)에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-224">The interpretation of this preference depends on the logic, if any, that you script into your back jobs for each of the databases in a given availability group.</span></span> <span data-ttu-id="2c28c-225">개별 가용성 복제본에 대해 동일한 가용성 그룹의 다른 복제본과 관련하여 이 복제본에서 백업을 수행하기 위한 우선 순위를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-225">For an individual availability replica, you can specify your priority for performing backups on this replica relative to the other replicas in the same availability group.</span></span> <span data-ttu-id="2c28c-226">자세한 내용은 [활성 보조: 보조 복제본에 백업&#40;AlwaysOn 가용성 그룹&#41;](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-226">For more information, see [Active Secondaries: Backup on Secondary Replicas &#40;AlwaysOn Availability Groups&#41;](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md).</span></span>

-   <span data-ttu-id="2c28c-227">**하나 이상의 보조 복제본(읽기 가능한 보조 복제본)에 대한 읽기 전용 액세스(읽기 가능한 보조 복제본)**</span><span class="sxs-lookup"><span data-stu-id="2c28c-227">**Read-only access to one or more secondary replicas (readable secondary replicas)**</span></span>

     <span data-ttu-id="2c28c-228">가용성 복제본이 보조 역할을 수행할 경우 로컬 데이터베이스에 대한 읽기 전용 액세스를 허용하도록 구성할 수 있습니다. 그러나 일부 작업은 부분적으로만 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-228">Any availability replica can be configured to allow read-only access to its local databases when performing the secondary role, though some operations are not fully supported.</span></span> <span data-ttu-id="2c28c-229">또한 주 복제본에서 읽기 전용 작업이 실행되지 않도록 하려는 경우에는 주 역할로 실행될 때 읽기/쓰기 액세스만 허용하도록 복제본을 구성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-229">Also, if you would like to prevent read-only workloads from running on the primary replica, you can configure the replicas to allow only read-write access when running under the primary role.</span></span> <span data-ttu-id="2c28c-230">자세한 내용은 [활성 보조: 읽기 가능한 보조 복제본&#40;AlwaysOn 가용성 그룹&#41;](active-secondaries-readable-secondary-replicas-always-on-availability-groups.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-230">For more information, see [Active Secondaries: Readable Secondary Replicas &#40;AlwaysOn Availability Groups&#41;](active-secondaries-readable-secondary-replicas-always-on-availability-groups.md).</span></span>

     <span data-ttu-id="2c28c-231">가용성 그룹에 현재 가용성 그룹 수신기와 하나 이상의 읽기 가능한 보조 복제본이 있는 경우 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 에서는 읽기 전용 연결 요청을 이러한 보조 복제본 중 하나로 라우팅할 수 있습니다(*읽기 전용 라우팅*).</span><span class="sxs-lookup"><span data-stu-id="2c28c-231">If an availability group currently possesses an availability group listener and one or more readable secondary replicas, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] can route read-intent connection requests to one of them (*read-only routing*).</span></span> <span data-ttu-id="2c28c-232">자세한 내용은 [가용성 그룹 수신기, 클라이언트 연결 및 애플리케이션 장애 조치(failover)&#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-232">For more information, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>

##  <a name="session-timeout-period"></a><a name="SessionTimeoutPerios"></a><span data-ttu-id="2c28c-233">세션 제한 시간</span><span class="sxs-lookup"><span data-stu-id="2c28c-233">Session-Timeout Period</span></span>
 <span data-ttu-id="2c28c-234">세션 제한 시간은 다른 가용성 복제본과의 연결이 얼마 동안 비활성으로 유지되면 연결이 종료되는지를 결정하는 가용성 복제본 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-234">The session-timeout period is an availability-replica property that determines how long connection with another availability replica can remain inactive before the connection is closed.</span></span> <span data-ttu-id="2c28c-235">주 복제본과 보조 복제본은 활성 상태임을 알리기 위해 서로 ping합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-235">The primary and secondary replicas ping each other to signal that they are still active.</span></span> <span data-ttu-id="2c28c-236">제한 시간 내에 다른 복제본으로부터 ping을 받으면 연결이 아직 열려 있고 서버 인스턴스가 통신하고 있음을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-236">Receiving a ping from the other replica during the timeout period indicates that the connection is still open and that the server instances are communicating.</span></span> <span data-ttu-id="2c28c-237">ping을 받으면 가용성 복제본은 해당 연결에서의 세션 제한 시간 카운터를 다시 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-237">On receiving a ping, an availability replica resets its session-timeout counter on that connection.</span></span>

 <span data-ttu-id="2c28c-238">세션 제한 시간은 각 복제본이 다른 복제본으로부터 ping을 받기 위해 무기한 대기하는 것을 방지합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-238">The session-timeout period prevents either replica from waiting indefinitely to receive a ping from the other replica.</span></span> <span data-ttu-id="2c28c-239">세션 제한 시간 내 다른 복제본으로부터 ping을 받지 못하면 이 복제본은 시간 초과됩니다. 그러면 연결이 닫히고 시간 초과된 복제본은 DISCONNECTED 상태로 됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-239">If no ping is received from the other replica within the session-timeout period, the replica times out. Its connection is closed, and the timed-out replica enters the DISCONNECTED state.</span></span> <span data-ttu-id="2c28c-240">연결이 끊어진 복제본이 동기 커밋 모드로 구성되어 있더라도 트랜잭션에서는 해당 복제본이 다시 연결되어 다시 동기화될 때까지 대기하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-240">Even if a disconnected replica is configured for synchronous-commit mode, transactions will not wait for that replica to reconnect and resynchronize.</span></span>

 <span data-ttu-id="2c28c-241">각 가용성 복제본의 기본 세션 제한 시간은 10초입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-241">The default session-timeout period for each availability replica is 10 seconds.</span></span> <span data-ttu-id="2c28c-242">이 값은 사용자가 구성할 수 있으며 최소값은 5초입니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-242">This value is user-configurable, with a minimum of 5 seconds.</span></span> <span data-ttu-id="2c28c-243">일반적으로 제한 시간을 10초 이상으로 유지하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-243">Generally, we recommend that you keep the time-out period at 10 seconds or greater.</span></span> <span data-ttu-id="2c28c-244">10초 미만의 값을 설정하면 로드가 많은 시스템에서 잘못된 실패를 선언할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-244">Setting the value to less than 10 seconds creates the possibility of a heavily loaded system declaring a false failure.</span></span>

> [!NOTE]
>  <span data-ttu-id="2c28c-245">확인 역할인 경우 ping이 발생하지 않기 때문에 세션 제한 시간이 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-245">In the resolving role, the session-timeout period does not apply because pinging does not occur.</span></span>

##  <a name="automatic-page-repair"></a><a name="APR"></a><span data-ttu-id="2c28c-246">자동 페이지 복구</span><span class="sxs-lookup"><span data-stu-id="2c28c-246">Automatic Page Repair</span></span>
 <span data-ttu-id="2c28c-247">각 가용성 복제본은 데이터 페이지를 읽지 못하게 하는 특정 오류 유형을 확인하여 로컬 데이터베이스의 손상된 페이지를 자동으로 복구하려고 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-247">Each availability replica tries to automatically recover from corrupted pages on a local database by resolving certain types of errors that prevent reading a data page.</span></span> <span data-ttu-id="2c28c-248">보조 복제본이 페이지를 읽을 수 없는 경우 복제본은 주 복제본에서 페이지의 새 복사본을 요청합니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-248">If a secondary replica cannot read a page, the replica requests a fresh copy of the page from the primary replica.</span></span> <span data-ttu-id="2c28c-249">주 복제본이 페이지를 읽을 수 없는 경우 복제본은 모든 보조 복제본에 새 복사본에 대한 요청을 브로드캐스팅하고 처음 응답하는 보조 복제본에서 페이지를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-249">If the primary replica cannot read a page, the replica broadcasts a request for a fresh copy to all the secondary replicas and gets the page from the first to respond.</span></span> <span data-ttu-id="2c28c-250">이 요청이 성공하면 읽을 수 없는 페이지는 새 복사본으로 대체되고 일반적으로 오류가 해결됩니다.</span><span class="sxs-lookup"><span data-stu-id="2c28c-250">If this request succeeds, the unreadable page is replaced by the copy, which usually resolves the error.</span></span>

 <span data-ttu-id="2c28c-251">자세한 내용은 [자동 페이지 복구&#40;가용성 그룹 및 데이터베이스 미러링&#41;](../../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="2c28c-251">For more information, see [Automatic Page Repair &#40;For Availability Groups and Database Mirroring&#41;](../../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md).</span></span>

##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="2c28c-252">관련 작업</span><span class="sxs-lookup"><span data-stu-id="2c28c-252">Related Tasks</span></span>

-   [<span data-ttu-id="2c28c-253">AlwaysOn 가용성 그룹 &#40;SQL Server 시작 하기&#41;</span><span class="sxs-lookup"><span data-stu-id="2c28c-253">Getting Started with AlwaysOn Availability Groups &#40;SQL Server&#41;</span></span>](getting-started-with-always-on-availability-groups-sql-server.md)

##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="2c28c-254">관련 내용</span><span class="sxs-lookup"><span data-stu-id="2c28c-254">Related Content</span></span>

-   <span data-ttu-id="2c28c-255">**블로그:**</span><span class="sxs-lookup"><span data-stu-id="2c28c-255">**Blogs:**</span></span>

     [<span data-ttu-id="2c28c-256">AlwaysON - HADRON 학습 시리즈: HADRON 지원 데이터베이스에 대한 작업자 풀 사용</span><span class="sxs-lookup"><span data-stu-id="2c28c-256">AlwaysON - HADRON Learning Series: Worker Pool Usage for HADRON Enabled Databases</span></span>](https://blogs.msdn.com/b/psssql/archive/2012/05/17/alwayson-hadron-learning-series-worker-pool-usage-for-hadron-enabled-databases.aspx)

     [<span data-ttu-id="2c28c-257">SQL Server AlwaysOn 팀 블로그: 공식 SQL Server AlwaysOn 팀 블로그</span><span class="sxs-lookup"><span data-stu-id="2c28c-257">SQL Server AlwaysOn Team Blogs: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)

     [<span data-ttu-id="2c28c-258">CSS SQL Server 엔지니어 블로그</span><span class="sxs-lookup"><span data-stu-id="2c28c-258">CSS SQL Server Engineers Blogs</span></span>](https://blogs.msdn.com/b/psssql/)

-   <span data-ttu-id="2c28c-259">**비디오:**</span><span class="sxs-lookup"><span data-stu-id="2c28c-259">**Videos:**</span></span>

     [<span data-ttu-id="2c28c-260">Microsoft SQL Server 코드 이름 "Denali" AlwaysOn 시리즈, 1부: 차세대 고가용성 솔루션 소개</span><span class="sxs-lookup"><span data-stu-id="2c28c-260">Microsoft SQL Server Code-Named "Denali" AlwaysOn Series,Part 1: Introducing the Next Generation High Availability Solution</span></span>](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI302)

     [<span data-ttu-id="2c28c-261">Microsoft SQL Server 코드 이름 "Denali" AlwaysOn 시리즈, 파트 2: AlwaysOn을 사용하여 중요 환경 고가용성 솔루션 빌드</span><span class="sxs-lookup"><span data-stu-id="2c28c-261">Microsoft SQL Server Code-Named "Denali" AlwaysOn Series,Part 2: Building a Mission-Critical High Availability Solution Using AlwaysOn</span></span>](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2011/DBI404)

-   <span data-ttu-id="2c28c-262">**백서:**</span><span class="sxs-lookup"><span data-stu-id="2c28c-262">**Whitepapers:**</span></span>

     [<span data-ttu-id="2c28c-263">고가용성 및 재해 복구를 위한 Microsoft SQL Server AlwaysOn 솔루션 가이드</span><span class="sxs-lookup"><span data-stu-id="2c28c-263">Microsoft SQL Server AlwaysOn Solutions Guide for High Availability and Disaster Recovery</span></span>](https://go.microsoft.com/fwlink/?LinkId=227600)

     [<span data-ttu-id="2c28c-264">SQL Server 2012에 대한 Microsoft 백서</span><span class="sxs-lookup"><span data-stu-id="2c28c-264">Microsoft White Papers for SQL Server 2012</span></span>](https://msdn.microsoft.com/library/hh403491.aspx)

     [<span data-ttu-id="2c28c-265">SQL Server 고객 자문 팀 백서</span><span class="sxs-lookup"><span data-stu-id="2c28c-265">SQL Server Customer Advisory Team Whitepapers</span></span>](http://sqlcat.com/)

## <a name="see-also"></a><span data-ttu-id="2c28c-266">참고 항목</span><span class="sxs-lookup"><span data-stu-id="2c28c-266">See Also</span></span>
 <span data-ttu-id="2c28c-267">가용성 모드는 [장애 조치 (failover) 및 장애 조치 (Failover) &#40;모드](failover-and-failover-modes-always-on-availability-groups.md) 를 [&#41;AlwaysOn 가용성 그룹 &#40;](availability-modes-always-on-availability-groups.md) AlwaysOn 가용성 그룹&#41;[에 대 한 transact-sql 문 개요](transact-sql-statements-for-always-on-availability-groups.md) AlwaysOn 가용성 그룹 &#40;SQL Server&#41;에 [대 한 PowerShell CMDLET 개요](overview-of-powershell-cmdlets-for-always-on-availability-groups-sql-server.md) AlwaysOn 가용성 그룹 &#40;의 [메모리 내 OLTP 데이터베이스](../../../relational-databases/in-memory-oltp/high-availability-support-for-in-memory-oltp-databases.md) 필수 구성 요소에 대 한 고가용성 지원 [제한 사항 및 권장 사항에 대 한 AlwaysOn 가용성 그룹 &#40;SQL Server](prereqs-restrictions-recommendations-always-on-availability.md) [사용 하 여 가용성 그룹을 만들고 구성](creation-and-configuration-of-availability-groups-sql-server.md)&#41;&#40;SQL Server [활성 보조 복제본](active-secondaries-readable-secondary-replicas-always-on-availability-groups.md)&#41;&#40;AlwaysOn 가용성 그룹 [활성 보조: 보조 복제본에 백업](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md)&#41;&#40;AlwaysOn 가용성 그룹 [가용성 그룹 수신기, 클라이언트 연결 및 응용 프로그램 장애 조치 (Failover)](../../listeners-client-connectivity-application-failover.md)&#41;&#40;SQL Server</span><span class="sxs-lookup"><span data-stu-id="2c28c-267">[Availability Modes &#40;AlwaysOn Availability Groups&#41;](availability-modes-always-on-availability-groups.md) [Failover and Failover Modes &#40;AlwaysOn Availability Groups&#41;](failover-and-failover-modes-always-on-availability-groups.md) [Overview of Transact-SQL Statements for AlwaysOn Availability Groups &#40;SQL Server&#41;](transact-sql-statements-for-always-on-availability-groups.md) [Overview of PowerShell Cmdlets for AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-powershell-cmdlets-for-always-on-availability-groups-sql-server.md) [High Availability Support for In-Memory OLTP databases](../../../relational-databases/in-memory-oltp/high-availability-support-for-in-memory-oltp-databases.md) [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md) [Creation and Configuration of Availability Groups &#40;SQL Server&#41;](creation-and-configuration-of-availability-groups-sql-server.md) [Active Secondaries: Readable Secondary Replicas &#40;AlwaysOn Availability Groups&#41;](active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) [Active Secondaries: Backup on Secondary Replicas &#40;AlwaysOn Availability Groups&#41;](active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md) [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md)</span></span>

