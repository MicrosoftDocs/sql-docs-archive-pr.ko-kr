---
title: 버퍼 풀 확장 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
ms.assetid: 909ab7d2-2b29-46f5-aea1-280a5f8fedb4
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 42a8873f4046a307e3b8ec1ce703a34bf8cb0df2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87740444"
---
# <a name="buffer-pool-extension"></a><span data-ttu-id="47b6f-102">Buffer Pool Extension</span><span class="sxs-lookup"><span data-stu-id="47b6f-102">Buffer Pool Extension</span></span>
  <span data-ttu-id="47b6f-103">[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]에서 도입된 버퍼 풀 확장은 I/O 처리량을 크게 향상하기 위해 비휘발성 RAM(즉, 반도체 드라이브) 확장을 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 버퍼 풀에 원활하게 통합할 수 있는 기능을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-103">Introduced in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], the buffer pool extension provides the seamless integration of a nonvolatile random access memory (that is, solid-state drive) extension to the [!INCLUDE[ssDE](../../includes/ssde-md.md)] buffer pool to significantly improve I/O throughput.</span></span> <span data-ttu-id="47b6f-104">버퍼 풀 확장은 일부 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 버전에서만 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-104">The buffer pool extension is not available in every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] edition.</span></span> <span data-ttu-id="47b6f-105">자세한 내용은 [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="47b6f-105">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

## <a name="benefits-of-the-buffer-pool-extension"></a><span data-ttu-id="47b6f-106">버퍼 풀 확장의 이점</span><span class="sxs-lookup"><span data-stu-id="47b6f-106">Benefits of the Buffer Pool Extension</span></span>
 <span data-ttu-id="47b6f-107">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 데이터베이스의 주 목적은 데이터 저장 및 검색이므로 데이터베이스 엔진의 핵심 특성은 집중형 디스크 I/O입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-107">The primary purpose of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database is to store and retrieve data, so intensive disk I/O is a core characteristic of the Database Engine.</span></span> <span data-ttu-id="47b6f-108">디스크 I/O 작업은 많은 리소스를 소비하며 완료하는 데 비교적 오랜 시간이 걸리므로 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서는 I/O의 효율성을 높이는 데 주안점을 둡니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-108">Because disk I/O operations can consume many resources and take a relatively long time to finish, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] focuses on making I/O highly efficient.</span></span> <span data-ttu-id="47b6f-109">버퍼 풀은 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]의 주 메모리 할당 원본으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-109">The buffer pool serves as a primary memory allocation source of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="47b6f-110">버퍼 관리는 이러한 효율성을 얻기 위한 핵심 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-110">Buffer management is a key component in achieving this efficiency.</span></span> <span data-ttu-id="47b6f-111">버퍼 관리 구성 요소는 데이터베이스 페이지에 액세스하고 업데이트하기 위한 버퍼 관리자와 데이터베이스 파일 I/O를 줄이기 위한 버퍼 풀의 두 가지 메커니즘으로 구성되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-111">The buffer management component consists of two mechanisms: the buffer manager to access and update database pages, and the buffer pool), to reduce database file I/O.</span></span>

 <span data-ttu-id="47b6f-112">데이터 및 인덱스 페이지는 디스크에서 버퍼 풀로 읽히고 수정된 페이지(더티 페이지라고도 함)는 디스크에 다시 쓰여집니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-112">Data and index pages are read from disk into the buffer pool and modified pages (also known as dirty pages) are written back to disk.</span></span> <span data-ttu-id="47b6f-113">서버 및 데이터베이스 검사점에서 메모리가 부족하면 버퍼 캐시에 있는 핫(활성) 더티 페이지가 캐시에서 제거되고 기계식 디스크에 쓰여진 다음 다시 캐시에서 읽힙니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-113">Memory pressure on the server and database checkpoints cause hot (active) dirty pages in the buffer cache to be evicted from the cache and written to mechanical disks and then read back into the cache.</span></span> <span data-ttu-id="47b6f-114">일반적으로 이러한 I/O 작업은 4KB 데이터에서 16KB 데이터 정도의 작은 임의 읽기 및 쓰기입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-114">These I/O operations are typically small random reads and writes on the order of 4 to 16 KB of data.</span></span> <span data-ttu-id="47b6f-115">작은 임의 I/O 패턴은 잦은 검색을 유발하기 때문에 기계식 디스크 충돌 경합이 발생하고, I/O 대기 시간이 증가하며, 시스템의 총 I/O 처리량이 감소합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-115">Small random I/O patterns incur frequent seeks, competing for the mechanical disk arm, increasing I/O latency, and reducing aggregate I/O throughput of the system.</span></span>

 <span data-ttu-id="47b6f-116">이러한 I/O 병목 상태를 해결하는 일반적인 방법은 DRAM이나 고성능 SAS 스핀들을 추가하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-116">The typical approach to resolving these I/O bottlenecks is to add more DRAM, or alternatively, added high-performance SAS spindles.</span></span> <span data-ttu-id="47b6f-117">이러한 옵션은 유용하지만 중요한 단점이 있습니다. DRAM은 데이터 스토리지 드라이브보다 더 비싸며, 스핀들 추가는 하드웨어 구입 비용을 증가시킵니다. 또한 전력 소비가 많고 구성 요소의 오류 발생 가능성이 높아 운영 비용이 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-117">While these options are helpful, they have significant drawbacks: DRAM is more expensive than data storage drives and adding spindles increases capital expenditure in hardware acquisition and increases operational costs by increased power consumption and increased probability of component failure.</span></span>

 <span data-ttu-id="47b6f-118">버퍼 풀 확장 기능은 비휘발성 스토리지(일반적으로 SSD)로 버퍼 풀 캐시를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-118">The buffer pool extension feature extends the buffer pool cache with nonvolatile storage (usually SSD).</span></span> <span data-ttu-id="47b6f-119">이 확장 덕분에 버퍼 풀은 더 큰 데이터베이스 작업 집합을 수용할 수 있고, 그에 따라 RAM과 SSD 간의 I/O 페이징이 강제로 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-119">Because of this extension, the buffer pool can accommodate a larger database working set, which forces the paging of I/Os between RAM and the SSDs.</span></span> <span data-ttu-id="47b6f-120">따라서 작은 임의 I/O가 기계식 디스크에서 SSD로 효과적으로 오프로드됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-120">This effectively offloads small random I/Os from mechanical disks to SSDs.</span></span> <span data-ttu-id="47b6f-121">SSD의 더 낮은 대기 시간과 향상된 임의 I/O 성능 덕분에 버퍼 풀 확장은 I/O 처리량을 크게 향상합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-121">Because of the lower latency and better random I/O performance of SSDs, the buffer pool extension significantly improves I/O throughput.</span></span>

 <span data-ttu-id="47b6f-122">다음 목록에서는 버퍼 풀 확장 기능의 이점에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-122">The following list describes the benefits of the buffer pool extension feature.</span></span>

-   <span data-ttu-id="47b6f-123">임의 I/O 처리량의 증가</span><span class="sxs-lookup"><span data-stu-id="47b6f-123">Increased random I/O throughput</span></span>

-   <span data-ttu-id="47b6f-124">I/O 대기 시간의 감소</span><span class="sxs-lookup"><span data-stu-id="47b6f-124">Reduced I/O latency</span></span>

-   <span data-ttu-id="47b6f-125">트랜잭션 처리량의 증가</span><span class="sxs-lookup"><span data-stu-id="47b6f-125">Increased transaction throughput</span></span>

-   <span data-ttu-id="47b6f-126">더 큰 하이브리드 버퍼 풀로 읽기 성능 향상</span><span class="sxs-lookup"><span data-stu-id="47b6f-126">Improved read performance with a larger hybrid buffer pool</span></span>

-   <span data-ttu-id="47b6f-127">현재와 미래의 저렴한 메모리 드라이브를 사용할 수 있는 캐싱 아키텍처</span><span class="sxs-lookup"><span data-stu-id="47b6f-127">A caching architecture that can take advantage of present and future low-cost memory drives</span></span>

### <a name="concepts"></a><span data-ttu-id="47b6f-128">개념</span><span class="sxs-lookup"><span data-stu-id="47b6f-128">Concepts</span></span>
 <span data-ttu-id="47b6f-129">다음은 버퍼 풀 확장 기능에 적용되는 용어입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-129">The following terms are applicable to the buffer pool extension feature.</span></span>

 <span data-ttu-id="47b6f-130">SSD (반도체 드라이브) 반도체 드라이브는 메모리 (RAM)에 데이터를 영구적으로 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-130">Solid-state drive (SSD) Solid-state drives store data in memory (RAM) in a persistent manner.</span></span> <span data-ttu-id="47b6f-131">자세한 내용은 [이 정의](http://en.wikipedia.org/wiki/Solid-state_drive)를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="47b6f-131">For more information, see [this definition](http://en.wikipedia.org/wiki/Solid-state_drive).</span></span>

 <span data-ttu-id="47b6f-132">버퍼에서 버퍼는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 데이터 또는 인덱스 페이지와 크기가 같은 메모리의 8kb 페이지입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-132">Buffer In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], A buffer is an 8-KB page in memory, the same size as a data or index page.</span></span> <span data-ttu-id="47b6f-133">따라서 버퍼 캐시는 8KB 페이지로 나누어집니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-133">Thus, the buffer cache is divided into 8-KB pages.</span></span> <span data-ttu-id="47b6f-134">페이지는 버퍼 관리자에 더 많은 데이터를 읽어 올 버퍼 영역이 필요할 때까지 버퍼 캐시에 남아 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-134">A page remains in the buffer cache until the buffer manager needs the buffer area to read in more data.</span></span> <span data-ttu-id="47b6f-135">데이터는 수정되는 경우에만 다시 디스크에 쓰여집니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-135">Data is written back to disk only if it is modified.</span></span> <span data-ttu-id="47b6f-136">이러한 메모리 내의 수정된 페이지를 더티 페이지라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-136">These in-memory modified pages are known as dirty pages.</span></span> <span data-ttu-id="47b6f-137">디스크에 있는 해당 데이터베이스 이미지와 동일한 페이지를 클린 페이지라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-137">A page is clean when it is equivalent to its database image on disk.</span></span> <span data-ttu-id="47b6f-138">버퍼 캐시의 데이터는 여러 번 수정한 후 디스크에 다시 쓸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-138">Data in the buffer cache can be modified multiple times before being written back to disk.</span></span>

 <span data-ttu-id="47b6f-139">버퍼 풀은 버퍼 캐시 라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-139">Buffer pool Also called buffer cache.</span></span> <span data-ttu-id="47b6f-140">버퍼 풀은 캐시된 데이터 페이지를 저장하기 위해 모든 데이터베이스에서 공유하는 전역 리소스입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-140">The buffer pool is a global resource shared by all databases for their cached data pages.</span></span> <span data-ttu-id="47b6f-141">버퍼 풀 캐시의 최대 및 최소 크기는 시작하는 동안 결정되거나 SQL Server 인스턴스가 sp_configure를 사용하여 동적으로 다시 구성될 때 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-141">The maximum and minimum size of the buffer pool cache is determined during startup or when the instance of SQL server is dynamically reconfigured by using sp_configure.</span></span> <span data-ttu-id="47b6f-142">이 크기에 따라 실행 중인 인스턴스에서 언제든지 버퍼 풀에 캐시할 수 있는 최대 페이지 수가 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-142">This size determines the maximum number of pages that can be cached in the buffer pool at any time in the running instance.</span></span>

 <span data-ttu-id="47b6f-143">검사점 검사점은 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 예기치 않은 종료 또는 충돌 후 복구 하는 동안에서 트랜잭션 로그에 포함 된 변경 내용을 적용 하기 시작할 수 있는 알려진 올바른 지점을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-143">Checkpoint A checkpoint creates a known good point from which the [!INCLUDE[ssDE](../../includes/ssde-md.md)] can start applying changes contained in the transaction log during recovery after an unexpected shutdown or crash.</span></span> <span data-ttu-id="47b6f-144">검사점은 메모리 내의 더티 페이지와 트랜잭션 로그 정보를 디스크에 쓰고 트랜잭션 로그에 대한 정보도 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-144">A checkpoint writes the dirty pages and transaction log information from memory to disk and, also, records information about the transaction log.</span></span> <span data-ttu-id="47b6f-145">자세한 내용은 [데이터베이스 검사점&#40;SQL Server&#41;](../../relational-databases/logs/database-checkpoints-sql-server.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="47b6f-145">For more information, see [Database Checkpoints &#40;SQL Server&#41;](../../relational-databases/logs/database-checkpoints-sql-server.md).</span></span>

## <a name="buffer-pool-extension-details"></a><span data-ttu-id="47b6f-146">버퍼 풀 확장 세부 정보</span><span class="sxs-lookup"><span data-stu-id="47b6f-146">Buffer Pool Extension Details</span></span>
 <span data-ttu-id="47b6f-147">SSD 스토리지는 디스크 스토리지 하위 시스템보다는 메모리 하위 시스템에 대한 확장으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-147">SSD storage is used as an extension to the memory subsystem rather than the disk storage subsystem.</span></span> <span data-ttu-id="47b6f-148">즉, 버퍼 풀 확장 파일을 통해 버퍼 풀 관리자는 DRAM 및 NAND 플래시 메모리를 둘 다 사용하여 SSD에서 지원하는 비휘발성 RAM에서 비활성화된 페이지에 대해 훨씬 더 큰 버퍼 풀을 유지 관리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-148">That is, the buffer pool extension file allows the buffer pool manager to use both DRAM and NAND-Flash memory to maintain a much larger buffer pool of lukewarm pages in nonvolatile random access memory backed by SSDs.</span></span> <span data-ttu-id="47b6f-149">그러면 SSD에서 L1(수준 1)이 DRAM이고 L2(수준)가 버퍼 풀 확장 파일인 여러 수준 캐싱 계층이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-149">This creates a multilevel caching hierarchy with level 1 (L1) as the DRAM and level 2 (L2) as the buffer pool extension file on the SSD.</span></span> <span data-ttu-id="47b6f-150">L2 캐시에는 클린 페이지만 기록되므로 데이터 안전을 유지할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-150">Only clean pages are written to the L2 cache, which helps maintain data safety.</span></span> <span data-ttu-id="47b6f-151">버퍼 관리자는 L1 캐시와 L2 캐시 간의 클린 페이지 이동을 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-151">The buffer manager handles the movement of clean pages between the L1 and L2 caches.</span></span>

 <span data-ttu-id="47b6f-152">다음 그림에서는 다른 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 구성 요소를 기준으로 버퍼 풀에 대한 대략적인 아키텍처 개요를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-152">The following illustration provides a high-level architectural overview of the buffer pool relative to other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components.</span></span>

 <span data-ttu-id="47b6f-153">![SSD 버퍼 풀 확장 아키텍처](../media/ssdbufferpoolextensionarchitecture.gif "SSD 버퍼 풀 확장 아키텍처")</span><span class="sxs-lookup"><span data-stu-id="47b6f-153">![SSD Buffer Pool Extension Architecture](../media/ssdbufferpoolextensionarchitecture.gif "SSD Buffer Pool Extension Architecture")</span></span>

 <span data-ttu-id="47b6f-154">사용하도록 설정된 경우 버퍼 풀 확장은 SSD에 있는 버퍼 풀 캐싱 파일의 크기와 파일 경로를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-154">When enabled, the buffer pool extension specifies the size and file path of the buffer pool caching file on the SSD.</span></span> <span data-ttu-id="47b6f-155">이 파일은 SSD에 있는 스토리지의 인접 익스텐트이며 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]인스턴스를 시작하는 동안 정적으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-155">This file is a contiguous extent of storage on the SSD and is statically configured during startup of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="47b6f-156">파일 구성 매개 변수의 변경은 버퍼 풀 확장 기능이 사용하지 않도록 설정된 경우에만 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-156">Alterations to the file configuration parameters can only be done when the buffer pool extension feature is disabled.</span></span> <span data-ttu-id="47b6f-157">버퍼 풀 확장이 사용하지 않도록 설정된 경우 관련된 모든 구성 설정이 레지스트리에서 제거됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-157">When the buffer pool extension is disabled, all related configuration settings are removed from the registry.</span></span> <span data-ttu-id="47b6f-158">버퍼 풀 확장 파일은 SQL Server 인스턴스를 종료하면 즉시 삭제됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-158">The buffer pool extension file is deleted upon shutdown of the instance of SQL Server.</span></span>

## <a name="best-practices"></a><span data-ttu-id="47b6f-159">모범 사례</span><span class="sxs-lookup"><span data-stu-id="47b6f-159">Best Practices</span></span>
 <span data-ttu-id="47b6f-160">다음과 같은 최선의 구현 방법을 따르십시오.</span><span class="sxs-lookup"><span data-stu-id="47b6f-160">We recommend that you follow these best practices.</span></span>

-   <span data-ttu-id="47b6f-161">처음으로 버퍼 풀 확장을 사용하도록 설정한 경우 최대 성능 이점을 얻으려면 SQL Server 인스턴스를 다시 시작하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-161">After enabling Buffer Pool Extension for the first time it is recommended to restart the SQL Server instance to get the maximum performance benefits.</span></span>

-   <span data-ttu-id="47b6f-162">버퍼 풀 확장 크기는 Enterprise 버전에서 max_server_memory 값의 최대 32배이며 Standard 버전에서는 4배입니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-162">The buffer pool extension size can be up to 32 times the value of max_server_memory for Enterprise editions, and up to 4 times for Standard edition.</span></span>  <span data-ttu-id="47b6f-163">실제 메모리(max_server_memory) 크기와 버퍼 풀 확장 크기의 비율을 1:16 이하로 유지하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-163">We recommend a ratio between the size of the physical memory (max_server_memory) and the size of the buffer pool extension of 1:16 or less.</span></span> <span data-ttu-id="47b6f-164">1:4에서 1:8 사이의 범위에서 더 낮은 비율이 최적일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-164">A lower ratio in the range of 1:4 to 1:8 may be optimal.</span></span> <span data-ttu-id="47b6f-165">max_server_memory 옵션을 설정하는 방법은 [서버 메모리 서버 구성 옵션](server-memory-server-configuration-options.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="47b6f-165">For information about setting the max_server_memory option, see [Server Memory Server Configuration Options](server-memory-server-configuration-options.md).</span></span>

-   <span data-ttu-id="47b6f-166">프로덕션 환경에서 구현하기 전에 버퍼 풀 확장을 철저히 테스트합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-166">Test the buffer pool extension thoroughly before implementing in a production environment.</span></span> <span data-ttu-id="47b6f-167">프로덕션 환경에서는 파일 구성을 변경하거나 기능을 사용하지 않도록 설정하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="47b6f-167">Once in production, avoid making configuration changes to the file or turning the feature off.</span></span> <span data-ttu-id="47b6f-168">기능을 사용하지 않도록 설정하면 버퍼 풀 크기가 크게 감소하기 때문에 이러한 활동은 서버 성능에 부정적인 영향을 미칠 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-168">These activities may have a negative impact on server performance because the buffer pool is significantly reduced in size when the feature is disabled.</span></span> <span data-ttu-id="47b6f-169">사용하지 않도록 설정하면 SQL Server 인스턴스를 다시 시작할 때까지 기능을 지원하는 데 사용된 메모리가 회수되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-169">When disabled, the memory used to support the feature is not reclaimed until the instance of SQL Server is restarted.</span></span> <span data-ttu-id="47b6f-170">하지만 기능을 다시 사용하도록 설정하면 인스턴스를 다시 시작하지 않고도 메모리가 다시 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-170">However, if the feature is re-enabled, the memory will be reused without restarting the instance.</span></span>

## <a name="return-information-about-the-buffer-pool-extension"></a><span data-ttu-id="47b6f-171">버퍼 풀 확장에 대한 정보 반환</span><span class="sxs-lookup"><span data-stu-id="47b6f-171">Return Information about the Buffer Pool Extension</span></span>
 <span data-ttu-id="47b6f-172">다음과 같은 동적 관리 뷰를 사용하여 버퍼 풀 확장의 구성을 표시하고 확장에 있는 데이터 페이지에 대한 정보를 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-172">You can use the following dynamic management views to display the configuration of the buffer pool extension and return information about the data pages in the extension.</span></span>

-   [<span data-ttu-id="47b6f-173">sys.dm_os_buffer_pool_extension_configuration&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="47b6f-173">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)

-   [<span data-ttu-id="47b6f-174">sys.dm_os_buffer_descriptors&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="47b6f-174">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)

 <span data-ttu-id="47b6f-175">성능 카운터는 SQL Server, Buffer Manager 개체에서 버퍼 풀 확장 파일에 있는 데이터 페이지를 추적하기 위해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-175">Performance counters are available in the SQL Server, Buffer Manager Object to track the data pages in the buffer pool extension file.</span></span> <span data-ttu-id="47b6f-176">자세한 내용은 [버퍼 풀 확장 성능 카운터](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md)를 참조하십시오.</span><span class="sxs-lookup"><span data-stu-id="47b6f-176">For more information, see [buffer pool extension performance counters](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md).</span></span>

 <span data-ttu-id="47b6f-177">다음과 같은 Xevent를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-177">The following Xevents are available.</span></span>

|<span data-ttu-id="47b6f-178">XEvent</span><span class="sxs-lookup"><span data-stu-id="47b6f-178">XEvent</span></span>|<span data-ttu-id="47b6f-179">Description</span><span class="sxs-lookup"><span data-stu-id="47b6f-179">Description</span></span>|<span data-ttu-id="47b6f-180">매개 변수</span><span class="sxs-lookup"><span data-stu-id="47b6f-180">Parameters</span></span>|
|------------|-----------------|----------------|
|<span data-ttu-id="47b6f-181">sqlserver.buffer_pool_extension_pages_written</span><span class="sxs-lookup"><span data-stu-id="47b6f-181">sqlserver.buffer_pool_extension_pages_written</span></span>|<span data-ttu-id="47b6f-182">페이지 또는 페이지 그룹을 버퍼 풀에서 제거하여 버퍼 풀 확장 파일에 쓸 때 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-182">Fires when a page or group of pages are evicted from the buffer pool and written to the buffer pool extension file.</span></span>|<span data-ttu-id="47b6f-183">number_page</span><span class="sxs-lookup"><span data-stu-id="47b6f-183">number_page</span></span><br /><br /> <span data-ttu-id="47b6f-184">first_page_id</span><span class="sxs-lookup"><span data-stu-id="47b6f-184">first_page_id</span></span><br /><br /> <span data-ttu-id="47b6f-185">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="47b6f-185">first_page_offset</span></span><br /><br /> <span data-ttu-id="47b6f-186">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="47b6f-186">initiator_numa_node_id</span></span>|
|<span data-ttu-id="47b6f-187">sqlserver.buffer_pool_extension_pages_read</span><span class="sxs-lookup"><span data-stu-id="47b6f-187">sqlserver.buffer_pool_extension_pages_read</span></span>|<span data-ttu-id="47b6f-188">페이지를 버퍼 풀 확장 파일에서 가져와서 버퍼 풀에 쓸 때 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-188">Fires when a page is read from the buffer pool extension file to the buffer pool.</span></span>|<span data-ttu-id="47b6f-189">number_page</span><span class="sxs-lookup"><span data-stu-id="47b6f-189">number_page</span></span><br /><br /> <span data-ttu-id="47b6f-190">first_page_id</span><span class="sxs-lookup"><span data-stu-id="47b6f-190">first_page_id</span></span><br /><br /> <span data-ttu-id="47b6f-191">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="47b6f-191">first_page_offset</span></span><br /><br /> <span data-ttu-id="47b6f-192">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="47b6f-192">initiator_numa_node_id</span></span>|
|<span data-ttu-id="47b6f-193">sqlserver.buffer_pool_extension_pages_evicted</span><span class="sxs-lookup"><span data-stu-id="47b6f-193">sqlserver.buffer_pool_extension_pages_evicted</span></span>|<span data-ttu-id="47b6f-194">페이지를 버퍼 풀 확장 파일에서 제거할 때 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-194">Fires when a page is evicted from the buffer pool extension file.</span></span>|<span data-ttu-id="47b6f-195">number_page</span><span class="sxs-lookup"><span data-stu-id="47b6f-195">number_page</span></span><br /><br /> <span data-ttu-id="47b6f-196">first_page_id</span><span class="sxs-lookup"><span data-stu-id="47b6f-196">first_page_id</span></span><br /><br /> <span data-ttu-id="47b6f-197">first_page_offset</span><span class="sxs-lookup"><span data-stu-id="47b6f-197">first_page_offset</span></span><br /><br /> <span data-ttu-id="47b6f-198">initiator_numa_node_id</span><span class="sxs-lookup"><span data-stu-id="47b6f-198">initiator_numa_node_id</span></span>|
|<span data-ttu-id="47b6f-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span><span class="sxs-lookup"><span data-stu-id="47b6f-199">sqlserver.buffer_pool_eviction_thresholds_recalculated</span></span>|<span data-ttu-id="47b6f-200">제거 임계값을 계산할 때 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-200">Fires when the eviction threshold is calculated.</span></span>|<span data-ttu-id="47b6f-201">warm_threshold</span><span class="sxs-lookup"><span data-stu-id="47b6f-201">warm_threshold</span></span><br /><br /> <span data-ttu-id="47b6f-202">cold_threshold</span><span class="sxs-lookup"><span data-stu-id="47b6f-202">cold_threshold</span></span><br /><br /> <span data-ttu-id="47b6f-203">pages_bypassed_eviction</span><span class="sxs-lookup"><span data-stu-id="47b6f-203">pages_bypassed_eviction</span></span><br /><br /> <span data-ttu-id="47b6f-204">eviction_bypass_reason</span><span class="sxs-lookup"><span data-stu-id="47b6f-204">eviction_bypass_reason</span></span><br /><br /> <span data-ttu-id="47b6f-205">eviction_bypass_reason_description</span><span class="sxs-lookup"><span data-stu-id="47b6f-205">eviction_bypass_reason_description</span></span>|

## <a name="related-tasks"></a><span data-ttu-id="47b6f-206">관련 작업</span><span class="sxs-lookup"><span data-stu-id="47b6f-206">Related Tasks</span></span>

|||
|-|-|
|<span data-ttu-id="47b6f-207">**태스크 설명**</span><span class="sxs-lookup"><span data-stu-id="47b6f-207">**Task Description**</span></span>|<span data-ttu-id="47b6f-208">**항목**</span><span class="sxs-lookup"><span data-stu-id="47b6f-208">**Topic**</span></span>|
|<span data-ttu-id="47b6f-209">버퍼 풀 확장을 사용하도록 설정하고 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-209">Enable and configure the buffer pool extension.</span></span>|[<span data-ttu-id="47b6f-210">ALTER SERVER CONFIGURATION&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="47b6f-210">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="47b6f-211">버퍼 풀 확장 구성을 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-211">Modify the buffer pool extension configuration</span></span>|[<span data-ttu-id="47b6f-212">ALTER SERVER CONFIGURATION&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="47b6f-212">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)|
|<span data-ttu-id="47b6f-213">버퍼 풀 확장 구성을 봅니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-213">View the buffer pool extension configuration</span></span>|[<span data-ttu-id="47b6f-214">sys.dm_os_buffer_pool_extension_configuration&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="47b6f-214">sys.dm_os_buffer_pool_extension_configuration &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-pool-extension-configuration-transact-sql)|
|<span data-ttu-id="47b6f-215">버퍼 풀 확장을 모니터링합니다.</span><span class="sxs-lookup"><span data-stu-id="47b6f-215">Monitor the buffer pool extension</span></span>|[<span data-ttu-id="47b6f-216">sys.dm_os_buffer_descriptors&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="47b6f-216">sys.dm_os_buffer_descriptors &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-buffer-descriptors-transact-sql)<br /><br /> [<span data-ttu-id="47b6f-217">성능 카운터</span><span class="sxs-lookup"><span data-stu-id="47b6f-217">Performance counters</span></span>](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md)|


