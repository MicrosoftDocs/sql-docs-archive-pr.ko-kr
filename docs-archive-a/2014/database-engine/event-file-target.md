---
title: 이벤트 파일 대상 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- event file target
- file target [SQL Server extended events]
- targets [SQL Server extended events], file target
ms.assetid: 4f0ee6ec-a0a8-4c38-aa61-8293ab6ac7fd
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 1a64236b3874543982be5abbd8e60d8169082a1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/04/2020
ms.locfileid: "87732944"
---
# <a name="event-file-target"></a><span data-ttu-id="da807-102">Event File Target</span><span class="sxs-lookup"><span data-stu-id="da807-102">Event File Target</span></span>
  <span data-ttu-id="da807-103">이벤트 파일 대상은 전체 버퍼를 디스크에 기록하는 대상입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-103">The event file target is a target that writes complete buffers to disk.</span></span>  
  
 <span data-ttu-id="da807-104">다음 표에서는 이벤트 파일 대상을 구성하는 데 사용할 수 있는 옵션에 대해 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="da807-104">The following table describes the available options for configuring the event file target.</span></span>  
  
|<span data-ttu-id="da807-105">옵션</span><span class="sxs-lookup"><span data-stu-id="da807-105">Option</span></span>|<span data-ttu-id="da807-106">허용되는 값</span><span class="sxs-lookup"><span data-stu-id="da807-106">Allowed values</span></span>|<span data-ttu-id="da807-107">Description</span><span class="sxs-lookup"><span data-stu-id="da807-107">Description</span></span>|  
|------------|--------------------|-----------------|  
|<span data-ttu-id="da807-108">filename</span><span class="sxs-lookup"><span data-stu-id="da807-108">filename</span></span>|<span data-ttu-id="da807-109">최대 260자까지의 모든 문자열.</span><span class="sxs-lookup"><span data-stu-id="da807-109">Any string up to 260 characters.</span></span> <span data-ttu-id="da807-110">이 값은 필수입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-110">This value is required.</span></span>|<span data-ttu-id="da807-111">파일 위치 및 파일 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-111">The file location and filename.</span></span><br /><br /> <span data-ttu-id="da807-112">원하는 파일 확장명을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="da807-112">You can use any filename extension.</span></span>|  
|<span data-ttu-id="da807-113">max_file_size</span><span class="sxs-lookup"><span data-stu-id="da807-113">max_file_size</span></span>|<span data-ttu-id="da807-114">64비트 정수.</span><span class="sxs-lookup"><span data-stu-id="da807-114">Any 64 bit integer.</span></span> <span data-ttu-id="da807-115">이 값은 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-115">This value is optional.</span></span>|<span data-ttu-id="da807-116">최대 파일 크기(MB)입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-116">The maximum file size in megabytes (MB).</span></span> <span data-ttu-id="da807-117">max_file_size가 지정되지 않은 경우 파일 크기는 디스크가 꽉 찰 때까지 증가합니다.</span><span class="sxs-lookup"><span data-stu-id="da807-117">If max_file_size is not specified, the file will grow until the disk is full.</span></span> <span data-ttu-id="da807-118">기본 파일 크기는 1GB입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-118">The default file size is 1GB.</span></span><br /><br /> <span data-ttu-id="da807-119">max_file_size는 세션 버퍼의 현재 크기보다 커야 합니다.</span><span class="sxs-lookup"><span data-stu-id="da807-119">max_file_size must be larger than the current size of the session buffers.</span></span> <span data-ttu-id="da807-120">그렇지 않으면 파일 대상은 초기화에 실패하고 max_file_size가 잘못되었다고 보고합니다.</span><span class="sxs-lookup"><span data-stu-id="da807-120">If it is not, the file target will fail to initialize, reporting that the max_file_size is invalid.</span></span> <span data-ttu-id="da807-121">버퍼의 현재 크기를 보려면 [sys.dm_xe_sessions](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-sessions-transact-sql) 동적 관리 뷰의 buffer_size 열을 쿼리합니다.</span><span class="sxs-lookup"><span data-stu-id="da807-121">To view the current size of the buffers, query the buffer_size column in the [sys.dm_xe_sessions](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-sessions-transact-sql) dynamic management view.</span></span><br /><br /> <span data-ttu-id="da807-122">기본 파일 크기가 세션 버퍼 크기보다 작으면 max_file_size를 [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) 카탈로그 뷰의 max_memory 열에 지정된 값으로 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="da807-122">If the default file size is smaller than the session buffer size, we recommend setting max_file_size to the value specified in the max_memory column in the [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) catalog view.</span></span><br /><br /> <span data-ttu-id="da807-123">max_file_size가 세션 버퍼보다 크게 설정된 경우 세션 버퍼 크기의 배수 중에서 가장 가까운 값으로 반내림될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="da807-123">When max_file_size is set to a size larger than the size of the session buffers, it may be rounded down to the nearest multiple of the session buffer size.</span></span> <span data-ttu-id="da807-124">그러면 지정된 max_file_size 값보다 작은 대상 파일이 생성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="da807-124">This may create a target file that is smaller than the specified value of max_file_size.</span></span> <span data-ttu-id="da807-125">예를 들어 버퍼 크기가 100MB이고 max_file_size가 150MB로 설정된 경우 두 번째 버퍼가 남은 50MB 공간에 들어가지 않기 때문에 결과 파일 크기는 100MB로 반내림됩니다.</span><span class="sxs-lookup"><span data-stu-id="da807-125">For example, if the buffer size is 100MB and max_file_size is set to 150MB, the resultant file size is rounded down to 100MB because a second buffer would not fit in the remaining 50MB of space.</span></span><br /><br /> <span data-ttu-id="da807-126">기본 파일 크기가 세션 버퍼 크기보다 작으면 max_file_size를 [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) 카탈로그 뷰의 max_memory 열에 있는 값으로 설정하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="da807-126">If the default file size is smaller than the session buffer size, we recommend setting max_file_size to the value in the max_memory column in the [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) catalog view.</span></span>|  
|<span data-ttu-id="da807-127">max_rollover_files</span><span class="sxs-lookup"><span data-stu-id="da807-127">max_rollover_files</span></span>|<span data-ttu-id="da807-128">32비트 정수.</span><span class="sxs-lookup"><span data-stu-id="da807-128">Any 32 bit integer.</span></span> <span data-ttu-id="da807-129">이 값은 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-129">This value is optional.</span></span>|<span data-ttu-id="da807-130">파일 시스템에 보관할 최대 파일 수입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-130">The maximum number of files to retain in the file system.</span></span> <span data-ttu-id="da807-131">기본값은 5입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-131">The default value is 5.</span></span>|  
|<span data-ttu-id="da807-132">increment</span><span class="sxs-lookup"><span data-stu-id="da807-132">increment</span></span>|<span data-ttu-id="da807-133">32비트 정수.</span><span class="sxs-lookup"><span data-stu-id="da807-133">Any 32 bit integer.</span></span> <span data-ttu-id="da807-134">이 값은 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-134">This value is optional.</span></span>|<span data-ttu-id="da807-135">파일의 증가분(MB)입니다.</span><span class="sxs-lookup"><span data-stu-id="da807-135">The incremental growth, in megabytes (MB), for the file.</span></span> <span data-ttu-id="da807-136">이 값이 지정되지 않은 경우 증분에 대한 기본값은 세션 버퍼 크기의 두 배가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="da807-136">If unspecified, the default value for increment is twice the session buffer size.</span></span>|  
  
 <span data-ttu-id="da807-137">이벤트 파일 대상이 처음 만들어질 때 지정한 파일 이름에는 _0\_ 과 정수(Long) 값이 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="da807-137">The first time that an event file target is created, the filename you specify is appended with _0\_ and a long integer value.</span></span> <span data-ttu-id="da807-138">정수 값은 1601 년 1 월 1 일에서 파일을 만든 날짜와 시간 사이의 밀리초 수로 계산 됩니다.</span><span class="sxs-lookup"><span data-stu-id="da807-138">The integer value is calculated as the number of milliseconds between January 1, 1601 and the date and time the file is created.</span></span> <span data-ttu-id="da807-139">이후의 롤오버 파일도 이 형식을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="da807-139">Subsequent rollover files also use this format.</span></span> <span data-ttu-id="da807-140">정수(Long) 값을 검토하면 가장 최근 파일을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="da807-140">From examining the value of the long integer, you can determine the most current file.</span></span> <span data-ttu-id="da807-141">다음 예에서는 파일 이름 옵션을 C:\OutputFiles\MyOutput.xel로 지정한 경우 파일의 이름이 지정되는 방식을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="da807-141">The following example illustrates how files are named in a scenario where you specify the filename option as C:\OutputFiles\MyOutput.xel:</span></span>  
  
-   <span data-ttu-id="da807-142">처음 생성된 파일 - C:\OutputFiles\MyOutput_0_128500310259380000.xel</span><span class="sxs-lookup"><span data-stu-id="da807-142">first file created - C:\OutputFiles\MyOutput_0_128500310259380000.xel</span></span>  
  
-   <span data-ttu-id="da807-143">첫 번째 롤오버 파일 - C:\OutputFiles\MyOutput_0_128505831770890000.xel</span><span class="sxs-lookup"><span data-stu-id="da807-143">first rollover file - C:\OutputFiles\MyOutput_0_128505831770890000.xel</span></span>  
  
-   <span data-ttu-id="da807-144">두 번째 롤오버 파일 - C:\OutputFiles\MyOutput_0_132410772966237000.xel</span><span class="sxs-lookup"><span data-stu-id="da807-144">second rollover file - C:\OutputFiles\MyOutput_0_132410772966237000.xel</span></span>  
  
## <a name="adding-the-target-to-a-session"></a><span data-ttu-id="da807-145">세션에 대상 추가</span><span class="sxs-lookup"><span data-stu-id="da807-145">Adding the Target to a Session</span></span>  
 <span data-ttu-id="da807-146">확장 이벤트 세션에 이벤트 파일 대상을 추가하려면 이벤트 세션을 만들거나 변경할 때 다음 문을 포함합니다. 문에서 *file_name* 을 원하는 파일 이름 및 경로로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="da807-146">To add the event file target to an Extended Events session, you would include the following statements when you create or alter an event session, replacing *file_name* with the desired file name and path:</span></span>  
  
```  
ADD TARGET package0.event_file(  
   SET filename='file_name.xel')  
```  
  
## <a name="reviewing-the-target-output"></a><span data-ttu-id="da807-147">대상 출력 검토</span><span class="sxs-lookup"><span data-stu-id="da807-147">Reviewing the Target Output</span></span>  
 <span data-ttu-id="da807-148">파일 대상의 출력을 검토하려면 sys.fn_xe_file_target_read_file 함수를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="da807-148">To review the output from the file target, you must use the sys.fn_xe_file_target_read_file function.</span></span> <span data-ttu-id="da807-149">데이터를 XML로 캐스팅하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="da807-149">We recommend that you cast the data as XML.</span></span> <span data-ttu-id="da807-150">다음 구문을 사용할 수 있습니다. 구문에서 *file_name* 을 대상을 추가할 때 지정한 파일 이름 및 경로로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="da807-150">You can use the following syntax, replacing *file_name* with the file name and path that you specified when you added the target:</span></span>  
  
```  
SELECT *, CAST(event_data AS XML) AS 'event_data_XML'  
FROM sys.fn_xe_file_target_read_file('file_name*.xel', NULL, NULL, NULL)  
```  
  
## <a name="see-also"></a><span data-ttu-id="da807-151">참고 항목</span><span class="sxs-lookup"><span data-stu-id="da807-151">See Also</span></span>  
 <span data-ttu-id="da807-152">[SQL Server 확장 이벤트 대상](../../2014/database-engine/sql-server-extended-events-targets.md) </span><span class="sxs-lookup"><span data-stu-id="da807-152">[SQL Server Extended Events Targets](../../2014/database-engine/sql-server-extended-events-targets.md) </span></span>  
 <span data-ttu-id="da807-153">[fn_xe_file_target_read_file &#40;Transact-sql&#41;](/sql/relational-databases/system-functions/sys-fn-xe-file-target-read-file-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="da807-153">[sys.fn_xe_file_target_read_file &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/sys-fn-xe-file-target-read-file-transact-sql) </span></span>  
 <span data-ttu-id="da807-154">[CREATE EVENT SESSION&#40;Transact-SQL&#41;](/sql/t-sql/statements/create-event-session-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="da807-154">[CREATE EVENT SESSION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-event-session-transact-sql) </span></span>  
 [<span data-ttu-id="da807-155">ALTER EVENT SESSION&#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="da807-155">ALTER EVENT SESSION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-event-session-transact-sql)  
  
  
